!function(global,document){"use strict";const PARSELINEX=/([^\:]+):([^\;]*)(;)?/,PARSEREGEX=/((?!\*debugfile)[^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|((?!\*debugfile)[^\;\{\}]+\;(?!\s*\*\/))|(\*debugfile[\s\S]*?\*)/gim,PARSESEL=1,PARSEEND=2,PARSEATTR=3,PARSEDEBUG=4,COLONSELS="^((active|any\\-link|blank|checked|current|default|disabled|drop|empty|enabled|first\\-child|first\\-of\\-type|focus|focus\\-visible|focus\\-within|future|hover|indeterminate|in\\-range|invalid|last\\-child|last\\-of\\-type|link|local\\-link|only\\-child|only\\-of\\-type|optional|out\\-of\\-range|past|paused|placeholder\\-shown|playing|read\\-only|read\\-write|required|root|scope|target|target\\-within|user\\-error|user\\-invalid|valid|visited)(?![\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w_\\-])|(current|dir|drop|has|is|lang|not|nth\\-column|nth\\-child|nth\\-last\\-child|nth\\-last\\-column|nth\\-last\\-of\\-type|nth\\-of\\-type|where)\\()",DYNAMICCHARS={",":"_ACSS_later_comma","{":"_ACSS_later_brace_start","}":"_ACSS_later_brace_end",";":"_ACSS_later_semi_colon",":":"_ACSS_later_colon",'"':"_ACSS_later_double_quote"};window.ActiveCSS={},"undefined"!=typeof module&&(module.exports=ActiveCSS);var coreVersionExtension="2-0-0",_a={},_c={},parsedConfig={},config=[],configArr=[],configLine="",configFile="",lazyConfig=[],concatConfig="",concatConfigCo=0,concatConfigLen=0,currentPage="",ajaxResLocations={},pageList=[],eventState={},delayArr=[],cancelIDArr=[],cancelCustomArr=[],selectors=[],userSetupStarted=!1,autoStartInit=!1,setupEnded=!1,clickOutsideSet=!1,clickOutsideSels=[],mimicClones=[],currDocTitle=document.title,debugMode="",conditionals=[],components=[],mediaQueries=[],mediaQueriesOrig=[],activeIDTrack=0,scriptTrack=[],debuggerActive=!1,debuggerness=!1,debuggerExtID=null,debuggerEvs=["afterLoadConfig"],debuggerCo=0,evEditorExtID=null,evEditorActive=!1,devtoolsInit=[],scoped={},scopedVars=null,scopedData={},labelData=[],labelByIDs=[],customTags=[],shadowCo=0,shadowPending={},shadowSels=[],shadowDoms={},preGetMax=6,preGetMid=0,reverseShadowEvs={},allEvents=[],doesPassive=!1,preSetupEvents=[],nonPassiveEvents=[],passiveEvents=!0,inlineConfigTags=null,supportsShadow=!0;ActiveCSS.customHTMLElements={},_a.AddClass=a=>{ActiveCSS._addClassObj(a.secSelObj,a.actVal)},_a.Ajax=a=>{a.url=a.actVal.split(" ")[0]._ACSSRepQuo(),_ajaxDo(a)},_a.AjaxFormPreview=a=>{a.formPreview=!0,_a.AjaxFormSubmit(a)},_a.AjaxFormSubmit=a=>{a.formSubmit=!0;const n=a.secSelObj;n?(a.url=n.action,_ajaxDo(a)):console.log("Form "+a.secSel+" not found.")},_a.AjaxPreGet=a=>{a.preGet=!0,_a.Ajax(a)},_a.Alert=a=>{alert(a.actVal._ACSSRepQuo())},_a.Blur=a=>{document.activeElement.blur()},_a.CancelTimer=a=>{let n,r,l,s,c=a.actVal.trim(),i=c._ACSSConvFunc(),u=!0,d=a.shadowRef?a.shadowRef:"main";if(labelData[d+c]){let a=labelData[d+c];_clearTimeouts(delayArr[a.del][a.func][a.pos][a.loopRef]),_removeCancel(a.del,a.func,a.pos,a.loopRef)}else{if(l=["~","|"].includes(a.secSel.substr(0,1))?a.secSel:_getActiveID(a.secSelObj),!l)return;if(delayArr[l])if("all"==c)for(n in delayArr[l])for(r in delayArr[l][n])for(s in delayArr[l][n][r])_clearTimeouts(delayArr[l][n][r][s]),_removeCancel(l,n,r,s);else if(delayArr[l]&&delayArr[l][i])for(r in delayArr[l][i])for(s in delayArr[l][i][r])_clearTimeouts(delayArr[l][i][r][s]),_removeCancel(l,i,r,s);else u=!1;else u=!1;if(!u){let n,r=[];if(Object.keys(delayArr).forEach((function(n){["~","|"].includes(n.substr(0,1))||a.doc.querySelectorAll(n).forEach((function(a,n){r.push(_getActiveID(a))}))})),"object"==typeof a.secSel)n=_getActiveID(a.secSel),cancelIDArr[n]&&cancelIDArr[n][i]||!r.includes(n)||_addCancelAttr(a.secSel,i);else if(["~","|"].includes(a.secSel.substr(0,1))){if(!(delayArr[l]&&delayArr[l][i]&&delayArr[l][i][a.actPos]&&delayArr[l][i][a.actPos][a.loopRef]))return;cancelCustomArr.push([a.secSel][i][a.actPos][a.loopRef])}else a.doc.querySelectorAll(a.secSel).forEach((function(a){n=_getActiveID(a),cancelIDArr[n]&&cancelIDArr[n][i]||!r.includes(n)||_addCancelAttr(a,i)}))}}},_a.CancelTimerAll=a=>{_unloadAllCancelTimer()},_a.ClickOnFirst=a=>{_a.FocusOn(a)},_a.ClickOnLast=a=>{_a.FocusOn(a,"l")},_a.ClickOnNext=a=>{_a.FocusOn(a,"n")},_a.ClickOnNextCycle=a=>{_a.FocusOn(a,"nc")},_a.ClickOnPrevious=a=>{_a.FocusOn(a,"p")},_a.ClickOnPreviousCycle=a=>{_a.FocusOn(a,"pc")},_a.ClickoutsideEvent=a=>{let n=_getActiveID(a.secSelObj);-1!==a.actVal.indexOf("true")?setTimeout((function(){clickOutsideSels[n]=[],clickOutsideSels[n][0]=!0,clickOutsideSet=!0,-1!==a.actVal.indexOf("continue")&&(clickOutsideSels[n][1]=!0)}),50):clickOutsideSels[n]&&(clickOutsideSels[n][0]=!1,clickOutsideSet=!1)},_a.Clone=a=>{let n=_getSel(a,a.actVal),r=n.dataset.activeid;if(n)if("IFRAME"==n.tagName){if("complete"!=n.contentWindow.document.readyState)return setTimeout(_a.Clone.bind(this,a),200),!1;mimicClones[r]=document.importNode(n.contentWindow.document.body,!0)}else mimicClones[r]=document.importNode(n,!0)},_a.ConsoleLog=a=>{console.log(a.actVal._ACSSRepQuo())},_a.CopyToClipboard=a=>{let n=_getSel(a,a.actVal);if(-1!==["INPUT","TEXTAREA"].indexOf(n.tagName)){let a="readonly"==n.getAttribute("readonly");n.removeAttribute("readonly"),n.select(),document.execCommand("copy"),a&&n.setAttribute("readonly","readonly")}else{let a=document.createElement("textarea");a.id="activecss-copy-field",a.innerHTML=n.innerText,document.body.appendChild(a);let r=document.getElementById("activecss-copy-field");r.select(),document.execCommand("copy"),ActiveCSS._removeObj(r)}},_a.CreateCommand=a=>{let n=a.actVal.trim().split(" ")[0],r=a.actVal.replace(n,"").trim();n=n._ACSSConvFunc(),_a[n]||(r=ActiveCSS._sortOutFlowEscapeChars(r).slice(2,-2),r=_handleVarsInJS(r),r="let actionName = o.actName,actionPosition = o.actPos,actionValue = o.actVal,actionValueUnEval = o.actValSing,actionValuesUnEval = o.origActVal,actionFunc = o.func,eventSelector = o.obj,eventSelectorName = o.primSel,carriedEventObject = o.ajaxObj,conditionals = o.passCond,targetSelector = o.secSelObj,targetSelectorName = o.origSecSel,activeID = o.activeID,doc = o.doc,e = o.e,eventName = o.event,configFile = o.file,configLine = o.line,rulesArray = o.rules,selectorRef = o.secSel,shadowDoc = o.shadowDoc,component = o.component,_loopVars = o.loopVars,_loopRef = o.loopRef,_activeVarScope = (o.shadowRef) ? o.shadowRef : \"main\";scopedVars[_activeVarScope] = (typeof scopedVars[_activeVarScope] === 'undefined') ? {} : scopedVars[_activeVarScope];"+r,_a[n]=new Function("o","scopedVars",r))},_a.CreateConditional=a=>{let n=a.actVal.trim().split(" ")[0],r=a.actVal.replace(n,"").trim();n=n._ACSSConvFunc(),_c[n]||(r=ActiveCSS._sortOutFlowEscapeChars(r).slice(2,-2),r=_handleVarsInJS(r),r="let conditionalName = o.actName,conditionalFunc = o.func,conditionalValue = o.actVal,eventSelectorName = o.primSel,eventSelector = o.obj,e = o.e,doc = o.doc,component = o.component,shadowDoc = o.shadowDoc,carriedEventObject = o.ajaxObj,_activeVarScope = (o.shadowRef) ? o.shadowRef : \"main\";scopedVars[_activeVarScope] = (typeof scopedVars[_activeVarScope] === 'undefined') ? {} : scopedVars[_activeVarScope];"+r,_c[n]=new Function("o","scopedVars",r))},_a.CreateElement=a=>{let n,r,l,s,c,i=a.actVal,u="";if(n=i.split(" ")[0],!customTags.includes(n)){for(l of(i=i.replace(n,"").trim(),r=_getParVal(i,"observe").split(" "),r))l&&(u+="'"+l.trim()+"',");customTags.push(n),s=n._ACSSConvFunc(),c="ActiveCSS.customHTMLElements."+s+" = class "+s+" extends HTMLElement {",u&&(c+="static get observedAttributes() {return ["+u.slice(0,-1)+"];}"),c+="constructor() {super();}connectedCallback() {_handleEvents({ obj: this, evType: 'connectedCallback' });}disconnectedCallback() {_handleEvents({ obj: this, evType: 'disconnectedCallback', runButElNotThere: true });}adoptedCallback() {_handleEvents({ obj: this, evType: 'adoptedCallback' });}",u&&(c+="attributeChangedCallback(name, oldVal, newVal) {if (!oldVal) return;this.setAttribute(name + '-old', oldVal); let ref = this.getAttribute('data-activeid').replace('d-', '') + 'HOST' + name;ActiveCSS._varUpdateDom([{currentPath: ref, previousValue: oldVal, newValue: newVal, type: 'update'}]);_handleEvents({ obj: this, evType: 'attrChange-' + name });}"),c+="};customElements.define('"+n+"', ActiveCSS.customHTMLElements."+s+");",Function("_handleEvents",'"use strict";'+c)(_handleEvents)}},_a.Eval=o=>{let evalContent=ActiveCSS._sortOutFlowEscapeChars(o.actVal.trim().slice(2,-2));eval(evalContent)},_a.FocusOff=a=>{_a.Blur(a)},_a.FocusOn=(a,n,r=!1)=>{let l,s,c,i,u,d=!1,p=1,f=a.actVal;"pcc"!=n&&"ncc"!=n||(-1!==f.indexOf(" click")&&(d=!0,f=f.replace(/ click/,"")),f=f.replace(/ ([\d]+)( |$)?/gm,(function(a,n){return p=n,""})),f=f.trim());if(-1!==["l","n","p","nc","pc","ncc","pcc"].indexOf(n))if("l"!=n)c=_getFocusedOfNodes(f),s=c[0],i=c[1],"pcc"!=n&&"ncc"!=n||p>s.length&&(p%=s.length);else{let a=_splitIframeEls(f);if(!a)return!1;s=a[0].querySelectorAll(a[1])||null}switch(n){case"p":case"pc":case"pcc":if("p"==n){if(0===i)return}else i=p>i?s.length-p-i+1:i-p+1;l=s[i-1];break;case"n":case"nc":case"ncc":if("n"==n){if(i==s.length-1)return}else i=s.length<=p+i?p+i-s.length-1:i+p-1;l=s[i+1];break;case"l":l=s[s.length-1];break;default:l=_getSel(a,f)}if(l)return u="FORM"==l.tagName?l.elements[0]:l,!d||"pcc"!=n&&"ncc"!=n?r||("Click"==a.func.substr(0,5)?ActiveCSS.trigger(u,"click"):u.focus()):(ActiveCSS.trigger(u,"click"),setTimeout((function(){u.focus()}),0)),u},_a.FocusOnFirst=a=>{_a.FocusOn(a)},_a.FocusOnLast=a=>{_a.FocusOn(a,"l")},_a.FocusOnNext=a=>{_a.FocusOn(a,"n")},_a.FocusOnNextCycle=a=>{_a.FocusOn(a,"nc")},_a.FocusOnPrevious=a=>{_a.FocusOn(a,"p")},_a.FocusOnPreviousCycle=a=>{_a.FocusOn(a,"pc")},_a.FormReset=a=>{let n=_getSel(a,a.actVal);n&&"FORM"==n.tagName&&n.reset()},_a.FullscreenExit=a=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},_a.FullscreenOn=a=>{let n=a.secSelObj;n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen()},_a.Func=a=>{let n=[];a.actVal=a.actVal._ACSSSpaceQuoIn();let r=a.actVal.trim().split(" "),l=r.splice(0,1);if("function"!=typeof window[l])console.log(l+" is not a function.");else{let s;for(s of r)s="true"==s||"false"!=s&&(isNaN(s)?s._ACSSSpaceQuoOut()._ACSSRepQuo():parseFloat(s)),n.push(s);window[l](a,n)}},_a.IframeReload=a=>{let n=a.secSelObj.cloneNode(!1);a.secSelObj.parentNode.insertBefore(n,a.secSelObj),ActiveCSS._removeObj(a.secSelObj)},_a.LoadConfig=a=>{a.actVal=a.actVal._ACSSRepQuo().trim(),_addActValRaw(a),configArr.includes(a.avRaw)?_handleEvents({obj:a.obj,evType:"afterLoadConfig"}):(a.file=a.actVal,_getFile(a.actVal,"txt",a))},_a.LoadImages=a=>{let n=a.actVal;a.doc.querySelectorAll("img["+n+"], picture source["+n+"]").forEach((function(a,r){let l="IMG"==a.tagName?"src":"srcset";a.setAttribute(l,a.getAttribute(n)),a.removeAttribute(n)}))},_a.LoadScript=(a,n)=>{let r=a.actVal._ACSSRepQuo(),l=_getBaseURL(r);if(!scriptTrack.includes(l)){let s="style"==n?"link":"script",c="style"==n?"href":"src",i=a.doc.createElement(s);"style"==n&&(i.rel="stylesheet"),i[c]=r,a.doc.head.appendChild(i),scriptTrack.push(l)}},_a.LoadStyle=a=>{_a.LoadScript(a,"style")},_a.Location=a=>{let n=a.actVal._ACSSRepQuo();a.doc.location.href=n},_a.MediaControl=a=>{let n=a.secSelObj,r=a.actVal.split(" ");if(r[1])switch(r[1]=r[1]._ACSSRepQuo(),r[0]){case"load":n.setAttribute("src",r[1]);break;case"seek":n.currentTime=parseFloat(r[1]);break;case"volume":n.volume=parseFloat(r[1])}switch(r[0]){case"play":n.play();break;case"pause":n.pause();break;case"load":n.load()}},_a.MimicInto=a=>{let n,r,l,s,c;if(n=a.secSelObj,"title"==a.actVal)c="title",r="title",l=currDocTitle;else{if(c=_getSel(a,a.actVal),!c)return;r="INPUT"==c.tagName||"TEXTAREA"==c.tagName?"input":"text"}s=_getFieldValType(n),"title"!=a.actVal&&(l=n[s]);var i,u=0,d=a.secSelObj.form||a.secSelObj.closest("form");switch(d&&(d.cjsReset||(d.cjsReset=[],d.addEventListener("reset",_mimicReset)),"title"==r?d.cjsReset.title||(d.cjsReset.title=n.getAttribute("value")):n.activeResetValueSet||(u=d.cjsReset.length,d.cjsReset[u]={},d.cjsReset[u].el=c,d.cjsReset[u].value=l,d.cjsReset[u].type=r,n.activeResetValueSet=!0)),i=a.secSelObj[s],r){case"input":c.value=i;break;case"text":c.innerText=i;break;case"title":document.title=ActiveCSS._decodeHTML(i),currDocTitle=ActiveCSS._decodeHTML(i)}},_a.PreventDefault=a=>{a.e&&a.e.preventDefault()},_a.Remove=a=>{let n=_splitIframeEls(a.actVal);if(!n)return!1;n[0].querySelectorAll(n[1]).forEach((function(a){ActiveCSS._removeObj(a)}))},_a.RemoveAttribute=a=>{a.secSelObj.removeAttribute(a.actVal)},_a.RemoveClass=a=>(ActiveCSS._removeClassObj(a.secSelObj,a.actVal),!0),_a.RemoveClone=a=>{let n=_getSel(a,a.actVal).dataset.activeid;n&&(mimicClones[n]=null)},_a.RemoveCookie=a=>{let n=a.actVal.split(" ");if(!n[0])return!1;n[1]=n[1]?n[1]._ACSSRepQuo():null,n[2]=n[2]?n[2]._ACSSRepQuo():null;let r=encodeURIComponent(n[0])+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n[1]?"; path="+n[1]:"")+(n[2]?"; domain="+n[2]:"");return document.cookie=r,!0},_a.RemoveProperty=a=>{a.secSelObj.style.removeProperty(a.actVal)},_a.Render=a=>{let n=_handleQuoAjax(a,a.actVal);n=_replaceComponents(a,n),n=-1!==n.indexOf("{$")?_replaceStringVars(a.ajaxObj,n):n,_renderIt(a,n)},_a.RenderAfterBegin=a=>{a.renderPos="afterbegin",_a.Render(a)},_a.RenderAfterEnd=a=>{a.renderPos="afterend",_a.Render(a)},_a.RenderBeforeBegin=a=>{a.renderPos="beforebegin",_a.Render(a)},_a.RenderBeforeEnd=a=>{a.renderPos="beforeend",_a.Render(a)},_a.RestoreClone=a=>{let n=_getSel(a,a.actVal),r=n.dataset.activeid;if(mimicClones[r])if("IFRAME"==n.tagName){if("complete"!=n.contentWindow.document.readyState)return!1;setTimeout((function(){n.contentWindow.document.body=mimicClones[r]}),0)}else setTimeout((function(){let l=n.parentNode;l.replaceChild(mimicClones[r],n),_a.Trigger({secSel:"",actVal:"draw",secSelObj:l,ajaxObj:a.ajaxObj,e:a.el||null})}),0)},_a.Run=a=>{let n,r='"use strict";'+a.actVal.replace(/\{\=([\s\S]*?)\=\}/m,(function(a,r){return n=_handleVarsInJS(ActiveCSS._sortOutFlowEscapeChars(r)),n})),l=a.shadowRef?a.shadowRef:"main";scopedVars[l]=void 0===scopedVars[l]?{}:scopedVars[l];try{Function("scopedVars, _activeVarScope",r)(scopedVars,l)}catch(a){console.log("Function syntax error ("+a+"): "+r)}},_a.ScrollIntoView=a=>{let n=a.actVal.split(" "),r="start",l="nearest",s=_optDef(n,"behaviour-smooth","smooth","auto");"true"==a.actVal||"false"==a.actVal&&(r="end"),r=_optDef(n,"block-center","center",r),r=_optDef(n,"block-end","end",r),r=_optDef(n,"block-nearest","nearest",r),l=_optDef(n,"inline-center","center",l),l=_optDef(n,"inline-end","end",l),l=_optDef(n,"inline-nearest","nearest",l);try{a.secSelObj.scrollIntoView({behaviour:s,block:r,inline:l})}catch(n){a.secSelObj.scrollIntoView({behaviour:s,inline:l})}},_a.ScrollX=a=>{if("body"==a.secSel)"left"==a.actVal?window.scrollTo({left:0}):"right"==a.actVal?window.scrollTo({left:1e7}):window.scrollTo({left:a.actVal});else{let n=a.secSelObj;"left"==a.actVal?n.scrollLeft=0:"right"==a.actVal?n.scrollLeft=1e7:n.scrollLeft=a.actVal}},_a.ScrollY=a=>{if("body"==a.secSel)"top"==a.actVal?window.scrollTo({top:0}):"bottom"==a.actVal?window.scrollTo({top:1e7}):window.scrollTo({top:a.actVal});else{let n=a.secSelObj;n&&("top"==a.actVal?n.scrollTop=0:"bottom"==a.actVal?n.scrollTop=n.scrollHeight:n.scrollTop=a.actVal)}},_a.SelectAll=a=>{requestAnimationFrame(()=>document.execCommand("selectAll"))},_a.SelectNone=a=>{getSelection().removeAllRanges()},_a.SetAttribute=a=>{a.actVal=a.actVal._ACSSSpaceQuoIn();let n=a.actVal.split(" ");n[1]=_handleQuoAjax(a,n[1])._ACSSSpaceQuoOut(),a.secSelObj.setAttribute(n[0],n[1])},_a.SetClass=a=>{let n=a.actVal.replace(/\./g,"");_setClassObj(a.secSelObj,n)},_a.SetCookie=a=>{let n=a.actVal;n=n.replace(/\\\"/g,"_ACSS_escaped_quote"),n=n._ACSSSpaceQuoIn(),n=n.replace(/_ACSS_escaped_quote/g,'\\"');let r=n.split(" ");r[1]=r[1]?r[1]._ACSSSpaceQuoOut()._ACSSRepQuo():"",r[2]=r[2]?r[2].replace(/_ACSS_space/g," ")._ACSSRepQuo():"",r[2]="Infinity"==r[2]?1/0:"Year"==r[2]?31536e3:/^[0-9e]+$/.test(r[2])?+r[2]:r[2],r[3]=r[3]?r[3]._ACSSRepQuo():null,r[4]=r[4]?r[4]._ACSSRepQuo():null,r[5]="true"==r[5]||"false"!=r[5]&&null,"true"!=r[2]||r[3]||r[4]||r[5]||(r[2]=null,r[5]=!0),"false"!=r[2]||r[3]||r[4]||r[5]||(r[2]=null,r[5]=!1),"true"!=r[3]||r[4]||r[5]||(r[3]=null,r[5]=!0),"false"!=r[3]||r[4]||r[5]||(r[3]=null,r[5]=!1),"true"!=r[4]||r[5]||(r[4]=null,r[5]=!0),"false"!=r[4]||r[5]||(r[4]=null,r[5]=!1),_setCookie(r[0],r[1],r[2],r[3],r[4],r[5])||console.log("set-cookie "+r[0]+" failed")},_a.SetProperty=a=>{a.actVal=a.actVal._ACSSSpaceQuoIn();let n=a.actVal.split(" ");n[1]=_handleQuoAjax(a,n[1])._ACSSSpaceQuoOut(),a.secSelObj[n[0]]="true"==n[1]||"false"!=n[1]&&n[1]},_a.StopImmediatePropagation=a=>{a.e&&a.e.stopImmediatePropagation(),"object"==typeof a.obj&&(a.obj.activeStopProp=!0)},_a.StopPropagation=a=>{a.e&&a.e.stopPropagation(),"object"==typeof a.obj&&(a.obj.activeStopProp=!0)},_a.Style=a=>{let n=_handleQuoAjax(a,a.actVal).split(" "),r=n.shift();a.secSelObj.style[r]=n.join(" ")},_a.TakeClass=a=>{if(a.doc!=document)return console.log("Active CSS error - you cannot take a class if the element clicked on is not going to take the class. With iframes, use give-class instead."),!1;let n=a.actVal.substr(1);_eachRemoveClass(n,n,a.doc),_a.AddClass(a)},_a.ToggleClass=a=>{let n=a.actVal.replace(/\./g,"");_toggleClassObj(a.secSelObj,n)},_a.Trigger=a=>{"string"!=typeof a.obj||-1!==a.obj.indexOf("{@")||-1!==a.obj.indexOf("{$")||["~","|"].includes(a.obj.substr(0,1))?["~"].includes(a.secSel.substr(0,1))?_handleEvents({obj:a.secSel,evType:a.actVal,otherObj:a.ajaxObj||null,eve:a.e||null,origObj:a.obj||null,shadowRef:a.shadowRef,shadowDoc:a.shadowDoc,component:a.component}):"draw"==a.actVal?_runInnerEvent(a.secSelObj,"draw"):_handleEvents({obj:a.secSelObj,evType:a.actVal,otherObj:a.ajaxObj||null,eve:a.e||null,shadowRef:a.shadowRef,shadowDoc:a.shadowDoc,component:a.component}):a.doc.querySelectorAll(a.obj).forEach((function(n,r){["~"].includes(a.secSel.substr(0,1))?_handleEvents({obj:a.secSel,evType:a.actVal,otherObj:a.ajaxObj||null,eve:a.e||null,origObj:n,shadowRef:a.shadowRef,shadowDoc:a.shadowDoc,component:a.component}):_handleEvents({obj:a.secSel,evType:a.actVal,otherObj:a.ajaxObj||null,eve:a.e||null,shadowRef:a.shadowRef,shadowDoc:a.shadowDoc,component:a.component})}))},_a.TriggerReal=a=>{if(a.secSelObj.isConnected)try{a.secSelObj.addEventListener(a.actVal,(function(a){}),{capture:!0,once:!0}),a.secSelObj[a.actVal]()}catch(a){console.log("Active CSS error: Only DOM events support trigger-real.")}else _a.StopPropagation(a)},_a.UrlChange=a=>{let n=a.actVal.split(" ")[0],r=a.actVal.replace(n,"").trim();""==r&&(r=document.title),_urlTitle(n,r,a)},_a.Var=a=>{let n=a.actVal.trim().split(" ")[0],r=a.actVal.replace(n,"").trim();r=_prefixScopedVars(r,a.shadowRef),r="{="+r+"=}";let l=(a.shadowRef?a.shadowRef:"main")+"."+n,s=_replaceJSExpression(r,!0);_set(scopedVars,l,s)},ActiveCSS.first=a=>_a.FocusOn({actVal:a},null,!0),ActiveCSS.last=a=>_a.FocusOn({actVal:a},"l",!0),ActiveCSS.next=a=>_a.FocusOn({actVal:a},"n",!0),ActiveCSS.nextCycle=a=>_a.FocusOn({actVal:a},"ncc",!0),ActiveCSS.previous=a=>_a.FocusOn({actVal:a},"p",!0),ActiveCSS.previousCycle=a=>_a.FocusOn({actVal:a},"pcc",!0),ActiveCSS.trigger=(a,n,r,l,s)=>{"object"==typeof a?_handleEvents({obj:a,evType:n,shadowRef:r,shadowDoc:l,component:s}):_a.Trigger({secSel:a,actVal:n,shadowRef:r,shadowDoc:l,component:s})},ActiveCSS.triggerReal=(a,n,r,l,s)=>{"string"==typeof a&&(a=document.querySelector(a)),a?_a.TriggerReal({secSelObj:a,actVal:n,shadowRef:r,shadowDoc:l,component:s}):console.log("No object found in document to triggerReal.")},_c.IfCompletelyVisible=a=>ActiveCSS._ifVisible(a,!0),_c.IfCookieEquals=a=>{let n=a.actVal.split(" ");if(!_cookieExists(n[0]))return!1;let r=n[0];return n.shift(),n=n.join(" "),_getCookie(r)==n._ACSSRepQuo()},_c.IfCookieExists=a=>_cookieExists(a.actVal),_c.IfDisplay=a=>{let n=a.doc.querySelector(a.actVal);return!(!n||"none"===getComputedStyle(n,null).display)},_c.IfEmpty=a=>!!_selCompare(a,"eM"),_c.IfExists=a=>!!_getSel(a,a.actVal),_c.IfFocusFirst=a=>_ifFocus(a),_c.IfFocusLast=a=>_ifFocus(a,!1),_c.IfFormChanged=a=>_checkForm(_getSel(a,a.actVal),"check"),_c.IfFunc=a=>{if("true"==a.actVal)return!0;if("false"==a.actVal)return!1;try{return window[a.actVal](a)}catch(n){return console.log("Active CSS: Function "+a.actVal+" does not exist."),!1}},_c.IfHasClass=a=>{let n=_actValSelItem(a);return!(!n[0]||!ActiveCSS._hasClassObj(n[0],n[1].substr(1)))},_c.IfInnerHtml=a=>!!_selCompare(a,"iH"),_c.IfInnerText=a=>!!_selCompare(a,"iT"),_c.IfMaxLength=a=>!!_selCompare(a,"maL"),_c.IfMediaMaxWidth=a=>window.matchMedia("all and (max-width: "+a.actVal+")").matches,_c.IfMediaMinWidth=a=>window.matchMedia("all and (min-width: "+a.actVal+")").matches,_c.IfMinLength=a=>!!_selCompare(a,"miL"),_c.IfScrolltopGreater=a=>"body"==a.obj?(window.pageYOffset||document.documentElement.scrollTop)>a.actVal:a.obj.scrollTop>a.actVal,_c.IfScrolltopLess=a=>"body"==a.obj?(window.pageYOffset||document.documentElement.scrollTop)<a.actVal:a.obj.scrollTop<a.actVal,_c.IfSelection=a=>{let n=window.getSelection();return a.actVal=a.actVal._ACSSRepQuo().trim(),n.toString()==a.actVal},_c.IfVarTrue=a=>{if("true"==a.actVal)return!0;if("false"==a.actVal)return!1;let n=(a.shadowRef?a.shadowRef:"main")+"."+a.actVal,r=_get(scopedVars,n);return void 0===r&&(r=window[a.actVal]),r||!1},_c.IfVisible=a=>ActiveCSS._ifVisible(a),_c.MqlTrue=a=>mediaQueries[a.actVal].val;const _addCancelAttr=(a,n)=>{let r=a.dataset.activeid;cancelIDArr[r]||(cancelIDArr[r]=[]),cancelIDArr[r][n]=!0},_clearTimeouts=a=>{clearTimeout(a),clearInterval(a)},_delaySplit=(a,n)=>{let r,l,s;return r=new RegExp("("+n+' (stack|[\\d]+(s|ms)))(?=(?:[^"]|"[^"]*")*)',"gm"),{str:(a=(a=a.replace(r,(function(a,n){return l=n.split(" ")[1],l=_convertToMS(l,"Invalid delay number format: "+n),""}))).replace(/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w_]+)(?=(?:[^"]|"[^"]*")*)$/gm,(function(a,r){return s=r.split(" ")[1],"every"==n?"":r}))).trim(),tim:l,lab:s}},_removeCancel=(a,n,r,l)=>{if(delayArr[a]&&delayArr[a][n]&&delayArr[a][n][r]){let s=delayArr[a][n][r][l];if(s&&labelByIDs[s]){let a=labelByIDs[s];labelByIDs.splice(labelByIDs.indexOf[s]),delete labelData[a.lab]}delayArr[a][n][r][l]=null}["~","|"].includes(a.substr(0,1))?cancelCustomArr[a]&&cancelCustomArr[a][n]&&cancelCustomArr[a][n][r]&&(cancelCustomArr[a][n][r][l]=null):cancelIDArr[a]&&cancelIDArr[a][n]&&(cancelIDArr[a][n]=null)},_setupLabelData=(a,n,r,l,s,c)=>{delayArr[n][r][l][s]=c,a&&(labelData[a]={del:n,func:r,pos:l,loopRef:s,tid:c},labelByIDs[c]={del:n,func:r,pos:l,loopRef:s,lab:a})},_unloadAllCancelTimer=()=>{let a,n,r,l;for(a in delayArr)for(n in delayArr[a])for(r in delayArr[a][n])for(l in delayArr[a][n][r])_clearTimeouts(delayArr[a][n][r][l]),delayArr[a][n][r][l]=null;delayArr=[],cancelIDArr=[],labelData=[],labelByIDs=[]},_actionValLoop=(a,n,r,l)=>{let s,{loopI:c,actVals:i,actValsLen:u}=n;for(s=0;s<u;s++)a.actVal=i[s].trim(),a.actPos=s,a.secSelObj=r,_handleFunc(a,null,l)},_cloneAttrs=(a,n)=>{let r,l=Array.prototype.slice.call(n.attributes);for(r of l)"href"!=r.nodeName&&("class"==r.nodeName?ActiveCSS._addClassObj(a,r.nodeValue):a.getAttribute(r.nodeName)||a.setAttribute(r.nodeName,r.nodeValue));a.setAttribute("data-active-nav","1")},_handleClickOutside=a=>{let n,r;for(n in clickOutsideSels)if(clickOutsideSels[n][0]&&(r=document.querySelector('[data-activeid="'+n+'"]'),r&&!r.contains(a)&&_handleEvents({obj:r,evType:"clickoutside",otherObj:a})&&!clickOutsideSels[n][1]))return!1;return!0},_handleEvents=a=>{let n,r=a.obj,l=a.evType,s=a.onlyCheck,c=a.otherObj,i=a.eve,u=a.afterEv,d=a.origObj,p=a.runButElNotThere,f=a.shadowDoc;n=f||document;let _=a.shadowRef,g=a.component?"|"+a.component:null;if("string"!=typeof r&&!r||!selectors[l]||void 0===l)return!1;let S,m,h,v,b,C=[],A=selectors[l].length;if("string"!=typeof r){if(g){for(S=0;S<A;S++)if(h=selectors[l][S].indexOf(":"),selectors[l][S].substr(0,h)===g&&(m=selectors[l][S].substr(h+1),m=u&&d?_replaceAttrs(d,m):m,-1===m.indexOf("<")&&!C.includes(selectors[l][S])))if("&"==m)C.push(selectors[l][S]);else try{r.matches(m)&&C.push(selectors[l][S])}catch(a){console.log("Active CSS warning: "+m+" is not a valid CSS selector, skipping. (err: "+a+")")}}else for(S=0;S<A;S++)if(!["~","|"].includes(selectors[l][S].substr(0,1))&&(m=u&&d?_replaceAttrs(d,selectors[l][S]):selectors[l][S],-1===m.indexOf("<")&&!C.includes(selectors[l][S])))try{r.matches(m)&&C.push(selectors[l][S])}catch(a){console.log("Active CSS warning: "+m+" is not a valid CSS selector, skipping. (err: "+a+")")}}else C.push(r),r=d||r;g=g?g.substr(1):null,A=C.length;let y,w,O=0,E=[];for(v=0;v<A;v++)if(config[C[v]]&&config[C[v]][l]){if(s)return!0;for(w in config[C[v]][l])O++,"0"!=w&&_passesConditional(r,v,w,l,c,n,_,g,i,f)&&(E[O]=w)}for(O=0,v=0;v<A;v++)if(config[C[v]]&&config[C[v]][l])for(w in config[C[v]][l]){if(O++,y="","0"!=w){if(void 0===E[O])continue;y=E[O]}if(b=config[C[v]][l][w],!1!==b){let n,s;for(n in b)s={chilsObj:b,originalLoops:n,secSelLoops:n,obj:r,shadowDoc:f,evType:l,shadowRef:_,evObj:a,otherObj:c,passCond:y,sel:v,component:g,selectorList:C,eve:i,runButElNotThere:p},"0"!=n?_processSecSelLoops(s):_performSecSel(s)}}return!0},_handleFunc=function(a,n=null,r=!1){let l;if("string"==typeof a.secSel&&["~","|"].includes(a.secSel.substr(0,1)))l=a.secSel;else{if(!r&&!a.secSelObj.isConnected)return n&&(delayArr[n]&&_clearTimeouts(delayArr[n][a.func][a.actPos][a.loopRef]),delayArr[n]=null,cancelIDArr[n]=null,cancelCustomArr[n]=null),void _a.StopPropagation(a);l=_getActiveID(a.secSelObj)}if("0"!=a.loopRef&&(a.actVal=_replaceLoopingVars(a.actVal,a.loopVars)),a.actVal.match(/(after|every) (stack|[\d]+(s|ms))(?=(?:[^"]|"[^"]*")*$)/gm)){let n,r,s,c=Object.assign({},a),i=["after","every"];for(n of i)if(r=_delaySplit(c.actVal,n),s=a.shadowRef?a.shadowRef:"main",r.lab=s+r.lab,"number"==typeof r.tim&&r.tim>=0){if(c.actVal=r.str,c.actValSing=c.actVal,delayArr[l]=void 0!==delayArr[l]?delayArr[l]:[],delayArr[l][c.func]=void 0!==delayArr[l][c.func]?delayArr[l][c.func]:[],delayArr[l][c.func][c.actPos]=void 0!==delayArr[l][c.func][c.actPos]?delayArr[l][c.func][c.actPos]:[],delayArr[l][c.func][c.actPos][c.loopRef]&&(_clearTimeouts(delayArr[l][c.func][c.actPos][c.loopRef]),_removeCancel(l,c.func,c.actPos,c.loopRef)),c.delayed=!0,"after"==n)return void _setupLabelData(r.lab,l,c.func,c.actPos,c.loopRef,setTimeout(_handleFunc.bind(this,c,l),r.tim));c.interval=!0,_setupLabelData(r.lab,l,c.func,c.actPos,c.loopRef,setInterval(_handleFunc.bind(this,c,l),r.tim)),a.interval=!0,a.actValSing=r.str}}else a.actValSing=a.actVal;-1!==a.actValSing.indexOf("label ")&&(a.actValSing=a.actValSing.replace(/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w_]+)(?=(?:[^"]|"[^"]*")*)/gm,"")),"string"==typeof a.secSel&&["~","|"].includes(a.secSel.substr(0,1))&&cancelCustomArr[l]&&cancelCustomArr[l][a.func]&&cancelCustomArr[l][a.func][a.actPos]&&cancelCustomArr[l][a.func][a.actPos][a.loopRef]?_removeCancel(l,a.func,a.actPos,a.loopRef):a.delayed&&cancelIDArr[l]&&cancelIDArr[l][a.func]||("Var"==a.func&&(a.actValSing=a.actValSing.replace(/__ACSS_int_com/g,",")),a.actVal=_replaceAttrs(a.obj,a.actValSing,a.secSelObj,a,a.func,a.shadowRef),(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput(a),"function"!=typeof _a[a.func]?a.secSelObj.style[a.actName]=a.actVal:_a[a.func](a,scopedVars),a.interval||_removeCancel(l,a.func,a.actPos,a.loopRef),0===Object.keys(a.secSelObj).length&&-1===["LoadConfig","Ajax","AjaxPreGet","AjaxFormSubmit","AjaxFormPreview"].indexOf(a.func)&&_handleEvents({obj:a.secSelObj,evType:"after"+a.actName._ACSSConvFunc(),otherObj:a.secSelObj,eve:a.e,afterEv:!0,origObj:a.obj,shadowRef:a.shadowRef,shadowDoc:a.shadowDoc,component:a.component}))},_handleLoop=a=>{let n=a.secSelLoops,r=a.shadowRef;if("@each "==n.substr(0,6)){a.secSelLoops=a.originalLoops;let l,s,c=n.indexOf(" in "),i=n.substr(6,c-6);-1!==i.indexOf(",")&&(l=i.split(","));let u,d,p,f,_,g,S=n.substr(c+4),m=_get(scopedVars,r?r+"."+S:"main."+S);if(Array.isArray(m)){m.length;for(p=0;p<m.length;p++){if(d=Object.assign({},a),d.loopVars||(d.loopVars={}),l)for(f in l)s=l[f].trim(),u=S+"["+p+"]["+f+"]",d.loopVars[s]=u,d.loopRef=s+"_"+p+"_"+f;else u=S+"["+p+"]",d.loopVars[i]=u,d.loopRef=i+"_"+p;_performSecSel(d)}}else{let n,r=0;for([_,g]of Object.entries(m))d=Object.assign({},a),d.loopVars||(d.loopVars={}),l?(d.loopVars[l[0]]="-_-"+_,d.loopRef=l[0]+"_0_"+r,n=l[1].trim(),u=S+"."+_,d.loopVars[n]=u,d.loopRef=n+"_1_"+r):(d.loopVars[i]="-_-"+_,d.loopRef=i+"_0_"+r),r++,_performSecSel(d)}}else _performSecSel(a)},_handleVarsInJS=function(a){let n={},r={},l=!1;return a=a.replace(/[\s]*vars[\s]*([\u00BF-\u1FFF\u2C00-\uD7FF\w_\, ]+)[\s]*\;/gi,(function(a,s){let c,i=s.split(",");i=[...new Set(i)];let u="(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)";for(c of(l=!0,i))c=c.trim(),n[u+"("+c+")"+u]="",r[c]="scopedVars[_activeVarScope]."+c;return""})),l&&(a=(a=a.replace(/\\"/g,"cjs_tmp-dq")).replace(/\\'/g,"cjs_tmp-sq"),a=(a=(a=(a=ActiveCSS._mapRegexReturn(n,a,r)).replace(/(["|'][\s\S]*?["|'])/gim,(function(a,n){return n.replace(/scopedVars\[_activeVarScope\]\./g,"")}))).replace(/cjs_tmp\-dq"/g,'\\"')).replace(/cjs_tmp\-sq/g,"\\'")),a},_mainEventLoop=(a,n,r,l,s)=>{if("cause-js-elements-ext"==n.target.id)return;let c,i,u=!(n.target!=self&&!n.target.body);if("click"!=a&&u)return _handleEvents({obj:"body",evType:a,eve:n}),void _handleEvents({obj:"window",evType:a,eve:n});if(n.primSel)c=n.secSelObj;else{if("click"==a&&0!==n.button)return;c=n.target}if("mouseover"!=a||u||"A"==c.tagName&&1!==c["data-active-nav"]&&_setUpNavAttrs(c),"click"==a&&"bypass"!=n.primSel&&clickOutsideSet&&!_handleClickOutside(c))return n.primSel||n.preventDefault(),!1;i=_composedPath(n);let d=i[0];if(_getRootNode(d).isEqualNode(document)||n.target.isEqualNode(d)){for(c of i){if(1!==c.nodeType)continue;"click"==a&&"A"==c.tagName&&1!==c["data-active-nav"]&&_setUpNavAttrs(c);let i=_getRootNode(c);if(supportsShadow&&i instanceof ShadowRoot?(r=i.host._acssComponent,l=i,s=i.host._acssShadowRef):(r=null,l=null,s=null),_handleEvents({obj:c,evType:a,eve:n,component:r,shadowDoc:l,shadowRef:s}),!c||!n.bubbles||"BODY"==c.tagName||c.activeStopProp)break}c&&c.activeStopProp?c.activeStopProp=!1:document.parentNode&&_handleEvents({obj:window.frameElement,evType:a,eve:n})}},_passesConditional=(a,n,r,l,s,c,i,u,d,p)=>{let f,_,g,S,m,h,v,b,C=r.split(/ (?![^\(\[]*[\]\)])/),A=!1;for(S of C){let r=S.indexOf("(");if(-1===r){if(u&&(S="|"+u+"|"+S,void 0===conditionals[S])){let a=S.substr(u.length+2);console.log("Active CSS error: Conditional "+a+" not found in config for component "+u)}if(m=conditionals[S],m){for(f in m)if(m.hasOwnProperty(f)&&(_=m[f],"!"==_.name.substr(0,1)?(A=!1,g=_.name.substr(1)):(A=!0,g=_.name),g=g._ACSSConvFunc(),"function"==typeof _c[g])){let r=_.value.replace(/"[^"]*"|(\,)/g,(function(a,n){return n?"_ACSSComma":a}));for(r=_replaceAttrs(a,r,null,null,null,i),r=s&&"0"!=s.loopRef?_replaceLoopingVars(r,s.loopVars):r,h=r.split("_ACSSComma"),v=h.length,b=0;b<v;b++)if(_c[g]({func:g,actName:_.name,secSel:"conditional",secSelObj:a,actVal:h[b].trim(),primSel:n,rules:m,obj:a,e:d,doc:c,ajaxObj:s,component:u,shadowDoc:p,shadowRef:i},scopedVars)!==A)return!1}}else console.log("Active CSS error: Conditional "+S+" not found in config for document scope.")}else{let l=S.substr(0,r);if(A=!1,"not-"==l.substr(0,4)?g=l.substr(4):"!"==l.substr(0,1)?g=l.substr(1):(A=!0,g=l),g=g._ACSSConvFunc(),"function"==typeof _c[g]){let f=S.slice(r+1,-1).trim().replace(/"[^"]*"|(\,)/g,(function(a,n){return n?"_ACSSComma":a}));for(f=_replaceAttrs(a,f,null,null,null,i),f=s&&"0"!=s.loopRef?_replaceLoopingVars(f,s.loopVars):f,h=f.split("_ACSSComma"),v=h.length,b=0;b<v;b++)if(_c[g]({func:g,actName:l,secSel:"conditional",secSelObj:a,actVal:h[b].trim(),primSel:n,rules:S,obj:a,e:d,doc:c,ajaxObj:s,component:u,shadowDoc:p,shadowRef:i},scopedVars)!==A)return!1}}}return!0},_performAction=(a,n=!1)=>{if(a.doc.readyState&&"complete"!=a.doc.readyState)return setTimeout(_performAction.bind(this,a),200),!1;_performActionDo(a,null,n)},_performActionDo=(a,n=null,r=!1)=>{if(!a.secSel&&!r)return;let l=a.actVal;-1!==a.actVal.indexOf(",")&&(l=l.replace(/\(.*?\)/g,(function(a,n){return a.replace(/,/g,"_ACSStmpcomma_")})),l=l.replace(/"[^"]*"|(\,)/g,(function(a,n){return n?"_ACSSComma":a})),l=l.replace(/_ACSStmpcomma_/g,",")),"Var"==a.func&&(l=ActiveCSS._sortOutFlowEscapeChars(l),l=_escCommaBrack(l,a));let s,c=l.split("_ACSSComma");s=c.length;let i={loopI:n,actVals:c,actValsLen:s};if("string"!=typeof a.secSel||["~","|"].includes(a.secSel.substr(0,1))){let n=Object.assign({},a);"object"==typeof n.secSel?_actionValLoop(a,i,n.secSel):["~","|"].includes(n.secSel.substr(0,1))&&_actionValLoop(a,i,{})}else{let n=!1;"#"==a.secSel&&console.log("Error: "+a.primSel+" "+a.event+", "+a.actName+': "'+a.origSecSel+'" is being converted to "#". Attribute or variable is not present.');let l=_prepSelector(a.secSel,a.obj);if(a.doc.querySelectorAll(l).forEach((function(r){n=!0;let l=Object.assign({},a);_actionValLoop(l,i,r)})),!n){let n=Object.assign({},a);-1!==a.secSel.lastIndexOf("data-activeid")&&(n.actVal=_replaceAttrs(n.obj,n.actValSing,n.secSelObj,n,n.func,n.shadowRef),_actionValLoop(a,i,n.obj,r))}}},_performSecSel=a=>{let n,r,l,s,c,i,u,d=a.chilsObj,p=a.secSelLoops,f=a.obj,_=a.shadowDoc,g=a.evType,S=a.shadowRef,m=a.evObj,h=a.otherObj,v=a.passCond,b=a.sel,C=a.component,A=a.selectorList,y=a.eve,w=a.loopVars,O=a.loopRef?a.loopRef:0,E=a.runButElNotThere,j=["&","self","this"],x="";for(n in d[p]){if("conds"==n)continue;if(r=_splitIframeEls(n,f,_,g),!r)continue;let a;for(c in l=r[0],s=r[1],S=supportsShadow&&l instanceof ShadowRoot?"_"+l.host.getAttribute("data-activeid").replace(/id\-/,""):m.shadowRef?m.shadowRef:null,"0"!=O&&(s=_replaceLoopingVars(s,w)),s=_replaceAttrs(f,s),s=_replaceAttrs(h,s),j.includes(s)?"string"==typeof f?s=f:(x=_getActiveID(f),s=x?'[data-activeid="'+x+'"]':f):"host"==s&&(s=_getRootNode(f).host),d[p][n])i=d[p][n][c].name._ACSSConvFunc(),u=d[p][n][c].value,a={event:g,func:i,actName:d[p][n][c].name,secSel:s,origSecSel:n,actVal:u,origActVal:u,primSel:A[b],rules:d[p][n],obj:f,doc:l,ajaxObj:h,e:y,passCond:v,file:d[p][n][c].file,line:d[p][n][c].line,activeID:x,shadowRef:S,shadowDoc:_,component:C,loopVars:w,loopRef:O},_performAction(a,E)}},_prepSelector=(a,n)=>{if(-1!==a.indexOf("&")&&"&"==a.substr(0,1)){let r=_getActiveID(n);a=a.replace(/&/g,"[data-activeid="+r+"]")}return a},_processSecSelLoops=a=>{let n=a.secSelLoops.replace(a.component+"|||","");"@each "==n.substr(0,6)?(a.secSelLoops=n,_handleLoop(a)):_performSecSel(a)},_renderIt=(a,n)=>{let r=document.createElement("template");r.innerHTML=n;let l,s,c=[];for(l of(r.content.childNodes.forEach((function(a){a.nodeType===Node.ELEMENT_NODE&&"DATA-SHADOW"!=a.tagName&&(s=_getActiveID(a),c.push(s))})),n=r.innerHTML,a.renderPos?a.secSelObj.insertAdjacentHTML(a.renderPos,n):a.secSelObj.innerHTML=n,c)){let n=a.doc.querySelector("[data-activeid="+l+"]");n.shadow||(_handleEvents({obj:n,evType:"draw",otherObj:a.ajaxObj,shadowRef:a.shadowRef,shadowDoc:a.shadowDoc,component:a.component}),n.querySelectorAll("*").forEach((function(n){"DATA-SHADOW"!=n.tagName&&_handleEvents({obj:n,evType:"draw",otherObj:a.ajaxObj,shadowRef:a.shadowRef,shadowDoc:a.shadowDoc,component:a.component})})))}_renderShadowDoms(a)},_renderShadowDoms=(a,n=a.doc)=>{n.querySelectorAll("data-shadow").forEach((function(n,r){_renderShadowDomsDo(a,n)}))},_renderShadowDomsClean=a=>{let n,r;for([n,r]of(delete shadowPending[a],Object.entries(shadowDoms)))r.isConnected||delete scopedVars[n]},_renderShadowDomsDo=(a,n)=>{let r,l,s,c,i,u,d,p;if(r=n.parentNode,s=n.getAttribute("data-ref"),l=n.getAttribute("data-mode"),i=n.getAttribute("data-name"),r.removeChild(n),r.shadowRoot)_renderShadowDomsClean(s);else{c=_getActiveID(r).replace("id-","_"),_handleEvents({obj:r,evType:"beforeShadowOpen",shadowRef:c,shadowDoc:d,component:i}),shadowPending[s]=_replaceAttrs(a.obj,shadowPending[s],null,null,a.func,c),shadowPending[s]=_replaceComponents(a,shadowPending[s]),shadowPending[s]=_replaceScopedVars(shadowPending[s],a.secSelObj,a.func,a,!1,r,c),shadowPending[s]=-1!==shadowPending[s].indexOf("{$")?_replaceStringVars(a.ajaxObj,shadowPending[s]):shadowPending[s],u=document.createElement("template"),u.innerHTML=shadowPending[s],_renderShadowDomsClean(s);try{d=r.attachShadow({mode:l})}catch(a){console.log("Active CSS error in attaching a shadow DOM object. Ensure the shadow DOM has a valid parent *tag*. The error is: "+a)}if(r._acssComponent=i,r._acssShadowRef=c,shadowDoms[c]=d,d.appendChild(u.content),setTimeout((function(){_handleEvents({obj:r,evType:"shadowOpen",shadowRef:c,shadowDoc:d,component:i})}),0),d.querySelectorAll("*").forEach((function(n){"DATA-SHADOW"!=n.tagName?_handleEvents({obj:n,evType:"draw",otherObj:a.ajaxObj,shadowRef:c,shadowDoc:d,component:i}):_renderShadowDomsDo(a,n)})),0==allEvents.length)Object.keys(window).forEach(a=>{/^on/.test(a)&&(p=a.slice(2),allEvents.push(p),_attachListener(d,p,i,d,c))});else for(p of allEvents)_attachListener(d,p,i,d,c)}},_replaceLoopingVars=(a,n)=>(-1!==a.indexOf("{")&&(a=a.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]+)(\}|\.|\[)/gm,(function(a,r,l){return n[r]?"-_-"==n[r].substr(0,3)?n[r].substr(3):"{"+n[r]+l:"{"+r+l}))),a),_runInnerEvent=(a,n,r=document)=>{"string"==typeof a?r.querySelectorAll(a).forEach((function(a){_handleEvents({obj:a,evType:n})})):(_handleEvents({obj:a,evType:n}),_runInnerEvent("*",n,a))},_setUpNavAttrs=a=>{let n,r,l;n=document.querySelector("#data-active-pages"),n&&(r=a.getAttribute("href"),r&&(l=n.querySelector('a[href="'+r+'"]'),l&&_cloneAttrs(a,l)))},_splitIframeEls=(a,n=null,r=null,l=null)=>{let s,c,i=n&&"object"==typeof n?_getRootNode(n):null,u=document,d=!1,p=!1;if(supportsShadow&&i instanceof ShadowRoot&&(u=i,d=!0),-1!==a.indexOf(" -> ")){let r;p=!0;let l=a.split(" -> "),f=0;for(r of l){if(f++,f==l.length)break;if("document"==r)u=document;else if("parent"==r)d?(i=_getRootNode(i.host),u=i):window.parent.document?u=window.parent.document:console.log("Active CSS error. Reference to a parent element that doesn't exist.");else if((n=u.querySelector(r)).shadowRoot)u=n.shadowRoot;else{if("IFRAME"!=n.tagName)return console.log("ref "+r+" is unknown."),!1;u=n.contentWindow.document,c=r}}s=l[l.length-1]}else s=a;return"host"==s?(i=_getRootNode(i.host),u=i):r&&!p&&(u=r),[u,s,c]},_addConfig=(a,n)=>{let r=a.match(/^.*((\r\n|\n|\r)|$)/gm),l="";for(let a=0;a<r.length;a++)l+="*debugfile:"+n.file+":"+(a+1)+"*"+r[a];concatConfig+=a=l,++concatConfigCo>=concatConfigLen&&_readSiteMap(),concatConfigCo>concatConfigLen&&("load-config"==n.actName&&(configArr.push(n.avRaw),setupEnded&&(debuggerActive&&_tellPanelToUpdate(),evEditorActive&&_tellElementsToUpdate())),_handleEvents({obj:n.obj,evType:"afterLoadConfig"}))},_addConfigError=(a,n)=>{_handleEvents({obj:n.obj,evType:"loadconfigerror"})},_assignRule=(a,n,r,l,s,c,i,u,d,p=null)=>{let f;if(void 0===a[n]&&(a[n]={}),void 0===a[n][r]&&(a[n][r]={}),void 0===a[n][r][l]&&(a[n][r][l]={}),p=p||"0",void 0===a[n][r][l][p]&&(a[n][r][l][p]={}),void 0===a[n][r][l][p][s]&&(a[n][r][l][p][s]=[]),f=ActiveCSS._getPosOfRule(a[n][r][l][p][s],c),-1!=f){a[n][r][l][p][s][f].value+=", "+i;let c="",_="";return a[n][r][l][p][s][f].file&&(c=","+u,_=","+d),a[n][r][l][p][s][f].file+=c,a[n][r][l][p][s][f].line+=_,a}return a[n][r][l][p][s].push({name:c,value:i,file:u,line:d}),a},_attachListener=(a,n,r,l,s,c=!1)=>{let i={capture:!0};if(doesPassive){let a=r||"doc";void 0!==nonPassiveEvents[a]&&void 0!==nonPassiveEvents[a][n]&&!0===nonPassiveEvents[a][n]||!1===passiveEvents?i.passive=!1:i.passive=!0}doesPassive&&c&&(a.removeEventListener(n,ActiveCSS._theEventFunction,{capture:!0}),delete a["_acss"+n+"EvComponent"],delete a["_acss"+n+"EvShadowDoc"],delete a["_acss"+n+"EvShadowRef"]),a["_acss"+n+"EvComponent"]=r,a["_acss"+n+"EvShadowDoc"]=l,a["_acss"+n+"EvShadowRef"]=s,a.addEventListener(n,ActiveCSS._theEventFunction,i)};ActiveCSS._theEventFunction=a=>{let n=a.type,r=a.target["_acss"+n+"EvComponent"],l=a.target["_acss"+n+"EvShadowDoc"],s=a.target["_acss"+n+"EvShadowRef"];if(!setupEnded)return;let c=_fullscreenDetails();switch(n){case"click":a.ctrlKey||_mainEventLoop("click",a,r,l,s);break;case"keyup":case"keydown":let i=a.ctrlKey?"Ctrl":"",u=a.shiftKey?"Shift":"",d=a.key;switch(a.key){case":":d="Colon",u="";break;case";":d="Semicolon",u="";break;case"{":d="OpenCurly",u="";break;case"}":d="CloseCurly",u="";break;case'"':d="DoubleQuotes",u="";break;case"'":d="SingleQuote",u="";break;case"?":d="Question",u="";break;case"!":d="Exclamation",u=""}_mainEventLoop(n+i+u+d,a,r,l,s),_mainEventLoop(n,a,r,l,s);break;case c[1]+"fullscreenchange":_mainEventLoop(n,a,r,l,s),c[0]?_mainEventLoop("fullscreenEnter",a,r,l,s):_mainEventLoop("fullscreenExit",a,r,l,s);break;default:_mainEventLoop(n,a,r,l,s)}};const _checkPassiveState=(a,n)=>{if(doesPassive){let r=a||"doc",l=n;"key"==n.substr(0,3)&&("keyup"==n.substr(0,5)?l="keyup":"keydown"==n.substr(0,7)&&(l="keydown")),void 0===nonPassiveEvents[r]&&(nonPassiveEvents[r]=[]),!0!==typeof nonPassiveEvents[r][l]&&(nonPassiveEvents[r][l]=!0)}},_convConfig=(a,n,r=0)=>{let l,s,c,i,u,d={children:{},attributes:{}},p=null,f=0;for(;null!==(p=PARSEREGEX.exec(a));){if(r>n)return console.log("Syntax error in config - possibly an incomplete set of curly brackets."),!1;if(p[PARSEDEBUG])u=p[PARSEDEBUG].split(":"),configFile=u[1],configLine=u[2].substr(0,u[2].length-1);else if(p[PARSESEL]){if(r++,l=p[PARSESEL].trim(),l=l.replace(/\*debugfile[\s\S]*?\*/g,""),i=_convConfig(a,n,r),!1===i)return!1;c={},c.name=_sortOutEscapeChars(l),c.value=i,c.line=configLine,c.file=configFile,c.type="rule",d[f++]=c}else{if(p[PARSEEND])return d;if(p[PARSEATTR]){var _=p[PARSEATTR].trim();_=_.replace(/\*debugfile[\s\S]*?\*|([^:]|^)\/\/.*$/g,"");var g=PARSELINEX.exec(_);g?(l=g[1].trim(),s=g[2].trim(),c={},c.name=_sortOutEscapeChars(l),c.value=_sortOutEscapeChars(s),c.type="attr",c.line=configLine,c.file=configFile,d[f++]=c):d[f++]=_}}}return d};ActiveCSS._getPosOfRule=(a,n)=>_getValFromList(a,n,!0);const _initScriptTrack=()=>{document.querySelectorAll("script").forEach((function(a,n){scriptTrack.push(a.src)}))},_iterateConditionals=(a,n,r)=>{var l,s;return Object.keys(n).forEach((function(c){(s=n[c].name)&&(l=a[r].length,a[r][l]={},a[r][l].name=s,a[r][l].value=n[c].value,a[r][l].file=n[c].file,a[r][l].line=n[c].line)})),a},_iteratePageList=a=>{if(!("content"in document.createElement("template")))return void console.log("Browser does not support html5. Cannot instantiate page navigation.");let n=document.createElement("template");var r,l;n.id="data-active-pages";let s=Math.floor(1e7*Math.random());Object.keys(a).forEach((function(c){(r=a[c].name)&&(-1!==pageList.indexOf(r)&&console.log("Config error: Page "+r+" is referenced twice."),l=a[c].value.replace(/\{\$RAND\}/g,s),n.insertAdjacentHTML("beforeend","<a href="+r.trim()+" "+l.trim()+">"))})),document.body.appendChild(n)},_iterateRules=(a,n,r,l,s,c=null,i=null)=>{let u,d,p,f,_,g,S,m,h;return Object.keys(n).forEach((function(v){if(m=n[v].name,h=n[v].value,m){if(-1!==["@each"].indexOf(n[v].name.substr(0,5)))return _iterateRules(a,h,r,l,s,(c?c+"|||":"")+m);if("string"==typeof h)return"prevent-default"==m&&_checkPassiveState(i,l),void(a=_assignRule(a,r,l,s,"&",m,h,n[v].file,n[v].line,c));for(u in d="",p="",h)if(void 0!==h[u].type)for(f=m.split(","),_=f.length,S=0;S<_;S++)g=f[S].trim(),"&"==g&&"prevent-default"==m&&_checkPassiveState(i,l),a=_assignRule(a,r,l,s,g,h[u].name,h[u].value,n[v].file,n[v].line,c)}})),a},_makeVirtualConfig=(a="",n="",r=null,l=null)=>{var s,c,i,u,d,p,f,_,g,S=""!==a?a:parsedConfig;if(Object.keys(S).forEach((function(a){if(S[a].name)for(p=S[a].name,S[a].value,s=p.split(/,(?![^\(\[]*[\]\)])/),c=s.length,i=0;i<c;i++)switch(u=s[i].trim(),d="@component "==u.substr(0,11),!d||d&&-1===s[i].indexOf(":")?u.slice(0,1):""){case"?":let l=u.substr(1);r&&(l="|"+r+"|"+l),conditionals[l]=void 0===conditionals[l]?[]:conditionals[l],conditionals=_iterateConditionals(conditionals,S[a].value,l);break;case"@":if("@pages"==u)_iteratePageList(S[a].value);else if(d){let n=u.split(" ")[1].trim();components[n]||(components[n]={}),-1!==u.indexOf(" shadow")?(components[n].shadow=!0,components[n].mode=-1!==u.indexOf(" closed")?"closed":"open"):(components[n].shadow=!1,components[n].mode=null),_makeVirtualConfig(S[a].value,"",n),void 0===components[n].data&&(components[n].data="",components[n].file="",components[n].line=""),n=""}else n=_setupMediaQueryHandler(u.slice(7).trim()),_makeVirtualConfig(S[a].value,n),n="";break;default:if("html"==u)r&&(components[r].data=S[a].value[0].value.slice(1,-1),components[r].data=components[r].data.replace(/\\\"/g,'"'),components[r].file=S[a].value[0].file,components[r].line=S[a].value[0].line);else{if(!(f=u.split(/:(?![^\(\[]*[\]\)])/))[1]){console.log('"'+p+'" '+u+" is not a fully formed selector - it may be missing an event or have incorrect syntax. Or you have too many closing curly brackets.");continue}g=f.shift(),_=(_=f.pop()).trim();let l,s=[],c=[];if(f){let a,n;for(n of f)a=new RegExp(COLONSELS,"g"),a.test(n)?s.push(n):c.push(n)}""!==n&&c.push(n),s.length>0&&(g+=":"+s.join(":")),r&&(g="|"+r+":"+g,shadowSels[r]=void 0===shadowSels[r]?[]:shadowSels[r],shadowSels[r][_]=!0),config[g]=void 0===config[g]?{}:config[g],config[g][_]=void 0===config[g][_]?{}:config[g][_],l=0===c.length?0:c.join(" "),preSetupEvents.push({ev:_,sel:g}),config=_iterateRules(config,S[a].value,g,_,l,r)}}})),""!==a)return;let m=!!debugMode&&_doDebug("config");m&&Object.keys(config).sort().forEach((function(a){console.log(a,config[a])})),m=!!debugMode&&_doDebug("conditionals"),m&&Object.keys(conditionals).sort().forEach((function(a){console.log(a,conditionals[a])})),m=!!debugMode&&_doDebug("components"),m&&Object.keys(components).sort().forEach((function(a){console.log(a,components[a])}))};ActiveCSS._mapRegexReturn=(a,n,r=null)=>{if("string"!=typeof n)return n;let l=new RegExp(Object.keys(a).join("|"),"gim");return n=n.replace(l,(function(n){return r?r[n]:a[n]}))};const _parseConfig=a=>{a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*$/gm,"")).replace(/[\r\n\t]+/g,"")).replace(/\\\"/g,"_ACSS_escaped_quote")).replace(/\{\=([\s\S]*?)\=\}/g,(function(a,n){return-1!==n.indexOf("*debugfile:")&&(n=(n=n.trim().slice(0,-1)).replace(/\*debugfile\:[\s\S]*?\*/g,""),n+="*"),"_ACSS_subst_equal_brace_start"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,n)+"_ACSS_subst_equal_brace_end"}))).replace(/<style>([\s\S]*?)<\/style>/gim,(function(a,n){return"<style>"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,n)+"</style>"}))).replace(/[\s]*var[\s]*\:([\s\S]*?)\;/gim,(function(a,n){return"var: "+ActiveCSS._mapRegexReturn(DYNAMICCHARS,n)+";"}))).replace(/\{\$([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(a,n){return"_ACSS_subst_dollar_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\[\]]+)\}\}/gi,(function(a,n){return"_ACSS_subst_brace_start_ACSS_subst_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\#\:]+)\}\}/gi,(function(a,n){return"_ACSS_subst_brace_start_ACSS_subst_at_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\#\:]+)\}/gi,(function(a,n){return"_ACSS_subst_at_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(a,n){return"_ACSS_subst_pipe_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(a,n){return"_ACSS_subst_hash_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\[\]]+)\}/gi,(function(a,n){return"_ACSS_subst_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\\{/g,"_ACSS_brace_start")).replace(/\\}/g,"_ACSS_brace_end")).replace(/([^\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]html[\u00BF-\u1FFF\u2C00-\uD7FF\w_\- ]+{)([\s\S]*?)}/gi,(function(a,n,r){return n+'{component: "'+(r=(r=r.replace(/_ACSS_escaped_quote/g,'\\"')).replace(/"/g,"_ACSS_escaped_quote"))+'";}'}));let n={"{":"_ACSS_brace_start","}":"_ACSS_brace_end",";":"_ACSS_semi_colon",":":"_ACSS_colon","/":"_ACSS_slash"},r=(a=(a=a.replace(/("([^"]|"")*")/g,(function(a,r){return ActiveCSS._mapRegexReturn(n,r)}))).replace(/([\(]([^\(\)]|\(\))*[\)])/g,(function(a,r){return ActiveCSS._mapRegexReturn(n,r)}))).split("{").length;return(a=_convConfig(a,r))[0]||console.log("Active CSS: Either your config is empty or there is a structural syntax error."),a},_readSiteMap=()=>{parsedConfig=_parseConfig(concatConfig),concatConfig="";var a=!!debugMode&&_doDebug("parser");let n;for(n of(a&&console.log(parsedConfig),setupEnded||_setupPassive(),_makeVirtualConfig(),preSetupEvents))_setupEvent(n.ev,n.sel);preSetupEvents=[],setupEnded||(_startMainListen(),_initScriptTrack(),_handleEvents({obj:"body",evType:"preInit"}),_handleEvents({obj:"body",evType:"init"}),_runInnerEvent("*","draw"),_handleEvents({obj:"body",evType:"scroll"}),_wrapUpStart(),""!==lazyConfig&&setTimeout((function(){let a,n=lazyConfig.split(",");for(a of n)_a.LoadConfig({actName:"load-config",actVal:a,doc:document})}),1e3))},_setupEvent=(a,n,r)=>{if(void 0===selectors[a]&&(selectors[a]=[]),selectors[a].includes(n)){if(!setupEnded||!doesPassive)return}else selectors[a].push(n);if(debuggerEvs.includes(a)){if(!setupEnded||!doesPassive)return}else debuggerEvs.push(a);if(!1!==(a=_getRealEvent(a))&&(setupEnded||!eventState[a])){let r=document.parentNode&&"body"==n&&"scroll"==a?document.body:window;_attachListener(r,a,null,null,null,!!setupEnded),eventState[a]=!0}},_setupMediaQueryHandler=a=>{if(a=a.trim(),mediaQueriesOrig[a])return mediaQueriesOrig[a];let n="__mql_"+(mediaQueries.length+1);mediaQueriesOrig[a]=n,conditionals[n]=[],conditionals[n].push({name:"mql-true",value:n});let r=window.matchMedia(a),l=r.matches;return mediaQueries.push(n),mediaQueries[n]={ev:r,val:l},mediaQueries[n].ev.addListener((function(a){let n=mediaQueriesOrig[a.media];mediaQueries[n].val=a.matches})),n},_setupPassive=()=>{try{let a=Object.defineProperty({},"passive",{get:function(){doesPassive=!0}});window.addEventListener("testPassive",null,a),window.removeEventListener("testPassive",null,a)}catch(a){}},_sortOutEscapeChars=a=>ActiveCSS._mapRegexReturn({_ACSS_brace_start:"{",_ACSS_brace_end:"}",_ACSS_escaped_quote:'\\"',_ACSS_semi_colon:";",_ACSS_colon:":",_ACSS_slash:"/",_ACSS_subst_equal_brace_start:"{=",_ACSS_subst_equal_brace_end:"=}",_ACSS_subst_dollar_brace_start:"{$",_ACSS_subst_brace_start:"{",_ACSS_subst_at_brace_start:"{@",_ACSS_subst_pipe_brace_start:"{|",_ACSS_subst_hash_brace_start:"{#",_ACSS_subst_brace_end:"}",_ACSS_dot:"."},a),_startMainListen=()=>{window.addEventListener("message",(function(a){if(a.origin===window.location.origin&&"causejs-devtools-extension"!=a.data.source){var n=a.data;switch(n.type){case"activecss-unloading":case"activecss-loaded":let a=document.getElementById(n.el);_handleEvents({obj:a,evType:typ})}}})),document.parentNode?(window.addEventListener("beforeunload",(function(a){parent.postMessage({type:"activecss-unloading",el:window.frameElement.id},window.location.origin)})),parent.postMessage({type:"activecss-loaded",el:window.frameElement.id},window.location.origin)):window.addEventListener("popstate",(function(a){let n=a.state;if(!n)return;debuggerActive&&_debugOutput("Popstate event");let r=document.querySelector("#data-active-pages"),l=!1;if(n&&r){let a=new URL(n),s=a.pathname+a.search,c=r.querySelector('a[href="'+s+'"]');c&&(ActiveCSS.trigger(c,"click"),l=!0)}l||(window.location.href=n)})),currentPage=location.pathname,scopedVars=_observableSlim.create(scoped,!0,ActiveCSS._varUpdateDom)},_wrapUpStart=()=>{let a=_resolveURL(window.location.href);window.history.replaceState(a,document.title,a),setupEnded=!0};ActiveCSS.init=a=>{if(passiveEvents=void 0===(a=a||{}).passiveEvents||a.passiveEvents,inlineConfigTags=document.querySelectorAll('style[type="text/acss"]'),autoStartInit)inlineConfigTags&&(lazyConfig="",_initGetInline()),autoStartInit=!1;else{if(userSetupStarted=!0,setupEnded)return void console.log("Cannot initialize Active CSS twice.");let n;lazyConfig=a.lazyConfig||"",a.configLocation=a.configLocation||console.log("No inline or Active CSS config file setup - see installation docs."),a.debugMode&&(debugMode=a.debugMode,document.parentNode?console.log("Active CSS debug mode in iframe ID "+window.frameElement.id+": "+debugMode):console.log("Active CSS debug mode: "+debugMode));let r=a.configLocation.split(",");for(n of(concatConfigLen=r.length,inlineConfigTags&&_initGetInline(),r))n=n.trim(),configArr.push(_getBaseURL(n)),_getFile(n,"txt",{file:n})}};const _initGetInline=()=>{concatConfigLen+=inlineConfigTags.length,inlineConfigTags.forEach(a=>{_addConfig(a.innerHTML,{file:"inline"})}),inlineConfigTags=null},_addScopedAttr=(a,n,r,l)=>{let s=_addScopedCID(a,n.secSelObj),c=n.actVal.split(" ")[0],i=l?r:r.substr(r.indexOf(" ")+1)._ACSSRepQuo();_set(scopedData,a+".attrs["+s+"]"+c,i)},_addScopedCID=(a,n)=>{let r=_getActiveID(n);return _set(scopedData,a+".cids["+r+"]",r),r},_escapeItem=a=>{let n=document.createElement("div");return n.textContent=a.replace(/\{\=|\=\}/gm,""),n.innerHTML},_getObjFromDots=(a,n)=>void 0===a[n]?"":a[n],_observableSlim=(paths=[],observables=[],targets=[],targetsProxy=[],dupProxy=null,_create=function(a,n,r,l){var s=r||null,c=l||[{target:a,property:""}];paths.push(c),a instanceof Array&&(a.__length=a.length);var i=[],u=function(a,n,r){for(var l="",s=null,i=0;i<c.length;i++)s instanceof Array&&!isNaN(c[i].property)&&(c[i].property=s.indexOf(c[i].target)),l=l+"."+c[i].property,s=c[i].target;return l=(l=l+"."+n).substring(2),!0===r&&(l="/"+l.replace(/\./g,"/")),l},d=function(a){if(!0!==s.paused)if(!0===n)setTimeout((function(){if(a===i.length){var n=i.slice(0);i=[];for(var r=0;r<s.observers.length;r++)s.observers[r](n)}}),10);else{var r=i.slice(0);i=[];for(var l=0;l<s.observers.length;l++)s.observers[l](r)}},p={get:function(a,r){if("__getTarget"===r)return a;if("__isProxy"===r)return!0;if("__getParent"===r)return function(a=1){var n=u(0,"__getParent").split(".");return n.splice(-(a+1),a+1),function(a,n){return n.split(".").reduce((function(a,n){return a?a[n]:void 0}),a||self)}(s.parentProxy,n.join("."))};if("__getPath"===r)return u(0,"__getParent").slice(0,-12);var l=a[r];if(a instanceof Date&&l instanceof Function&&null!==l)return l.bind(a);if(l instanceof Object&&null!==l&&a.hasOwnProperty(r)){if(!0===l.__isProxy&&(l=l.__getTarget),l.__targetPosition>-1&&null!==targets[l.__targetPosition])for(var i=targetsProxy[l.__targetPosition],d=0,p=i.length;d<p;d++)if(s===i[d].observable)return i[d].proxy;var f=c.slice(0);return f.push({target:l,property:r}),_create(l,n,s,f)}return l},deleteProperty:function(a,n){var r=!0;dupProxy===_&&(r=!1,dupProxy=null);var l=Object.assign({},a);if(i.push({type:"delete",target:a,property:n,newValue:null,previousValue:l[n],currentPath:u(0,n),jsonPointer:u(0,n,!0),proxy:_}),!0===r){s.changesPaused||delete a[n];for(var c=0,p=targets.length;c<p&&a!==targets[c];c++);for(var f=targetsProxy[c]||[],g=f.length;g--;)f[g].proxy!==_&&(dupProxy=f[g].proxy,delete f[g].proxy[n])}return d(i.length),!0},set:function(a,n,r,l){r&&r.__isProxy&&(r=r.__getTarget);var c=!0;dupProxy===_&&(c=!1,dupProxy=null);var p=a[n];if(p!==r||!1===c||"length"===n&&a instanceof Array&&a.__length!==r){var f=!0,g=typeof p,S="update";if("undefined"===g&&(S="add"),i.push({type:S,target:a,property:n,newValue:r,previousValue:l[n],currentPath:u(0,n),jsonPointer:u(0,n,!0),proxy:_}),"length"===n&&a instanceof Array&&a.__length!==r&&(i[i.length-1].previousValue=a.__length,a.__length=r),!0===c){s.changesPaused||(a[n]=r),f=!1;for(var m=a.__targetPosition,h=targetsProxy[m].length;h--;)if(s===targetsProxy[m][h].observable&&null!==targets[targetsProxy[m][h].observable.parentTarget.__targetPosition]){f=!0;break}if(f){for(var v=targetsProxy[m],b=0,C=v.length;b<C;b++)v[b].proxy!==_&&(dupProxy=v[b].proxy,v[b].proxy[n]=r);setTimeout((function(){if("object"===g&&null!==p){for(var n=Object.keys(a),r=0,l=n.length;r<l;r++)if(a[n[r]]===p)return;var c=!1;if(function a(n){for(var r=Object.keys(n),l=0,s=r.length;l<s;l++){var i=n[r[l]];if(i instanceof Object&&null!==i&&a(i),i===p)return void(c=!0)}}(a),!0===c)return;!function a(n){var c=Object.keys(n);for(r=0,l=c.length;r<l;r++){var i=n[c[r]];i instanceof Object&&null!==i&&a(i)}var u=-1;for(r=0,l=targets.length;r<l;r++)if(n===targets[r]){u=r;break}if(u>-1){for(var d=targetsProxy[u],p=d.length;p--;)if(s===d[p].observable){d.splice(p,1);break}0==d.length&&(targets[u]=null)}}(p)}}),1e4)}}f&&d(i.length)}return!0}},f=a.__targetPosition;(!f||f<0)&&Object.defineProperty(a,"__targetPosition",{value:targets.length,writable:!1,enumerable:!1,configurable:!1});var _=new Proxy(a,p);null===s&&(s={parentTarget:a,domDelay:n,parentProxy:_,observers:[],paused:!1,path:c,changesPaused:!1},observables.push(s));var g={target:a,proxy:_,observable:s};return f>-1?(null===targets[f]&&(targets[f]=a),targetsProxy[f].push(g)):(targets.push(a),targetsProxy.push([g])),_},{create:function(a,n,r){!0===a.__isProxy&&(a=a.__getTarget);var l=_create(a,n);return"function"==typeof r&&this.observe(l,r),function a(n){for(var r=n.__getTarget,l=Object.keys(r),s=0,c=l.length;s<c;s++){var i=l[s];r[i]instanceof Object&&null!==r[i]&&a(n[i])}}(l),l},observe:function(a,n){for(var r=observables.length;r--;)if(observables[r].parentProxy===a){observables[r].observers.push(n);break}},pause:function(a){for(var n=observables.length,r=!1;n--;)if(observables[n].parentProxy===a){observables[n].paused=!0,r=!0;break}if(0==r)throw new Error("_observableSlim could not pause observable -- matching proxy not found.")},resume:function(a){for(var n=observables.length,r=!1;n--;)if(observables[n].parentProxy===a){observables[n].paused=!1,r=!0;break}if(0==r)throw new Error("_observableSlim could not resume observable -- matching proxy not found.")},pauseChanges:function(a){for(var n=observables.length,r=!1;n--;)if(observables[n].parentProxy===a){observables[n].changesPaused=!0,r=!0;break}if(0==r)throw new Error("_observableSlim could not pause changes on observable -- matching proxy not found.")},resumeChanges:function(a){for(var n=observables.length,r=!1;n--;)if(observables[n].parentProxy===a){observables[n].changesPaused=!1,r=!0;break}if(0==r)throw new Error("_observableSlim could not resume changes on observable -- matching proxy not found.")},remove:function(a){for(var n=null,r=!1,l=observables.length;l--;)if(observables[l].parentProxy===a){n=observables[l],r=!0;break}for(var s=targetsProxy.length;s--;)for(var c=targetsProxy[s].length;c--;)targetsProxy[s][c].observable===n&&(targetsProxy[s].splice(c,1),0===targetsProxy[s].length&&(targets[s]=null));!0===r&&observables.splice(l,1)}});var paths,observables,targets,targetsProxy,dupProxy,_create;const _prefixScopedVars=function(a,n=null){let r,l;return a=a.replace(/(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)(\\"|"(?:\\"|[^"])*"|[\u00BF-\u1FFF\u2C00-\uD7FF\w_\.]+)(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)/gim,(function(a,s){if(-1!==s.indexOf('"')||s.match(/^[\d]+$/))return s;if(-1!==s.indexOf(".")){let a=s.split(".")[0];if("window"==a||"scopedVars"==a)return s}return r=(n||"main")+"."+s,l=_get(scopedVars,r),l?"scopedVars."+r:s}))},_replaceAttrs=(a,n,r=null,l=null,s="",c=null)=>{if(!n)return"";if(-1!==n.indexOf("{$RAND}")){let a=Math.floor(1e7*Math.random());n=n.replace(/\{\$RAND\}/g,a)}return-1===n.indexOf("{=")||l&&["CreateCommand","CreateConditional","Eval","Run"].includes(l.func)||(n=ActiveCSS._sortOutFlowEscapeChars(n),n=_replaceJSExpression(n)),-1!==n.indexOf("{@")&&(n=n.replace(/\{\@([^\t\n\f \/>"'=(?!\{)]+)\}/gi,(function(n,s){let c,i=s.split("."),u=[];if(i[1]&&"selected"==i[0]&&"SELECT"==a.tagName){if(c=a.options[a.selectedIndex].getAttribute(i[1]),c)return _escapeItem(c);if(c=a.options[a.selectedIndex][i[1]],c)return _escapeItem(c);u.push("Neither attribute or property "+i[1]+" found in target or primary selector:")}else{let n=s.lastIndexOf(":");if(-1!==n){let r,i=s.substr(0,n);if("host"!=i||l&&-1!==["beforeShadowOpen","shadowOpen"].indexOf(l.event))r=_getSel(l,i);else{if(!a.shadowRoot)return"{@"+s+"}";r=a.shadowRoot}let d=s.substr(n+1);if("IFRAME"==r.tagName&&"url"==d)return _escapeItem(r.contentWindow.location.href);if(c=r.getAttribute(d),c)return _escapeItem(c);if(c=r[d],c)return _escapeItem(c);u.push("Neither attribute or property "+d+" found in target or primary selector:")}else if(a&&"string"!=typeof a){if(r){if(c=r.getAttribute(s),c)return _escapeItem(c);if(c=r[s],c)return _escapeItem(c)}if(c=a.getAttribute(s),c)return _escapeItem(c);if(c=a[s],c)return _escapeItem(c);u.push("Attribute not property "+s+" found in target or primary selector:")}}return u&&u.push(a),""}))),_replaceScopedVars(n,r,s,l,null,null,c)},_replaceComponents=(a,n,r)=>{let l,s=0;for(;s<50&&(l=!1,s++,n=(n=n.replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-_]+)\}/gi,(function(a,n){let r=document.getElementById(n);return r?r.innerHTML:"{#"+n+"}"}))).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-_]+)\}/gi,(function(n,r){if(!components[r])return"{|"+r+"}";let s=components[r].data.trim();if(l=!0,s=ActiveCSS._sortOutFlowEscapeChars(s),s="0"!=a.loopRef?_replaceLoopingVars(s,a.loopVars):s,components[r].shadow){let a='<data-shadow data-name="'+r+'" data-ref="'+ ++shadowCo+'" data-mode="'+components[r].mode+'"></data-shadow>';shadowPending[shadowCo]=s,s=a}else s=_replaceAttrs(a.obj,s,null,null,a.func,a.shadowRef),s=-1!==s.indexOf("{$")?_replaceStringVars(a.ajaxObj,s):s;return s||""})),l););return 50==s&&console.log("Active CSS recursion detected during component rendering. Skipped after 50 attempts.\nFile: "+a.file+", line: "+a.line),n},_replaceJSExpression=(a,n=!1,r=!1)=>{let l;return a=a.replace(/\{\=([\s\S]*?)\=\}/gm,(function(s,c){c=_replaceScopedVarsExpr(c);try{l=Function("scopedVars",'"use strict";return ('+c+");")(scopedVars)}catch(n){console.log("JavaScript expression syntax error: "+a),console.log("Actual expression evaluated: "+c)}if(!n){let a="";r&&(a='"'),l=!0===l?"true":!1===l?"false":"string"==typeof l?a+l+a:"number"==typeof l?l.toString():"Invalid expression ("+c.trim()+")"}return l})),n?l:a},_replaceScopedVars=(a,n=null,r="",l=null,s=!1,c=null,i=null)=>{let u,d,p,f,_;if(-1===a.indexOf("{{")||s||-1===a.indexOf("</"))a=_replaceScopedVarsDo(a,n,r,l,!1,c,i);else{for(u=document.createElement("template"),u.innerHTML=a,d=document.createTreeWalker(u.content,NodeFilter.SHOW_TEXT);d.nextNode();)p=d.currentNode.parentNode,11!=p.nodeType&&(_=_getActiveID(p),f=d.currentNode.textContent,d.currentNode.textContent=_replaceScopedVarsDo(f,p,"Render",null,!0,c,i));for(d=document.createTreeWalker(u.content,NodeFilter.SHOW_ELEMENT);d.nextNode();){p=d.currentNode;let a,n=p.attributes;for(a of n){if(-1!==["data-activeid"].indexOf(a.nodeName))continue;let n=_replaceScopedVarsDo(a.nodeValue,null,"SetAttribute",{secSelObj:p,actVal:a.nodeName+" "+a.nodeValue},!0,c,i);d.currentNode.setAttribute(a.nodeName,n)}}a=(a=(a=(a=(a=u.innerHTML).replace(/_cj_s_lt_/gm,"\x3c!--")).replace(/_cj_s_gt_/gm,"--\x3e")).replace(/_cj_s_lts_/gm,"/*")).replace(/_cj_s_gts_/gm,"*/")}return a},_replaceScopedVarsDo=(a,n=null,r="",l=null,s=!1,c=null,i=null)=>{let u,d=!1,p=!1,f=!1,_=a;return-1!==a.indexOf("{")&&(a=a.replace(/\{((\{)?(\@)?[\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\:\[\]]+(\})?)\}/gm,(function(a,g){let S;if("{"==g[0]&&(d=!0,g=g.slice(1,-1)),"@"==g[0]){if(!c)return a;p=!0;let n="host:";if(-1===(g=g.slice(1)).indexOf(n))return console.log("Non shadow-host attribution substitution is not yet supported! Let us know that you want it."),a;if(f=!0,g=g.replace(n,""),!c.hasAttribute(g))return console.log("Shadow host attribute "+g+" not found."),a;u=_escapeItem(c.getAttribute(g)),S=c.getAttribute("data-activeid").replace("d-","")+"HOST"+g}else{if(-1!==(g=(g=g.replace(/\[/,".")).replace(/\]/,"")).indexOf(".")){let a=g.split(".")[0];if("window"==a)return g;"scopedVars"==a&&(g=g.replace(/^scopedVars\./,""))}u=_get(scopedVars,g=i?i+"."+g:"main."+g),u=!0===u?"true":!1===u?"false":"string"==typeof u?_escapeItem(u):"number"==typeof u?u.toString():u&&"object"==typeof u?"__object":"",S=g}if(d&&-1!==r.indexOf("Render")){let a,r;return _addScopedCID(S,n),"STYLE"==n.tagName?(a=s?"_cj_s_lts_":"/*",r=s?"_cj_s_gts_":"*/"):(a=s?"_cj_s_lt_":"\x3c!--",r=s?"_cj_s_gt_":"--\x3e"),a+"active-var-"+S+r+u+a+"/active-var"+r}return"SetAttribute"==r&&_addScopedAttr(S,l,_,s),u}))),a},_replaceScopedVarsExpr=(a,n=null,r="",l=null,s=!1,c=null,i=null)=>{let u,d,p;return a=a.replace(/([\u00BF-\u1FFF\u2C00-\uD7FFa-z][\u00BF-\u1FFF\u2C00-\uD7FF\w_\.\:\[\]]+)(?!\u00BF-\u1FFF\u2C00-\uD7FF\w)/gim,(function(a,n){if(d=n,-1!==n.indexOf(".")){if(p=n.split(".")[0],"window"==p)return n;"scopedVars"==p&&(n=n.replace(/^scopedVars\./,""))}return u=_get(scopedVars,n=i?i+"."+n:"main."+n),u?"scopedVars."+n:d}))},_replaceStringVars=(a,n)=>n.replace(/{\$STRING\}/gi,a&&a.res?a.res:""),_resolveAjaxVars=a=>{if("object"==typeof a.res){let n=a.shadowRef?a.shadowRef:"main";"main"==n?_resolveAjaxVarsDecl(a.res,n):setTimeout((function(){_resolveAjaxVarsDecl(a.res,n)}),0)}},_resolveAjaxVarsDecl=(a,n)=>{let r;for(r in a)void 0===scopedVars[n]&&(scopedVars[n]={}),_set(scopedVars,n+"."+r,a[r])},_resolvePath=(a,n=self,r=".")=>((Array.isArray(a)?a:a.split(r)).reduce((a,n)=>a&&a[n],n),n);ActiveCSS._sortOutFlowEscapeChars=a=>ActiveCSS._mapRegexReturn({_ACSS_later_comma:",",_ACSS_later_brace_start:"{",_ACSS_later_brace_end:"}",_ACSS_later_semi_colon:";",_ACSS_later_colon:":",_ACSS_later_double_quote:'"'},a),ActiveCSS._varUpdateDom=a=>{let n,r,l,s;for(n of a)if(-1!==n.currentPath.indexOf(".")||-1!==n.currentPath.indexOf("HOST"))if("object"==typeof n.previousValue||"object"==typeof n.newValue)for(s of(n.previousValue=n.previousValue?n.previousValue:[],n.previousValue=!0===n.previousValue.__isProxy?n.previousValue.__getTarget:n.previousValue,l=recursiveDiff.getDiff(n.previousValue,n.newValue),l))s.path=n.currentPath+(s.path?"."+s.path.join("."):""),r=_get(scopedData,s.path),r&&(s.val=s.val?s.val:"",_varUpdateDomDo({currentPath:s.path,newValue:s.val,type:s.op},r));else{if(r=_get(scopedData,n.currentPath),!r)continue;_varUpdateDomDo(n,r)}};const _varUpdateDomDo=(a,n)=>{let r,l,s,c,i,u,d,p,f,_,g,S;if(r=a.newValue,S=a.currentPath.indexOf("HOST"),_=null,g=document,-1!==S)_=document.querySelector('[data-activeid="id-'+a.currentPath.substr(1,S-1)+'"]'),g=_.shadowRoot;else if("_"==a.currentPath.substr(0,1)){let n=a.currentPath.substr(0,a.currentPath.indexOf("."));if("delete"==a.type&&""==n)return delete shadowDoms[a.currentPath],void delete scopedData[a.currentPath];if(g=shadowDoms[n],void 0===g)return;_=g.host}for(l in n.cids)if(s=g.querySelector('[data-activeid="'+l+'"]'),s){for(c=document.createTreeWalker(s,NodeFilter.SHOW_COMMENT),i=document.createTextNode(r);c.nextNode();)if(u=c.currentNode,u.data=="active-var-"+a.currentPath&&"/active-var"!=u.data&&u.parentNode.isEqualNode(s)){if("/active-var"==u.nextSibling.data){let a=document.createTextNode(i.textContent);u.parentNode.insertBefore(a,u.nextSibling)}else u.nextSibling.textContent=i.textContent;c.nextNode()}else c.nextNode();if("STYLE"==s.tagName){let n=new RegExp("\\/\\*active\\-var\\-"+a.currentPath+"\\*\\/(((?!\\/\\*).)*)\\/\\*\\/active\\-var\\*\\/","g"),r=s.textContent;r=r.replace(n,(function(n,r){return"/*active-var-"+a.currentPath+"*/"+i.textContent+"/*/active-var*/"})),s.textContent=r}}else delete n.cids[l];for(l in n.attrs)if(s=g.querySelector('[data-activeid="'+l+'"]'),s)for([d,p]of Object.entries(n.attrs[l])){if(!s.hasAttribute(d))return;f=_replaceScopedVars(p,null,"",null,!0,_),s.setAttribute(d,f)}else delete n.attrs[l]};ActiveCSS._deHighlightDOM=()=>{document.querySelectorAll(".activecss-internal-devtools-overlay").forEach((function(a){ActiveCSS._removeObj(a)}))};const _drawHighlight=(a,n)=>{let r=document.createElement("div");r.classList="activecss-internal-devtools-overlay","full"==n?(r.style.backgroundColor="rgba(81, 136, 195, 0.46)",r.style.border="1px solid #34f4ff"):r.style.border="3px dashed #34f4ff",r.style.position="fixed",r.style.zIndex="99999999999999",r.style.display="block",r.style.borderRadius="3px",r.style.top=a.y+"px",r.style.left=a.x+"px",r.style.width=a.width+(isNaN(a.width)?"":"px"),r.style.height=a.height+(isNaN(a.height)?"":"px"),document.body.appendChild(r)};ActiveCSS._hasSetupEnded=()=>!!setupEnded,ActiveCSS._highlightDOM=a=>{if("body"==(a=_stripOffConditionals(a))||"window"==a)_drawHighlight({x:0,y:0,width:"100%",height:"100%"},"full");else{try{document.querySelectorAll(a).forEach((function(a){if("none"!==getComputedStyle(a,null).display)_drawHighlight(a.getBoundingClientRect(),"full");else{let n=a.style.getPropertyValue("display"),r=a.style.getPropertyPriority("display");a.style.setProperty("display","block","important"),_drawHighlight(a.getBoundingClientRect()),""!==n?a.style.removeProperty("display"):a.style.setProperty("display",n,r)}}))}catch(n){console.log(a+" is not a valid selector.")}}};const _sendMessage=(a,n,r,l="")=>{let s;if("object"==typeof a){let n=Object.assign({},a);n.e&&(n.e=""),n.doc&&(n.doc=""),n.shadowDoc&&(n.shadowDoc=""),n.obj&&(n.obj=""),n.secSelObj&&(n.secSelObj=""),s=JSON.stringify(n)}else s=a;if(!setupEnded)return debuggerCo++,void devtoolsInit.push([s,n,debuggerCo]);"debugOutput"==n&&(l||(l=++debuggerCo)),window.postMessage({message:s,messageType:n,orderNo:l,whereTo:r,source:"causejs-devtools-extension"},"*")};ActiveCSS._sendOverMediaQueries=()=>JSON.stringify(Object.assign({},mediaQueriesOrig));const _stripOffConditionals=a=>{let n,r=a.split(":"),l=r.length,s=r[0];for(n=1;n<l;n++)""!==r[n].trim()&&(s+=conditionals[r[n]]?"":":"+r[n]);return s},_tellElementsToUpdate=()=>{debuggerActive&&_sendMessage("reloadElements","instruction","editor")},_tellPanelToUpdate=()=>{debuggerActive&&_sendMessage("reloadPanel","instruction","tracker")};ActiveCSS._addToConfig=(a,n,r,l,s,c,i,u)=>{switch(_setupEvent(n,r),a){case"a":u=_cleanUpRuleValue(u);let a,d=config,p=u.split(", "),f=p.length;for(a=0;a<f;a++)config=_assignRule(d,r,n,l,c,i,p[a],"","",s)}_tellPanelToUpdate()},ActiveCSS._checkEvEditor=a=>!(!evEditorExtID||evEditorExtID!=a),ActiveCSS._checkEventDupe=(a,n,r)=>{if(!(config[a]&&config[a][r]&&config[a][r][n||0]))return 0;try{return document.querySelector(a)?1:2}catch(n){return console.log(a+" is not a valid selector (4)."),2}},ActiveCSS._checkPrimSel=(a,n,r)=>{if("window"==n||"body"==n)return!0;let l=!1;try{return document.querySelectorAll(n).forEach((function(n,r){if(n.contains(a))return l=!0,!1})),!!l}catch(a){return console.log(n+" is not a valid selector (2)."),!1}};const _cleanUpRuleValue=a=>{let n,r=a.split(","),l=r.length;for(n=0;n<l;n++)r[n]=r[n].trim();return r.join(", ")};ActiveCSS._editConfig=(a,n,r,l,s,c,i,u="",d="",p="",f="",_="",g="",S="",m="")=>{switch(u=u||"0",d=d||"0",_setupEvent(r,s),S=_cleanUpRuleValue(S),m=_cleanUpRuleValue(m),a){case"p":if(!(config[l]&&config[l][n]&&config[l][n][c]&&config[l][n][c][u]))return;let a,h,v,b=config[l][n][c][u];for(a in delete config[l][n][c][u],0===Object.keys(config[l][n][c]).length&&delete config[l][n][c],0===Object.keys(config[l][n]).length&&delete config[l][n],0===Object.keys(config[l]).length&&delete config[l],b)for(h=b[a].length,v=0;v<h;v++)g=b[a][v].name,m=b[a][v].value,ActiveCSS._addToConfig("a",r,s,i,d,a,g,m);break;case"s":if(!(config[l]&&config[l][n]&&config[l][n][c]&&config[l][n][c][u][p]&&config[l][n][c][u][p]))return;let C=config[l][n][c][u][p];delete config[l][n][c][u][p],config[l][n][c][u][f]=C;break;case"a":ActiveCSS._removeFromConfig("a",r,s,i,d,f,_,S),ActiveCSS._addToConfig("a",r,s,i,d,f,g,m)}_tellPanelToUpdate()},ActiveCSS._formatConditional=a=>{let n,r=a.split(":"),l=r.length,s=r[0];for(n=1;n<l;n++)""!==r[n].trim()&&(s+=":",s+=conditionals[r[n]]?'<span class="active-event-cond-inline">'+r[n]+"</span>":r[n]);return s},ActiveCSS._inspectEl=a=>{try{let n=document.querySelector(a);inspect(n)}catch(n){console.log(a+" is not a valid selector (3).")}};const _miniHandleEventForEditor=a=>{let n,r,l,s,c=a.obj,i=a.thisAction,u=a.component?"|"+a.component:null,d=[],p={},f=!1,_=selectors[i].length;if(u){for(n=0;n<_;n++)if(s=selectors[i][n].indexOf(":"),selectors[i][n].substr(0,s)===u&&(r=selectors[i][n].substr(s+1),-1===r.indexOf("<")&&!d.includes(selectors[i][n])))if("&"==r)d.push(selectors[i][n]);else try{c.matches(r)&&d.push(selectors[i][n])}catch(a){}}else for(n=0;n<_;n++)if(!["~","|"].includes(selectors[i][n].substr(0,1))&&(r=selectors[i][n],-1===r.indexOf("<")&&!d.includes(selectors[i][n])))try{c.matches(r)&&d.push(selectors[i][n])}catch(a){}for(_=d.length,l=0;l<_;l++)config[d[l]]&&config[d[l]][i]&&(p[d[l]]||(p[d[l]]={}),p[d[l]]=config[d[l]][i],f=!0);return[p,f]},_removeArrItem=(a,n)=>{let r;for(r=0;r<a.length;r++)if(a[r]===n){a.splice(r,1);break}return a};ActiveCSS._removeFromConfig=(a,n,r,l,s,c,i,u)=>{switch(a){case"p":if(!config[r]||!config[r][n]||!config[r][n][l])return;delete config[r][n][l],0===Object.keys(config[r][n]).length&&delete config[r][n],0===Object.keys(config[r]).length&&delete config[r];break;case"s":if(!(config[r]&&config[r][n]&&config[r][n][l]&&config[r][n][l][s]&&config[r][n][l][s][c]))return;_removeArrItem(config[r][n][l][s],config[r][n][l][s][c]),0===config[r][n][l][s].length&&_removeArrItem(config[r][n][l],config[r][n][l][s]),0===Object.keys(config[r][n][l]).length&&delete config[r][n][l],0===Object.keys(config[r][n]).length&&delete config[r][n],0===Object.keys(config[r]).length&&delete config[r];break;case"a":config=_removeRule(config,r,n,l,s,c,i,u)}_tellPanelToUpdate()};const _removeRule=(a,n,r,l,s,c,i,u)=>{let d;if(void 0===a[n][r][l])return a;if(void 0===a[n][r][l][s])return a;if(void 0===a[n][r][l][s][c])return a;if(d=ActiveCSS._getPosOfRule(a[n][r][l][s][c],i),-1!=d)if(u=_cleanUpRuleValue(u),a[n][r][l][s][c][d].value==u)a[n][r][l][s][c].splice(d,1),0===a[n][r][l][s][c].length&&_removeArrItem(config[n][r][l][s],config[n][r][l][s][c]),0===a[n][r][l][s].length&&delete config[n][r][l][s],0===Object.keys(a[n][r][l]).length&&delete config[n][r][l],0===Object.keys(a[n][r]).length&&delete config[n][r],0===Object.keys(a[n]).length&&delete config[n];else{let i,p,f,_,g=u.split(","),S=g.length;for(i=0;i<S;i++)_=g[i].trim(),p=a[n][r][l][s][c][d].value.split(", "),f=p.indexOf(_),-1!==index&&p.splice(index,1),a[n][r][l][s][c][d].value=p.join(", ")}return a};ActiveCSS._returnTree=a=>{if(!setupEnded)return;let n,r,l,s,c,i={},u=a;s=_getRootNode(a),supportsShadow&&s instanceof ShadowRoot&&(c=s.host._acssComponent,c||(c=null)),Object.keys(selectors).sort().forEach((function(s){var d,p,f="";a=u,r=0;let _=s;if(_=_getRealEvent(_),l=!0,!1===_&&(l=!1),f=c,l){let a=document.createElement("div");a.id="cause-js-elements-ext",document.body.append(a),a.attachShadow({mode:"open"});let n=document.createElement("div");a.shadowRoot.append(n),n.addEventListener(_,(function(a){a.preventDefault(),a.stopImmediatePropagation(),d=a.bubbles,p=a.composed}),{capture:!1,once:!0});try{n[_]()}catch(a){d=!1,p=!1}ActiveCSS._removeObj(a)}else d=!1;if("mouseover"!=s&&"click"!=s||"A"==a.tagName&&1!==a["data-active-nav"]&&_setUpNavAttrs(a),"window"!=a&&a){for(;a.parentNode&&(n=_miniHandleEventForEditor({obj:a,thisAction:s,component:f}),n[1]&&(i[s]||(i[s]={}),i[s][r]||(i[s][r]={}),i[s][r]=n[0],r++),d);)if((a=a.parentNode)&&supportsShadow&&a instanceof ShadowRoot){if(!p)break;a=a.host;let n=_getRootNode(a);n.isEqualNode(document)?f=null:(f=n.host._acssComponent)||(f=null)}n=_miniHandleEventForEditor({obj:window,thisAction:s})}})),_sendMessage(i,"treeSent","editor")},ActiveCSS._startEvEditor=a=>(evEditorActive=!0,evEditorExtID=a,coreVersionExtension),ActiveCSS._checkDebugger=a=>!(!debuggerExtID||debuggerExtID!=a);const _debugOutput=a=>{a.feedbackRes=[],_sendMessage(a,"debugOutput","tracker")};ActiveCSS._sendInitMessages=()=>{let a,n=devtoolsInit.length;for(a=0;a<n;a++)_sendMessage(devtoolsInit[a][0],devtoolsInit[a][1],"tracker",devtoolsInit[a][2]);devtoolsInit=[]},ActiveCSS._sendOverComponents=()=>JSON.stringify(Object.assign({},components)),ActiveCSS._sendOverConditionals=()=>JSON.stringify(Object.assign({},conditionals)),ActiveCSS._sendOverConfig=()=>JSON.stringify(Object.assign({},config)),ActiveCSS._sendOverEvents=()=>debuggerEvs,ActiveCSS._startDebugger=a=>(debuggerness=!0,debuggerActive=!0,debuggerExtID=a,coreVersionExtension);const _stopDebugger=()=>{debuggerness=!1,debuggerActive=!1},_stopEvEditor=()=>{evEditorActive=!1},_cookieExists=a=>!(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie),_getCookie=a=>a&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null,_setCookie=(a,n,r,l,s,c)=>{if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var i="";if(r)switch(r.constructor){case Number:i=r===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+r;break;case String:i="; expires="+r}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(n)+i+(s?"; domain="+s:"")+(l?"; path="+l:"")+(c?"; secure":""),!0},_addActValRaw=a=>{a.avRaw=a.actVal,a.avRaw.indexOf("?")&&(a.avRaw=_getBaseURL(a.avRaw))},_ajax=(a,n,r,l,s,c,i)=>{preGetMid++;var u,d=new XMLHttpRequest;switch(d.open(a,r,!0),n){case"html":case"txt":u="text/html";break;case"json":u="application/json";break;default:u="application/x-www-form-urlencoded"}d.setRequestHeader("Content-type",u),d.onreadystatechange=function(){if(4==d.readyState){if(200!=d.status){if(preGetMid--,!c)return void console.log("Tried to get file: "+r+", but failed with error code: "+d.status);c(d.responseText,d.status,i)}preGetMid--,null!==s&&s(d.responseText,i)}},"POST"==a&&null!==l?d.send(l):d.send()},_ajaxCallback=(a,n)=>{"string"==typeof a&&""!==a.trim()?(n.res="JSON"==n.dataType?JSON.parse(a):a,_resolveAjaxVars(n)):n.res="",!n.error&&n.preGet?ajaxResLocations[n.finalURL]=n.res:(_ajaxDisplay(n),!n.error&&n.cache&&(ajaxResLocations[n.finalURL]=n.res))},_ajaxCallbackErr=(a,n,r)=>{r.preGet?(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax-pre-get callback error debug: failed with error "'+n+'".'):(r.error=!0,r.errorCode=n,_ajaxCallback(a,r),(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax callback error debug: failed with error "'+n+'".'))},_ajaxDisplay=a=>{let n="afterAjax"+(a.formSubmit?"Form"+(a.formPreview?"Preview":a.formSubmit?"Submit":""):"");a.error&&(n+=a.errorCode),_handleEvents({obj:a.obj,evType:n,otherObj:a,shadowRef:a.shadowRef,shadowDoc:a.shadowDoc,component:a.component}),""!==a.hash&&(document.location.hash="",document.location.hash=a.hash)},_ajaxDo=a=>{if(a.preGet&&preGetMid){let n=_getParVal(a.actVal,"max");if(preGetMid==(preGetMax=""!=n?n:6))return}let n=a.actVal.split(" ");a.formMethod=_optDef(n,"get","GET","POST"),a.dataType=_optDef(n,"html","HTML","JSON"),a.cache=_optDef(n,"cache",!0,!1),a.nocache=_optDef(n,"nocache",!0,!1);let r=(a.nocache?"_="+Date.now()+"&":"")+"_ACSS=1"+(a.formPreview?"&_ACSSFORMPREVIEW=1":"")+(a.formSubmit?"&_ACSSFORMSUBMIT=1":"")+"&_ACSSTYPE="+a.dataType;a.pars=r;let l=a.url;if(""===l)return;a.formSubmit&&(a.pars+="&"+_checkForm(a.secSelObj,"pars")),"GET"==a.formMethod&&(l=_appendURIPar(l,a.pars,a.doc)),a.hash="";let s=l.indexOf("#");-1!==s&&(a.hash=l.substr(s+1),l=l.substr(0,s)),l=_attachGetVals(a.actVal,l,a.doc,"get-pars"),a.pars=_attachPostVals(a.actVal,a.pars),a.finalURL="GET"==a.formMethod?l:_appendURIPar(l,a.pars,a.doc),ajaxResLocations[a.finalURL]?a.preGet||(a.res=ajaxResLocations[a.finalURL],_resolveAjaxVars(a),_ajaxDisplay(a)):_ajax(a.formMethod,a.dataType,l,a.pars,_ajaxCallback.bind(this),_ajaxCallbackErr.bind(this),a)},_appendURIPar=(a,n,r)=>{var l=new RegExp("^([a-z]+://|//)","i");""!==a&&l.test(a)||(a=window.location.protocol+"//"+window.location.host+("/"!=a.substr(0,1)?"/":"")+a);let s,c,i=new URL(a),u=n.split("&"),d="";for(s of u)if(-1!==s.indexOf("="))c=s.split("="),c[1]?i.searchParams.set(c[0],c[1]):i.searchParams.set(c[0],"");else if("{#"==s.substr(0,2)){let a=s.slice(2,-1),n=r.getElementById(a);if("FORM"==n.tagName){let a=_checkForm(n,"pars"),l=_appendURIPar(i,a,r);i=new URL(l)}}else d+=s;return i+d},_attachGetVals=(a,n,r,l)=>{let s=_getParVal(a,l);return s&&(n=_appendURIPar(n,s,r)),n},_attachPostVals=(a,n)=>{let r=_getParVal(a,"post-pars");return r&&(n+="&"+r),n},_getFile=(a,n,r={})=>{_ajax("GET",n,a,null,_addConfig.bind(this),_addConfigError.bind(this),r)},_getParVal=(a,n)=>{if(-1!==a.indexOf(n+"(")){let r=new RegExp(n+"[\\(]([\\s\\S]+)[\\)]","g").exec(a)||"";if(r)return r[1]}return""},_actValSelItem=a=>{let n=a.actVal.split(" "),r=n.splice(-1);return[_getSel(a,n.join(" ")),r[0]]};ActiveCSS._addClassObj=(a,n)=>{if(!a||!a.classList)return;let r=n.replace(".","").split(" ");a.classList.add(...r)};const _checkForm=(a,n)=>{if(!a)return!1;for(var r,l,s,c,i,u,d="check"==n,p="pars"==n,f="",_=[],g=0,S=a.elements.length;g<S;g++)if(l=!1,(r=a.elements[g]).hasAttribute("name")){switch(r.nodeName.toLowerCase()){case"select":for(s=0,c=0,i=r.options.length;c<i;c++)u=r.options[c],l=l||u.selected!=r.defaultSelected,u.defaultSelected&&(s=c);l&&!r.multiple&&(l=s!=r.selectedIndex),f+="&"+r.getAttribute("name")+"="+encodeURIComponent(r.options[r.selectedIndex].value);break;case"textarea":case"input":switch(r.type.toLowerCase()){case"checkbox":l=r.checked!=r.defaultChecked,f+="&"+r.getAttribute("name")+"="+(r.checked?"on":"");break;case"radio":l=r.checked!=r.defaultChecked,r.checked&&(f+="&"+r.getAttribute("name")+"="+encodeURIComponent(r.value));break;default:l=r.value!=r.defaultValue,f+="&"+r.getAttribute("name")+"="+encodeURIComponent(r.value)}break;case"hidden":f+=p?"&"+r.getAttribute("name")+"="+encodeURIComponent(r.value):""}d&&l&&_.push(r)}return d?!!_.length:p?"_ACSSFORMNAME="+(a.name?a.name:"")+f:void 0},_composedPath=a=>{if(a.composedPath)return a.composedPath();{if(a.path)return a.path;let n=a.target,r=[];for(;null!==n.parentNode;)r.push(n),n=n.parentNode;return r.push(document,window),r}},_convertToMS=(a,n)=>{if("stack"==a)return 0;var r=/^(\d+)(ms|s)?$/i.exec(a);if(!r)return console.log(n),!1;var l=parseFloat(r[1]);return"s"==(r[2]||"ms").toLowerCase()?1e3*l:l};ActiveCSS._decodeHTML=a=>(new DOMParser).parseFromString(a,"text/html").documentElement.textContent;const _doDebug=(a,n)=>{if(n){if(-1!==debugMode.indexOf(":")){let r=n.split(":");return-1!==debugMode.indexOf(r[0]+":"+a)}return-1!==debugMode.indexOf(n)||-1!==debugMode.indexOf(a)}return-1!==debugMode.indexOf(":")?-1!==debugMode.indexOf(a)&&debugMode.indexOf(":")!==debugMode.indexOf(a)-1:-1!==debugMode.indexOf(a)},_eachRemoveClass=(a,n,r)=>{r.querySelectorAll("."+a).forEach((function(a,r){a&&ActiveCSS._removeClassObj(a,n)}))};function _escCommaBrack(a,n){a=(a=a.replace(/\\\"/g,"_ACSS_i_dq")).replace(/\\'/g,"_ACSS_i_sq");let r,l={"\\,":"__ACSS_int_com","\\(":"_ACSS_i_bo","\\)":"_ACSS_i_bc","\\{":"_ACSS_i_co","\\}":"_ACSS_i_cc","\\[":"_ACSS_i_so","\\]":"_ACSS_i_sc"},s={",":"__ACSS_int_com","(":"_ACSS_i_bo",")":"_ACSS_i_bc","{":"_ACSS_i_co","}":"_ACSS_i_cc","[":"_ACSS_i_so","]":"_ACSS_i_sc"},c=(a=(a=a.replace(/("([^"]|"")*")/g,(function(a,n){return ActiveCSS._mapRegexReturn(l,n,s)}))).replace(/('([^']|'')*')/g,(function(a,n){return ActiveCSS._mapRegexReturn(l,n,s)}))).split(","),i=0,u="";for(r of c)i+=r.split("[").length-r.split("]").length,i+=r.split("(").length-r.split(")").length,i+=r.split("{").length-r.split("}").length,u+=0!==i?r+"__ACSS_int_com":r+",";return 0!==i?(u=_escCommaBrackClean(u,s),u=u.replace(/__ACSS_int_com/g,","),console.log("Unbalanced JavaScript equation in var command - too many brackets, curlies or parentheses, or there could be incorrectly escaped characters: "+u+", in config: "+n.file+", line: "+n.line),u):(u=u.slice(0,-1),u=u.replace(/\,/g,"_ACSSComma"),u=_escCommaBrackClean(u),u)}function _escCommaBrackClean(a,n){let r={_ACSS_i_dq:'\\"',_ACSS_i_sq:"\\'",__ACSS_int_com:",",_ACSS_i_bo:"(",_ACSS_i_bc:")",_ACSS_i_co:"{",_ACSS_i_cc:"}",_ACSS_i_so:"[",_ACSS_i_sc:"]"};return a=(a=a.replace(/("([^"]|"")*")/g,(function(a,n){return ActiveCSS._mapRegexReturn(r,n)}))).replace(/('([^']|'')*')/g,(function(a,n){return ActiveCSS._mapRegexReturn(r,n)}))}const _fullscreenDetails=()=>{let a;return a="MSGesture"in window?[document.webkitFullscreenElement,"webkit"]:[document.fullscreenElement,""],a},_get=(a,n,r=null)=>(a=a[(n=Array.isArray(n)?n:n.replace(/(\[(\d)\])/g,".$2").split("."))[0]])&&n.length>1?_get(a,n.slice(1),r):void 0===a?r:a,_getActiveID=a=>!(!a||!a.dataset)&&(a.dataset.activeid||(activeIDTrack++,a.dataset.activeid="id-"+activeIDTrack),a.dataset.activeid),_getBaseURL=a=>a.substr(0,a.indexOf("?")),_getFieldValType=a=>{switch(a.tagName){case"INPUT":case"TEXTAREA":return"value";default:return"innerText"}},_getFocusedOfNodes=a=>{let n,r,l,s=-1,c=-1;if(n=_splitIframeEls(a),!n)return!1;if(null===n[0].activeElement)return-1;for(l of(r=n[0].querySelectorAll(n[1])||null,r))if(s++,l.isSameNode(n[0].activeElement)){c=s;break}return[r,c]},_getObj=a=>{let n=_splitIframeEls(a);if(!n)return!1;try{return n[0].querySelector(n[1])}catch(a){return!1}},_getRealEvent=a=>{let n=a.substr(0,5);if("after"==n&&"afterprint"!=a)return!1;if("keyup"==n)a="keyup";else if("keydown"==a.substr(0,7))a="keydown";else if("fullscreenEnter"==a||"fullscreenExit"==a)a=_fullscreenDetails()[1]+"fullscreenchange";else{if(["draw","disconnectCallback","adoptedCallback","attributeChangedCallback","beforeShadowOpen","shadowOpen"].includes(a))return!1;if("attrChanges-"==a.substr(0,12))return!1}return a},_getRootNode=a=>document.head.attachShadow?a.getRootNode():document,_getSel=(a,n)=>{switch(n){case"me":case"self":case"this":return a.secSelObj;case"host":return-1!==["beforeShadowOpen","shadowOpen"].indexOf(a.event)?a.secSelObj:_getRootNode(a.secSelObj).host;default:return _getObj(n)}},_getValFromList=(a,n,r=!1)=>{let l,s,c,i=-1;for(l in a)if(a.hasOwnProperty(l)){if(i++,s=a[l],r&&s.name==n)return i;for(c in s)if(s.hasOwnProperty(c)&&!r&&s[c]==n)return s.value.replace(/"/g,"")}return!!r&&-1},_getWindow=a=>{try{return a.defaultView||a.parentWindow}catch(a){return window}},_handleQuoAjax=(a,n)=>n._ACSSRepQuo();ActiveCSS._hasClassObj=(a,n)=>a.classList.contains(n)||!1;const _ifFocus=(a,n=!0)=>{let r=_getFocusedOfNodes(a.actVal);return n?0===r[1]:r[1]==r[0].length-1};ActiveCSS._ifVisible=(a,n)=>{let r=("object"==typeof a.actVal?a.actVal:""==a.actVal._ACSSRepQuo().trim()?a.secSelObj:_getSel(a,a.actVal)).getBoundingClientRect(),l=r.top,s=r.bottom;return n?l>=0&&s<=window.innerHeight:l<window.innerHeight&&s>=0};const _mimicReset=a=>{var n,r;for(n in a.target.cjsReset)if("title"!=n)switch((r=a.target.cjsReset[n]).type){case"text":r.el.innerText=r.value;break;default:r.el.value=r.value}a.target.cjsReset.title&&(currDocTitle=ActiveCSS._decodeHTML(a.target.cjsReset.title),document.title=currDocTitle)},_optDef=(a,n,r,l)=>(Array.isArray(a)||(a=a.split(" ")),-1!==a.findIndex(a=>n===a.toLowerCase())?r:l),_outDebug=(a,n)=>{if(a){let a;for(a of n)console.log(a)}};var e,t;e="undefined"!=typeof self?self:this,t=function(){return function(a){var n={};function r(l){if(n[l])return n[l].exports;var s=n[l]={i:l,l:!1,exports:{}};return a[l].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=a,r.c=n,r.d=function(a,n,l){r.o(a,n)||Object.defineProperty(a,n,{enumerable:!0,get:l})},r.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,n){if(1&n&&(a=r(a)),8&n)return a;if(4&n&&"object"==typeof a&&a&&a.__esModule)return a;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:a}),2&n&&"string"!=typeof a)for(var s in a)r.d(l,s,function(n){return a[n]}.bind(null,s));return l},r.n=function(a){var n=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(n,"a",n),n},r.o=function(a,n){return Object.prototype.hasOwnProperty.call(a,n)},r.p="",r(r.s=0)}([function(a,n,r){const{types:l,iterableTypes:s,errors:c}=r(1),i=r(2),u={[l.NUMBER]:i.isNumber,[l.BOOLEAN]:i.isBoolean,[l.STRING]:i.isString,[l.DATE]:i.isDate,[l.UNDEFINED]:i.isUndefined,[l.NULL]:i.isNull,[l.ARRAY]:i.isArray,[l.MAP]:i.isMap,[l.SET]:i.isSet,[l.ITERABLE_OBJECT]:i.isIterableObject},d={[l.DATE]:i.areDatesEqual};function p(a){const n=Object.keys(u);let r=l.DEFAULT;for(let l=0;l<n.length;l+=1)if(u[n[l]](a)){r=n[l];break}return r}function f(a,n,r,s){let c;return r===l.UNDEFINED&&s!==l.UNDEFINED?c="add":r!==l.UNDEFINED&&s===l.UNDEFINED?c="delete":function(a,n,r,l){return r===l&&(d[r]?d[r](a,n):a===n)}(a,n,r,s)?i.noop():c="update",c}const _={add:i.setValueByPath,update:i.setValueByPath,delete:i.deleteValueByPath};a.exports={getDiff:(a,n,r=!1)=>function a(n,r,c,i,u){const d=p(n),_=p(r),g=i||[],S=u||[];if(function(a,n){return a===n&&s.indexOf(a)>=0}(d,_)){const s=function(a,n,r){let s;return r===l.ITERABLE_OBJECT?s=new Set(Object.keys(a).concat(Object.keys(n))):r===l.ARRAY&&(s=a.length>n.length?new Array(a.length):new Array(n.length),s=s.fill(0,0),s=s.map((a,n)=>n),s=new Set(s)),s}(n,r,d).values();let i=s.next().value;for(;null!=i;)a(n[i],r[i],c,g.concat(i),S),i=s.next().value}else{const a=f(n,r,d,_);null!=a&&S.push(function(a,n,r,l,s){const c={op:r,path:l};return"add"!==r&&"update"!==r||(c.val=n),s&&"add"!==r&&(c.oldVal=a),c}(n,r,a,i,c))}return S}(a,n,r),applyDiff:(a,n,r)=>function(a,n,r){if(!(n instanceof Array))throw new Error(c.INVALID_DIFF_FORMAT);let l=a;return n.forEach(a=>{const{op:n,val:s,path:i}=a;if(!_[n])throw new Error(c.INVALID_DIFF_OP);l=_[n](l,i,s,r)}),l}(a,n,r)}},function(a,n){const r={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",STRING:"STRING",NULL:"NULL",UNDEFINED:"UNDEFINED",DATE:"DATE",ARRAY:"ARRAY",MAP:"MAP",SET:"SET",ITERABLE_OBJECT:"ITERABLE_OBJECT",DEFAULT:"OBJECT"};a.exports={types:r,iterableTypes:[r.ITERABLE_OBJECT,r.MAP,r.ARRAY,r.SET],errors:{EMPTY_DIFF:"No diff object is provided, Nothing to apply",INVALID_DIFF_FORMAT:"Invalid diff format",INVALID_DIFF_OP:"Unsupported operation provided into diff object"}}},function(a,n){const r=a=>n=>n instanceof a,l=r(Date),s=r(Array),c=r(Map),i=r(Set),u=a=>"[object Object]"===Object.prototype.toString.call(a);a.exports={isNumber:a=>"number"==typeof a,isBoolean:a=>"boolean"==typeof a,isString:a=>"string"==typeof a,isDate:l,isUndefined:a=>void 0===a,isNull:a=>null===a,isArray:s,isMap:c,isSet:i,isIterableObject:u,noop:()=>{},areDatesEqual:(a,n)=>a.getTime()===n.getTime(),setValueByPath:function(a,n=[],r,l){if(!s(n))throw new Error(`Diff path: "${n}" is not valid`);const{length:c}=n;if(0===c)return r;let i=a;for(let s=0;s<c;s+=1){const u=n[s];if(!i)throw new Error(`Invalid path: "${n}" for object: ${JSON.stringify(a,null,2)}`);if(null==u)throw new Error(`Invalid path: "${n}" for object: ${JSON.stringify(a,null,2)}`);s!==c-1?(i=i[u],l&&l(i)):i[u]=r}return a},deleteValueByPath:function(a,n){const r=n||[];if(0===r.length)return;let l=a;const{length:s}=r;for(let c=0;c<s;c+=1)if(c!==s-1){if(!l[r[c]])throw new Error(`Invalid path: "${n}" for object: ${JSON.stringify(a,null,2)}`);l=l[r[c]]}else if(u(l))delete l[r[c]];else{const a=parseInt(r[c],10);for(;l.length>a;)l.pop()}return a}}}])},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.recursiveDiff=t():e.recursiveDiff=t(),ActiveCSS._removeClassObj=(a,n)=>{if(!a||!a.classList)return;let r=n.replace(".","").split(" ");a.classList.remove(...r)},ActiveCSS._removeObj=a=>{a&&a.parentNode.removeChild(a)};const _resolveURL=a=>{let n=document.location.href,r=history.state,l=document.title;history.replaceState(r,l,a);let s=document.location.href;return history.replaceState(r,l,n),s},_selCompare=(a,n)=>{let r,l,s,c=a.actVal._ACSSSpaceQuoIn();if("eM"==n){if(!c)return!0;if(c&&"__object"==c)return!1;r=c}else r=c.split(" "),l=r.pop()._ACSSSpaceQuoOut()._ACSSRepQuo(),r=r.join(" ");switch(s=_getSel(a,r),s||(s=r),n){case"eM":case"maL":case"miL":let a;if(s&&s.nodeType&&s.nodeType==Node.ELEMENT_NODE){a=s[_getFieldValType(s)]}else a=s;switch(n){case"eM":return!a||""===a;case"maL":return a.length<=l;case"miL":return a.length>=l}break;case"iT":return!(!s||l!=s.innerText);case"iH":return!(!s||l!=s.innerHTML)}},_set=(a,n,r)=>Object(a)!==a?a:(Array.isArray(n)||(n=n.toString().match(/[^.[\]]+/g)||[]),n.slice(0,-1).reduce((a,r,l)=>Object(a[r])===a[r]?a[r]:a[r]=Math.abs(n[l+1])>>0==+n[l+1]?[]:{},a)[n[n.length-1]]=r,a),_setClassObj=(a,n)=>{a&&a.classList&&(a.className=n)},_setsrcObj=(a,n)=>{a&&(a.src=n)},_toggleClassObj=(a,n)=>{a&&a.classList&&a.classList.toggle(n)},_urlTitle=(a,n,r)=>{a=a.replace(/"/g,""),n=n.replace(/"/g,""),a=_resolveURL(a),window.location.href!=a&&window.history.pushState(a,n,a),document.title=n};String.prototype._ACSSCapitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype._ACSSCapitalizeAttr=function(){return this.replace(/(^|[\s-])\S/g,(function(a){return a.toUpperCase()}))},String.prototype._ACSSConvFunc=function(){return this._ACSSCapitalizeAttr().replace(/\-/g,"")},String.prototype._ACSSRepQuo=function(){var a=this.replace(/\\"/g,"_ACSS*%_");return a=(a=a.replace(/"/g,"")).replace(/_ACSS\*%_/g,'"')},String.prototype._ACSSSpaceQuoIn=function(){return this.replace(/"(.+?)"/g,(function(a,n){return n=n.replace(/ /g,"_ACSS_space")}))},String.prototype._ACSSSpaceQuoOut=function(){return this.replace(/_ACSS_space/g," ")},window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(a,n){n=n||window;for(var r=0;r<this.length;r++)a.call(n,this[r],r,this)}),document.head.attachShadow||(supportsShadow=!1,"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})),document.addEventListener("DOMContentLoaded",(function(a){setTimeout((function(){userSetupStarted||(autoStartInit=!0,ActiveCSS.init())}),0)}))}(window,document);