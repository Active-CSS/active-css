!function(global,document){"use strict";const PARSELINEX=/([^\:]+):([^\;]*)(;)?/,PARSEREGEX=/((?!\*debugfile)[^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|((?!\*debugfile)[^\;\{\}]+\;(?!\s*\*\/))|(\*debugfile[\s\S]*?\*)/gim,PARSESEL=1,PARSEEND=2,PARSEATTR=3,PARSEDEBUG=4,COLONSELS="^((active|any\\-link|blank|checked|current|default|disabled|drop|empty|enabled|first\\-child|first\\-of\\-type|focus|focus\\-visible|focus\\-within|future|hover|indeterminate|in\\-range|invalid|last\\-child|last\\-of\\-type|link|local\\-link|only\\-child|only\\-of\\-type|optional|out\\-of\\-range|past|paused|placeholder\\-shown|playing|read\\-only|read\\-write|required|root|scope|target|target\\-within|user\\-error|user\\-invalid|valid|visited)(?![\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w_\\-])|(current|dir|drop|has|is|lang|not|nth\\-column|nth\\-child|nth\\-last\\-child|nth\\-last\\-column|nth\\-last\\-of\\-type|nth\\-of\\-type|where)\\()",DYNAMICCHARS={",":"_ACSS_later_comma","{":"_ACSS_later_brace_start","}":"_ACSS_later_brace_end",";":"_ACSS_later_semi_colon",":":"_ACSS_later_colon",'"':"_ACSS_later_double_quote"};window.ActiveCSS={},"undefined"!=typeof module&&(module.exports=ActiveCSS);var coreVersionExtension="2-0-0",_a={},_c={},parsedConfig={},config=[],configArr=[],configLine="",configFile="",lazyConfig=[],concatConfig="",concatConfigCo=0,concatConfigLen=0,currentPage="",ajaxResLocations={},pageList=[],eventState={},delayArr=[],cancelIDArr=[],cancelCustomArr=[],selectors=[],setupEnded=!1,clickOutsideSet=!1,clickOutsideSels=[],mimicClones=[],currDocTitle=document.title,debugMode="",conditionals=[],components=[],mediaQueries=[],mediaQueriesOrig=[],activeIDTrack=0,scriptTrack=[],debuggerActive=!1,debuggerness=!1,debuggerExtID=null,debuggerEvs=["afterLoadConfig"],debuggerCo=0,evEditorExtID=null,evEditorActive=!1,devtoolsInit=[],scoped={},scopedVars=null,scopedData={},labelData=[],labelByIDs=[],customTags=[],shadowCo=0,shadowPending={},shadowSels=[],shadowDoms={},preGetMax=6,preGetMid=0,reverseShadowEvs={},allEvents=[],doesPassive=!1,preSetupEvents=[],nonPassiveEvents=[],passiveEvents=!0;ActiveCSS.customHTMLElements={},_a.AddClass=e=>{ActiveCSS._addClassObj(e.secSelObj,e.actVal)},_a.Ajax=e=>{e.url=e.actVal.split(" ")[0]._ACSSRepQuo(),_ajaxDo(e)},_a.AjaxFormPreview=e=>{e.formPreview=!0,_a.AjaxFormSubmit(e)},_a.AjaxFormSubmit=e=>{e.formSubmit=!0;const t=e.secSelObj;t?(e.url=t.action,_ajaxDo(e)):console.log("Form "+e.secSel+" not found.")},_a.AjaxPreGet=e=>{e.preGet=!0,_a.Ajax(e)},_a.Alert=e=>{alert(e.actVal._ACSSRepQuo())},_a.Blur=e=>{document.activeElement.blur()},_a.CancelTimer=e=>{let t,a,r,n,l=e.actVal.trim(),s=l._ACSSConvFunc(),c=!0,i=e.shadowRef?e.shadowRef:"main";if(labelData[i+l]){let e=labelData[i+l];_clearTimeouts(delayArr[e.del][e.func][e.pos][e.loopRef]),_removeCancel(e.del,e.func,e.pos,e.loopRef)}else{if(r=["~","|"].includes(e.secSel.substr(0,1))?e.secSel:_getActiveID(e.secSelObj),!r)return;if(delayArr[r])if("all"==l)for(t in delayArr[r])for(a in delayArr[r][t])for(n in delayArr[r][t][a])_clearTimeouts(delayArr[r][t][a][n]),_removeCancel(r,t,a,n);else if(delayArr[r]&&delayArr[r][s])for(a in delayArr[r][s])for(n in delayArr[r][s][a])_clearTimeouts(delayArr[r][s][a][n]),_removeCancel(r,s,a,n);else c=!1;else c=!1;if(!c){let t,a=[];if(Object.keys(delayArr).forEach((function(t){["~","|"].includes(t.substr(0,1))||e.doc.querySelectorAll(t).forEach((function(e,t){a.push(_getActiveID(e))}))})),"object"==typeof e.secSel)t=_getActiveID(e.secSel),cancelIDArr[t]&&cancelIDArr[t][s]||!a.includes(t)||_addCancelAttr(e.secSel,s);else if(["~","|"].includes(e.secSel.substr(0,1))){if(!(delayArr[r]&&delayArr[r][s]&&delayArr[r][s][e.actPos]&&delayArr[r][s][e.actPos][e.loopRef]))return;cancelCustomArr.push([e.secSel][s][e.actPos][e.loopRef])}else e.doc.querySelectorAll(e.secSel).forEach((function(e){t=_getActiveID(e),cancelIDArr[t]&&cancelIDArr[t][s]||!a.includes(t)||_addCancelAttr(e,s)}))}}},_a.CancelTimerAll=e=>{_unloadAllCancelTimer()},_a.ClickOnFirst=e=>{_a.FocusOn(e)},_a.ClickOnLast=e=>{_a.FocusOn(e,"l")},_a.ClickOnNext=e=>{_a.FocusOn(e,"n")},_a.ClickOnNextCycle=e=>{_a.FocusOn(e,"nc")},_a.ClickOnPrevious=e=>{_a.FocusOn(e,"p")},_a.ClickOnPreviousCycle=e=>{_a.FocusOn(e,"pc")},_a.ClickoutsideEvent=e=>{let t=_getActiveID(e.secSelObj);-1!==e.actVal.indexOf("true")?setTimeout((function(){clickOutsideSels[t]=[],clickOutsideSels[t][0]=!0,clickOutsideSet=!0,-1!==e.actVal.indexOf("continue")&&(clickOutsideSels[t][1]=!0)}),50):clickOutsideSels[t]&&(clickOutsideSels[t][0]=!1,clickOutsideSet=!1)},_a.Clone=e=>{let t=_getSel(e,e.actVal),a=t.dataset.activeid;if(t)if("IFRAME"==t.tagName){if("complete"!=t.contentWindow.document.readyState)return setTimeout(_a.Clone.bind(this,e),200),!1;mimicClones[a]=document.importNode(t.contentWindow.document.body,!0)}else mimicClones[a]=document.importNode(t,!0)},_a.ConsoleLog=e=>{console.log(e.actVal._ACSSRepQuo())},_a.CopyToClipboard=e=>{let t=_getSel(e,e.actVal);if(-1!==["INPUT","TEXTAREA"].indexOf(t.tagName)){let e="readonly"==t.getAttribute("readonly");t.removeAttribute("readonly"),t.select(),document.execCommand("copy"),e&&t.setAttribute("readonly","readonly")}else{let e=document.createElement("textarea");e.id="activecss-copy-field",e.innerHTML=t.innerText,document.body.appendChild(e);let a=document.getElementById("activecss-copy-field");a.select(),document.execCommand("copy"),ActiveCSS._removeObj(a)}},_a.CreateCommand=e=>{let t=e.actVal.trim().split(" ")[0],a=e.actVal.replace(t,"").trim();t=t._ACSSConvFunc(),_a[t]||(a=ActiveCSS._sortOutFlowEscapeChars(a).slice(2,-2),a=_handleVarsInJS(a),a="let actionName = o.actName,actionPosition = o.actPos,actionValue = o.actVal,actionValueUnEval = o.actValSing,actionValuesUnEval = o.origActVal,actionFunc = o.func,eventSelector = o.obj,eventSelectorName = o.primSel,carriedEventObject = o.ajaxObj,conditionals = o.passCond,targetSelector = o.secSelObj,targetSelectorName = o.origSecSel,activeID = o.activeID,doc = o.doc,e = o.e,eventName = o.event,configFile = o.file,configLine = o.line,rulesArray = o.rules,selectorRef = o.secSel,shadowDoc = o.shadowDoc,component = o.component,_loopVars = o.loopVars,_loopRef = o.loopRef,_activeVarScope = (o.shadowRef) ? o.shadowRef : \"main\";scopedVars[_activeVarScope] = (typeof scopedVars[_activeVarScope] === 'undefined') ? {} : scopedVars[_activeVarScope];"+a,_a[t]=new Function("o","scopedVars",a))},_a.CreateConditional=e=>{let t=e.actVal.trim().split(" ")[0],a=e.actVal.replace(t,"").trim();t=t._ACSSConvFunc(),_c[t]||(a=ActiveCSS._sortOutFlowEscapeChars(a).slice(2,-2),a=_handleVarsInJS(a),a="let conditionalName = o.actName,conditionalFunc = o.func,conditionalValue = o.actVal,eventSelectorName = o.primSel,eventSelector = o.obj,e = o.e,doc = o.doc,component = o.component,shadowDoc = o.shadowDoc,carriedEventObject = o.ajaxObj,_activeVarScope = (o.shadowRef) ? o.shadowRef : \"main\";scopedVars[_activeVarScope] = (typeof scopedVars[_activeVarScope] === 'undefined') ? {} : scopedVars[_activeVarScope];"+a,_c[t]=new Function("o","scopedVars",a))},_a.CreateElement=e=>{let t,a,r,n,l,s=e.actVal,c="";if(t=s.split(" ")[0],!customTags.includes(t)){for(r of(s=s.replace(t,"").trim(),a=_getParVal(s,"observe").split(" "),a))r&&(c+="'"+r.trim()+"',");customTags.push(t),n=t._ACSSConvFunc(),l="ActiveCSS.customHTMLElements."+n+" = class "+n+" extends HTMLElement {",c&&(l+="static get observedAttributes() {return ["+c.slice(0,-1)+"];}"),l+="constructor() {super();}connectedCallback() {_handleEvents({ obj: this, evType: 'connectedCallback' });}disconnectedCallback() {_handleEvents({ obj: this, evType: 'disconnectedCallback', runButElNotThere: true });}adoptedCallback() {_handleEvents({ obj: this, evType: 'adoptedCallback' });}",c&&(l+="attributeChangedCallback(name, oldVal, newVal) {if (!oldVal) return;this.setAttribute(name + '-old', oldVal); let ref = this.getAttribute('data-activeid').replace('d-', '') + 'HOST' + name;ActiveCSS._varUpdateDom([{currentPath: ref, newValue: newVal}]);_handleEvents({ obj: this, evType: 'attrChange-' + name });}"),l+="};customElements.define('"+t+"', ActiveCSS.customHTMLElements."+n+");",Function("_handleEvents",'"use strict";'+l)(_handleEvents)}},_a.Eval=o=>{let evalContent=ActiveCSS._sortOutFlowEscapeChars(o.actVal.trim().slice(2,-2));eval(evalContent)},_a.FocusOff=e=>{_a.Blur(e)},_a.FocusOn=(e,t,a=!1)=>{let r,n,l,s,c,i=!1,u=1,d=e.actVal;"pcc"!=t&&"ncc"!=t||(-1!==d.indexOf(" click")&&(i=!0,d=d.replace(/ click/,"")),d=d.replace(/ ([\d]+)( |$)?/gm,(function(e,t){return u=t,""})),d=d.trim());if(-1!==["l","n","p","nc","pc","ncc","pcc"].indexOf(t))if("l"!=t)l=_getFocusedOfNodes(d),n=l[0],s=l[1],"pcc"!=t&&"ncc"!=t||u>n.length&&(u%=n.length);else{let e=_splitIframeEls(d);if(!e)return!1;n=e[0].querySelectorAll(e[1])||null}switch(t){case"p":case"pc":case"pcc":if("p"==t){if(0===s)return}else s=u>s?n.length-u-s+1:s-u+1;r=n[s-1];break;case"n":case"nc":case"ncc":if("n"==t){if(s==n.length-1)return}else s=n.length<=u+s?u+s-n.length-1:s+u-1;r=n[s+1];break;case"l":r=n[n.length-1];break;default:r=_getSel(e,d)}if(r)return c="FORM"==r.tagName?r.elements[0]:r,!i||"pcc"!=t&&"ncc"!=t?a||("Click"==e.func.substr(0,5)?ActiveCSS.trigger(c,"click"):c.focus()):(ActiveCSS.trigger(c,"click"),setTimeout((function(){c.focus()}),0)),c},_a.FocusOnFirst=e=>{_a.FocusOn(e)},_a.FocusOnLast=e=>{_a.FocusOn(e,"l")},_a.FocusOnNext=e=>{_a.FocusOn(e,"n")},_a.FocusOnNextCycle=e=>{_a.FocusOn(e,"nc")},_a.FocusOnPrevious=e=>{_a.FocusOn(e,"p")},_a.FocusOnPreviousCycle=e=>{_a.FocusOn(e,"pc")},_a.FormReset=e=>{let t=_getSel(e,e.actVal);t&&"FORM"==t.tagName&&t.reset()},_a.FullscreenExit=e=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},_a.FullscreenOn=e=>{let t=e.secSelObj;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},_a.Func=e=>{let t=[];e.actVal=e.actVal._ACSSSpaceQuoIn();let a=e.actVal.trim().split(" "),r=a.splice(0,1);if("function"!=typeof window[r])console.log(r+" is not a function.");else{let n;for(n of a)n="true"==n||"false"!=n&&(isNaN(n)?n._ACSSSpaceQuoOut()._ACSSRepQuo():parseFloat(n)),t.push(n);window[r](e,t)}},_a.IframeReload=e=>{let t=e.secSelObj.cloneNode(!1);e.secSelObj.parentNode.insertBefore(t,e.secSelObj),ActiveCSS._removeObj(e.secSelObj)},_a.LoadConfig=e=>{e.actVal=e.actVal._ACSSRepQuo().trim(),_addActValRaw(e),configArr.includes(e.avRaw)?_handleEvents({obj:e.obj,evType:"afterLoadConfig"}):(e.file=e.actVal,_getFile(e.actVal,"txt",e))},_a.LoadImages=e=>{let t=e.actVal;e.doc.querySelectorAll("img["+t+"], picture source["+t+"]").forEach((function(e,a){let r="IMG"==e.tagName?"src":"srcset";e.setAttribute(r,e.getAttribute(t)),e.removeAttribute(t)}))},_a.LoadScript=(e,t)=>{let a=e.actVal._ACSSRepQuo(),r=_getBaseURL(a);if(!scriptTrack.includes(r)){let n="style"==t?"link":"script",l="style"==t?"href":"src",s=e.doc.createElement(n);"style"==t&&(s.rel="stylesheet"),s[l]=a,e.doc.head.appendChild(s),scriptTrack.push(r)}},_a.LoadStyle=e=>{_a.LoadScript(e,"style")},_a.Location=e=>{let t=e.actVal._ACSSRepQuo();e.doc.location.href=t},_a.MediaControl=e=>{let t=e.secSelObj,a=e.actVal.split(" ");if(a[1])switch(a[1]=a[1]._ACSSRepQuo(),a[0]){case"load":t.setAttribute("src",a[1]);break;case"seek":t.currentTime=parseFloat(a[1]);break;case"volume":t.volume=parseFloat(a[1])}switch(a[0]){case"play":t.play();break;case"pause":t.pause();break;case"load":t.load()}},_a.MimicInto=e=>{let t,a,r,n,l;if(t=e.secSelObj,"title"==e.actVal)l="title",a="title",r=currDocTitle;else{if(l=_getSel(e,e.actVal),!l)return;a="INPUT"==l.tagName||"TEXTAREA"==l.tagName?"input":"text"}n=_getFieldValType(t),"title"!=e.actVal&&(r=t[n]);var s,c=0,i=e.secSelObj.form||e.secSelObj.closest("form");switch(i&&(i.cjsReset||(i.cjsReset=[],i.addEventListener("reset",_mimicReset)),"title"==a?i.cjsReset.title||(i.cjsReset.title=t.getAttribute("value")):t.activeResetValueSet||(c=i.cjsReset.length,i.cjsReset[c]={},i.cjsReset[c].el=l,i.cjsReset[c].value=r,i.cjsReset[c].type=a,t.activeResetValueSet=!0)),s=e.secSelObj[n],a){case"input":l.value=s;break;case"text":l.innerText=s;break;case"title":document.title=ActiveCSS._decodeHTML(s),currDocTitle=ActiveCSS._decodeHTML(s)}},_a.PreventDefault=e=>{e.e&&e.e.preventDefault()},_a.Remove=e=>{let t=_splitIframeEls(e.actVal);if(!t)return!1;t[0].querySelectorAll(t[1]).forEach((function(e){ActiveCSS._removeObj(e)}))},_a.RemoveAttribute=e=>{e.secSelObj.removeAttribute(e.actVal)},_a.RemoveClass=e=>(ActiveCSS._removeClassObj(e.secSelObj,e.actVal),!0),_a.RemoveClone=e=>{let t=_getSel(e,e.actVal).dataset.activeid;t&&(mimicClones[t]=null)},_a.RemoveCookie=e=>{let t=e.actVal.split(" ");if(!t[0])return!1;t[1]=t[1]?t[1]._ACSSRepQuo():null,t[2]=t[2]?t[2]._ACSSRepQuo():null;let a=encodeURIComponent(t[0])+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t[1]?"; path="+t[1]:"")+(t[2]?"; domain="+t[2]:"");return document.cookie=a,!0},_a.RemoveProperty=e=>{e.secSelObj.style.removeProperty(e.actVal)},_a.Render=e=>{let t=_handleQuoAjax(e,e.actVal);t=_replaceComponents(e,t),t=-1!==t.indexOf("{$")?_replaceStringVars(e.ajaxObj,t):t,_renderIt(e,t)},_a.RenderAfterBegin=e=>{e.renderPos="afterbegin",_a.Render(e)},_a.RenderAfterEnd=e=>{e.renderPos="afterend",_a.Render(e)},_a.RenderBeforeBegin=e=>{e.renderPos="beforebegin",_a.Render(e)},_a.RenderBeforeEnd=e=>{e.renderPos="beforeend",_a.Render(e)},_a.RestoreClone=e=>{let t=_getSel(e,e.actVal),a=t.dataset.activeid;if(mimicClones[a])if("IFRAME"==t.tagName){if("complete"!=t.contentWindow.document.readyState)return!1;setTimeout((function(){t.contentWindow.document.body=mimicClones[a]}),0)}else setTimeout((function(){let r=t.parentNode;r.replaceChild(mimicClones[a],t),_a.Trigger({secSel:"",actVal:"draw",secSelObj:r,ajaxObj:e.ajaxObj,e:e.el||null})}),0)},_a.Run=e=>{let t,a='"use strict";'+e.actVal.replace(/\{\=([\s\S]*?)\=\}/m,(function(e,a){return t=_handleVarsInJS(ActiveCSS._sortOutFlowEscapeChars(a)),t})),r=e.shadowRef?e.shadowRef:"main";scopedVars[r]=void 0===scopedVars[r]?{}:scopedVars[r];try{Function("scopedVars, _activeVarScope",a)(scopedVars,r)}catch(e){console.log("Function syntax error ("+e+"): "+a)}},_a.ScrollIntoView=e=>{let t=e.actVal.split(" "),a="start",r="nearest",n=_optDef(t,"behaviour-smooth","smooth","auto");"true"==e.actVal||"false"==e.actVal&&(a="end"),a=_optDef(t,"block-center","center",a),a=_optDef(t,"block-end","end",a),a=_optDef(t,"block-nearest","nearest",a),r=_optDef(t,"inline-center","center",r),r=_optDef(t,"inline-end","end",r),r=_optDef(t,"inline-nearest","nearest",r);try{e.secSelObj.scrollIntoView({behaviour:n,block:a,inline:r})}catch(t){e.secSelObj.scrollIntoView({behaviour:n,inline:r})}},_a.ScrollX=e=>{if("body"==e.secSel)"left"==e.actVal?window.scrollTo({left:0}):"right"==e.actVal?window.scrollTo({left:1e7}):window.scrollTo({left:e.actVal});else{let t=e.secSelObj;"left"==e.actVal?t.scrollLeft=0:"right"==e.actVal?t.scrollLeft=1e7:t.scrollLeft=e.actVal}},_a.ScrollY=e=>{if("body"==e.secSel)"top"==e.actVal?window.scrollTo({top:0}):"bottom"==e.actVal?window.scrollTo({top:1e7}):window.scrollTo({top:e.actVal});else{let t=e.secSelObj;t&&("top"==e.actVal?t.scrollTop=0:"bottom"==e.actVal?t.scrollTop=t.scrollHeight:t.scrollTop=e.actVal)}},_a.SelectAll=e=>{requestAnimationFrame(()=>document.execCommand("selectAll"))},_a.SelectNone=e=>{getSelection().removeAllRanges()},_a.SetAttribute=e=>{e.actVal=e.actVal._ACSSSpaceQuoIn();let t=e.actVal.split(" ");t[1]=_handleQuoAjax(e,t[1])._ACSSSpaceQuoOut(),e.secSelObj.setAttribute(t[0],t[1])},_a.SetClass=e=>{let t=e.actVal.replace(/\./g,"");_setClassObj(e.secSelObj,t)},_a.SetCookie=e=>{let t=e.actVal;t=t.replace(/\\\"/g,"_ACSS_escaped_quote"),t=t._ACSSSpaceQuoIn(),t=t.replace(/_ACSS_escaped_quote/g,'\\"');let a=t.split(" ");a[1]=a[1]?a[1]._ACSSSpaceQuoOut()._ACSSRepQuo():"",a[2]=a[2]?a[2].replace(/_ACSS_space/g," ")._ACSSRepQuo():"",a[2]="Infinity"==a[2]?1/0:"Year"==a[2]?31536e3:/^[0-9e]+$/.test(a[2])?+a[2]:a[2],a[3]=a[3]?a[3]._ACSSRepQuo():null,a[4]=a[4]?a[4]._ACSSRepQuo():null,a[5]="true"==a[5]||"false"!=a[5]&&null,"true"!=a[2]||a[3]||a[4]||a[5]||(a[2]=null,a[5]=!0),"false"!=a[2]||a[3]||a[4]||a[5]||(a[2]=null,a[5]=!1),"true"!=a[3]||a[4]||a[5]||(a[3]=null,a[5]=!0),"false"!=a[3]||a[4]||a[5]||(a[3]=null,a[5]=!1),"true"!=a[4]||a[5]||(a[4]=null,a[5]=!0),"false"!=a[4]||a[5]||(a[4]=null,a[5]=!1),_setCookie(a[0],a[1],a[2],a[3],a[4],a[5])||console.log("set-cookie "+a[0]+" failed")},_a.SetProperty=e=>{e.actVal=e.actVal._ACSSSpaceQuoIn();let t=e.actVal.split(" ");t[1]=_handleQuoAjax(e,t[1])._ACSSSpaceQuoOut(),e.secSelObj[t[0]]="true"==t[1]||"false"!=t[1]&&t[1]},_a.StopImmediatePropagation=e=>{e.e&&e.e.stopImmediatePropagation(),e.obj.activeStopProp=!0},_a.StopPropagation=e=>{e.e&&e.e.stopPropagation(),e.obj.activeStopProp=!0},_a.Style=e=>{let t=_handleQuoAjax(e,e.actVal).split(" "),a=t.shift();e.secSelObj.style[a]=t.join(" ")},_a.TakeClass=e=>{if(e.doc!=document)return console.log("Active CSS error - you cannot take a class if the element clicked on is not going to take the class. With iframes, use give-class instead."),!1;let t=e.actVal.substr(1);_eachRemoveClass(t,t,e.doc),_a.AddClass(e)},_a.ToggleClass=e=>{let t=e.actVal.replace(/\./g,"");_toggleClassObj(e.secSelObj,t)},_a.Trigger=e=>{"string"!=typeof e.obj||-1!==e.obj.indexOf("{@")||-1!==e.obj.indexOf("{$")||["~","|"].includes(e.obj.substr(0,1))?["~"].includes(e.secSel.substr(0,1))?_handleEvents({obj:e.secSel,evType:e.actVal,otherObj:e.ajaxObj||null,eve:e.e||null,origObj:e.obj||null,shadowRef:e.shadowRef,shadowDoc:e.shadowDoc,component:e.component}):"draw"==e.actVal?_runInnerEvent(e.secSelObj,"draw"):_handleEvents({obj:e.secSelObj,evType:e.actVal,otherObj:e.ajaxObj||null,eve:e.e||null,shadowRef:e.shadowRef,shadowDoc:e.shadowDoc,component:e.component}):e.doc.querySelectorAll(e.obj).forEach((function(t,a){["~"].includes(e.secSel.substr(0,1))?_handleEvents({obj:e.secSel,evType:e.actVal,otherObj:e.ajaxObj||null,eve:e.e||null,origObj:t,shadowRef:e.shadowRef,shadowDoc:e.shadowDoc,component:e.component}):_handleEvents({obj:e.secSel,evType:e.actVal,otherObj:e.ajaxObj||null,eve:e.e||null,shadowRef:e.shadowRef,shadowDoc:e.shadowDoc,component:e.component})}))},_a.TriggerReal=e=>{if(e.secSelObj.isConnected)try{e.secSelObj.addEventListener(e.actVal,(function(e){}),{capture:!0,once:!0}),e.secSelObj[e.actVal]()}catch(e){console.log("Active CSS error: Only DOM events support trigger-real.")}else _a.StopPropagation(e)},_a.UrlChange=e=>{let t=e.actVal.split(" ")[0],a=e.actVal.replace(t,"").trim();""==a&&(a=document.title),_urlTitle(t,a,e)},_a.Var=e=>{let t=e.actVal.trim().split(" ")[0],a=e.actVal.replace(t,"").trim();a=_prefixScopedVars(a,e.shadowRef),a="{="+a+"=}";let r=(e.shadowRef?e.shadowRef:"main")+"."+t,n=_replaceJSExpression(a,!0);_set(scopedVars,r,n)},ActiveCSS.first=e=>_a.FocusOn({actVal:e},null,!0),ActiveCSS.last=e=>_a.FocusOn({actVal:e},"l",!0),ActiveCSS.next=e=>_a.FocusOn({actVal:e},"n",!0),ActiveCSS.nextCycle=e=>_a.FocusOn({actVal:e},"ncc",!0),ActiveCSS.previous=e=>_a.FocusOn({actVal:e},"p",!0),ActiveCSS.previousCycle=e=>_a.FocusOn({actVal:e},"pcc",!0),ActiveCSS.trigger=(e,t,a,r,n)=>{"object"==typeof e?_handleEvents({obj:e,evType:t,shadowRef:a,shadowDoc:r,component:n}):_a.Trigger({secSel:e,actVal:t,shadowRef:a,shadowDoc:r,component:n})},ActiveCSS.triggerReal=(e,t,a,r,n)=>{"string"==typeof e&&(e=document.querySelector(e)),e?_a.TriggerReal({secSelObj:e,actVal:t,shadowRef:a,shadowDoc:r,component:n}):console.log("No object found in document to triggerReal.")},_c.IfCompletelyVisible=e=>ActiveCSS._ifVisible(e,!0),_c.IfCookieEquals=e=>{let t=e.actVal.split(" ");if(!_cookieExists(t[0]))return!1;let a=t[0];return t.shift(),t=t.join(" "),_getCookie(a)==t._ACSSRepQuo()},_c.IfCookieExists=e=>_cookieExists(e.actVal),_c.IfDisplay=e=>{let t=e.doc.querySelector(e.actVal);return!(!t||"none"===getComputedStyle(t,null).display)},_c.IfEmpty=e=>!!_selCompare(e,"eM"),_c.IfExists=e=>!!_getSel(e,e.actVal),_c.IfFocusFirst=e=>_ifFocus(e),_c.IfFocusLast=e=>_ifFocus(e,!1),_c.IfFormChanged=e=>_checkForm(_getSel(e,e.actVal),"check"),_c.IfFunc=e=>{if("true"==e.actVal)return!0;if("false"==e.actVal)return!1;try{return window[e.actVal](e)}catch(t){return console.log("Active CSS: Function "+e.actVal+" does not exist."),!1}},_c.IfHasClass=e=>{let t=_actValSelItem(e);return!(!t[0]||!ActiveCSS._hasClassObj(t[0],t[1].substr(1)))},_c.IfInnerHtml=e=>!!_selCompare(e,"iH"),_c.IfInnerText=e=>!!_selCompare(e,"iT"),_c.IfMaxLength=e=>!!_selCompare(e,"maL"),_c.IfMediaMaxWidth=e=>window.matchMedia("all and (max-width: "+e.actVal+")").matches,_c.IfMediaMinWidth=e=>window.matchMedia("all and (min-width: "+e.actVal+")").matches,_c.IfMinLength=e=>!!_selCompare(e,"miL"),_c.IfScrolltopGreater=e=>"body"==e.obj?(window.pageYOffset||document.documentElement.scrollTop)>e.actVal:e.obj.scrollTop>e.actVal,_c.IfScrolltopLess=e=>"body"==e.obj?(window.pageYOffset||document.documentElement.scrollTop)<e.actVal:e.obj.scrollTop<e.actVal,_c.IfSelection=e=>{let t=window.getSelection();return e.actVal=e.actVal._ACSSRepQuo().trim(),t.toString()==e.actVal},_c.IfVarTrue=e=>{if("true"==e.actVal)return!0;if("false"==e.actVal)return!1;let t=(e.shadowRef?e.shadowRef:"main")+"."+e.actVal,a=_get(scopedVars,t);return void 0===a&&(a=window[e.actVal]),a||!1},_c.IfVisible=e=>ActiveCSS._ifVisible(e),_c.MqlTrue=e=>mediaQueries[e.actVal].val;const _addCancelAttr=(e,t)=>{let a=e.dataset.activeid;cancelIDArr[a]||(cancelIDArr[a]=[]),cancelIDArr[a][t]=!0},_clearTimeouts=e=>{clearTimeout(e),clearInterval(e)},_delaySplit=(e,t)=>{let a,r,n;return a=new RegExp("("+t+' (stack|[\\d]+(s|ms)))(?=(?:[^"]|"[^"]*")*)',"gm"),{str:(e=(e=e.replace(a,(function(e,t){return r=t.split(" ")[1],r=_convertToMS(r,"Invalid delay number format: "+t),""}))).replace(/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w_]+)(?=(?:[^"]|"[^"]*")*)$/gm,(function(e,a){return n=a.split(" ")[1],"every"==t?"":a}))).trim(),tim:r,lab:n}},_removeCancel=(e,t,a,r)=>{if(delayArr[e]&&delayArr[e][t]&&delayArr[e][t][a]){let n=delayArr[e][t][a][r];if(n&&labelByIDs[n]){let e=labelByIDs[n];labelByIDs.splice(labelByIDs.indexOf[n]),delete labelData[e.lab]}delayArr[e][t][a][r]=null}["~","|"].includes(e.substr(0,1))?cancelCustomArr[e]&&cancelCustomArr[e][t]&&cancelCustomArr[e][t][a]&&(cancelCustomArr[e][t][a][r]=null):cancelIDArr[e]&&cancelIDArr[e][t]&&(cancelIDArr[e][t]=null)},_setupLabelData=(e,t,a,r,n,l)=>{delayArr[t][a][r][n]=l,e&&(labelData[e]={del:t,func:a,pos:r,loopRef:n,tid:l},labelByIDs[l]={del:t,func:a,pos:r,loopRef:n,lab:e})},_unloadAllCancelTimer=()=>{let e,t,a,r;for(e in delayArr)for(t in delayArr[e])for(a in delayArr[e][t])for(r in delayArr[e][t][a])_clearTimeouts(delayArr[e][t][a][r]),delayArr[e][t][a][r]=null;delayArr=[],cancelIDArr=[],labelData=[],labelByIDs=[]},_actionValLoop=(e,t,a,r)=>{let n,{loopI:l,actVals:s,actValsLen:c}=t;for(n=0;n<c;n++)e.actVal=s[n].trim(),e.actPos=n,e.secSelObj=a,_handleFunc(e,null,r)},_cloneAttrs=(e,t)=>{let a,r=Array.prototype.slice.call(t.attributes);for(a of r)"href"!=a.nodeName&&("class"==a.nodeName?ActiveCSS._addClassObj(e,a.nodeValue):e.getAttribute(a.nodeName)||e.setAttribute(a.nodeName,a.nodeValue));e.setAttribute("data-active-nav","1")},_handleClickOutside=e=>{let t,a;for(t in clickOutsideSels)if(clickOutsideSels[t][0]&&(a=document.querySelector('[data-activeid="'+t+'"]'),a&&!a.contains(e)&&_handleEvents({obj:a,evType:"clickoutside",otherObj:e})&&!clickOutsideSels[t][1]))return!1;return!0},_handleEvents=e=>{let t,a=e.obj,r=e.evType,n=e.onlyCheck,l=e.otherObj,s=e.eve,c=e.afterEv,i=e.origObj,u=e.runButElNotThere,d=e.shadowDoc;t=d||document;let p=e.shadowRef,_=e.component?"|"+e.component:null;if("string"!=typeof a&&!a||!selectors[r]||void 0===r)return!1;let f,S,g,m,b,h=[],v=selectors[r].length;if("string"!=typeof a){if(_){for(f=0;f<v;f++)if(g=selectors[r][f].indexOf(":"),selectors[r][f].substr(0,g)===_&&(S=selectors[r][f].substr(g+1),S=c&&i?_replaceAttrs(i,S):S,-1===S.indexOf("<")&&!h.includes(selectors[r][f])))if("&"==S)h.push(selectors[r][f]);else try{a.matches(S)&&h.push(selectors[r][f])}catch(e){console.log("Active CSS warning: "+S+" is not a valid CSS selector, skipping. (err: "+e+")")}}else for(f=0;f<v;f++)if(!["~","|"].includes(selectors[r][f].substr(0,1))&&(S=c&&i?_replaceAttrs(i,selectors[r][f]):selectors[r][f],-1===S.indexOf("<")&&!h.includes(selectors[r][f])))try{a.matches(S)&&h.push(selectors[r][f])}catch(e){console.log("Active CSS warning: "+S+" is not a valid CSS selector, skipping. (err: "+e+")")}}else h.push(a),a=i||a;_=_?_.substr(1):null,v=h.length;let C,A,y=0,w=[];for(m=0;m<v;m++)if(config[h[m]]&&config[h[m]][r]){if(n)return!0;for(A in config[h[m]][r])y++,"0"!=A&&_passesConditional(a,m,A,r,l,t,p,_,s,d)&&(w[y]=A)}for(y=0,m=0;m<v;m++)if(config[h[m]]&&config[h[m]][r])for(A in config[h[m]][r]){if(y++,C="","0"!=A){if(void 0===w[y])continue;C=w[y]}if(b=config[h[m]][r][A],!1!==b){let t,n;for(t in b)n={chilsObj:b,originalLoops:t,secSelLoops:t,obj:a,shadowDoc:d,evType:r,shadowRef:p,evObj:e,otherObj:l,passCond:C,sel:m,component:_,selectorList:h,eve:s,runButElNotThere:u},"0"!=t?_processSecSelLoops(n):_performSecSel(n)}}return!0},_handleFunc=function(e,t=null,a=!1){let r;if("string"==typeof e.secSel&&["~","|"].includes(e.secSel.substr(0,1)))r=e.secSel;else{if(!a&&!e.secSelObj.isConnected)return t&&(delayArr[t]&&_clearTimeouts(delayArr[t][e.func][e.actPos][e.loopRef]),delayArr[t]=null,cancelIDArr[t]=null,cancelCustomArr[t]=null),void _a.StopPropagation(e);r=_getActiveID(e.secSelObj)}if("0"!=e.loopRef&&(e.actVal=_replaceLoopingVars(e.actVal,e.loopVars)),e.actVal.match(/(after|every) (stack|[\d]+(s|ms))(?=(?:[^"]|"[^"]*")*$)/gm)){let t,a,n,l=Object.assign({},e),s=["after","every"];for(t of s)if(a=_delaySplit(l.actVal,t),n=e.shadowRef?e.shadowRef:"main",a.lab=n+a.lab,"number"==typeof a.tim&&a.tim>=0){if(l.actVal=a.str,l.actValSing=l.actVal,delayArr[r]=void 0!==delayArr[r]?delayArr[r]:[],delayArr[r][l.func]=void 0!==delayArr[r][l.func]?delayArr[r][l.func]:[],delayArr[r][l.func][l.actPos]=void 0!==delayArr[r][l.func][l.actPos]?delayArr[r][l.func][l.actPos]:[],delayArr[r][l.func][l.actPos][l.loopRef]&&(_clearTimeouts(delayArr[r][l.func][l.actPos][l.loopRef]),_removeCancel(r,l.func,l.actPos,l.loopRef)),l.delayed=!0,"after"==t)return void _setupLabelData(a.lab,r,l.func,l.actPos,l.loopRef,setTimeout(_handleFunc.bind(this,l,r),a.tim));l.interval=!0,_setupLabelData(a.lab,r,l.func,l.actPos,l.loopRef,setInterval(_handleFunc.bind(this,l,r),a.tim)),e.interval=!0,e.actValSing=a.str}}else e.actValSing=e.actVal;-1!==e.actValSing.indexOf("label ")&&(e.actValSing=e.actValSing.replace(/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w_]+)(?=(?:[^"]|"[^"]*")*)/gm,"")),"string"==typeof e.secSel&&["~","|"].includes(e.secSel.substr(0,1))&&cancelCustomArr[r]&&cancelCustomArr[r][e.func]&&cancelCustomArr[r][e.func][e.actPos]&&cancelCustomArr[r][e.func][e.actPos][e.loopRef]?_removeCancel(r,e.func,e.actPos,e.loopRef):e.delayed&&cancelIDArr[r]&&cancelIDArr[r][e.func]||("Var"==e.func&&(e.actValSing=e.actValSing.replace(/__ACSS_int_com/g,",")),e.actVal=_replaceAttrs(e.obj,e.actValSing,e.secSelObj,e,e.func,e.shadowRef),(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput(e),"function"!=typeof _a[e.func]?e.secSelObj.style[e.actName]=e.actVal:_a[e.func](e,scopedVars),e.interval||_removeCancel(r,e.func,e.actPos,e.loopRef),0===Object.keys(e.secSelObj).length&&-1===["LoadConfig","Ajax","AjaxPreGet","AjaxFormSubmit","AjaxFormPreview"].indexOf(e.func)&&_handleEvents({obj:e.secSelObj,evType:"after"+e.actName._ACSSConvFunc(),otherObj:e.secSelObj,eve:e.e,afterEv:!0,origObj:e.obj,shadowRef:e.shadowRef,shadowDoc:e.shadowDoc,component:e.component}))},_handleLoop=e=>{let t=e.secSelLoops,a=e.shadowRef;if("@each "==t.substr(0,6)){e.secSelLoops=e.originalLoops;let r,n,l=t.indexOf(" in "),s=t.substr(6,l-6);-1!==s.indexOf(",")&&(r=s.split(","));let c,i,u,d,p,_,f=t.substr(l+4),S=_get(scopedVars,a?a+"."+f:"main."+f);if(Array.isArray(S)){S.length;for(u=0;u<S.length;u++){if(i=Object.assign({},e),i.loopVars||(i.loopVars={}),r)for(d in r)n=r[d].trim(),c=f+"["+u+"]["+d+"]",i.loopVars[n]=c,i.loopRef=n+"_"+u+"_"+d;else c=f+"["+u+"]",i.loopVars[s]=c,i.loopRef=s+"_"+u;_performSecSel(i)}}else{let t,a=0;for([p,_]of Object.entries(S))i=Object.assign({},e),i.loopVars||(i.loopVars={}),r?(i.loopVars[r[0]]="-_-"+p,i.loopRef=r[0]+"_0_"+a,t=r[1].trim(),c=f+"."+p,i.loopVars[t]=c,i.loopRef=t+"_1_"+a):(i.loopVars[s]="-_-"+p,i.loopRef=s+"_0_"+a),a++,_performSecSel(i)}}else _performSecSel(e)},_handleVarsInJS=function(e){let t={},a={},r=!1;return e=e.replace(/[\s]*vars[\s]*([\u00BF-\u1FFF\u2C00-\uD7FF\w_\, ]+)[\s]*\;/gi,(function(e,n){let l,s=n.split(",");s=[...new Set(s)];let c="(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)";for(l of(r=!0,s))l=l.trim(),t[c+"("+l+")"+c]="",a[l]="scopedVars[_activeVarScope]."+l;return""})),r&&(e=(e=e.replace(/\\"/g,"cjs_tmp-dq")).replace(/\\'/g,"cjs_tmp-sq"),e=(e=(e=(e=ActiveCSS._mapRegexReturn(t,e,a)).replace(/(["|'][\s\S]*?["|'])/gim,(function(e,t){return t.replace(/scopedVars\[_activeVarScope\]\./g,"")}))).replace(/cjs_tmp\-dq"/g,'\\"')).replace(/cjs_tmp\-sq/g,"\\'")),e},_mainEventLoop=(e,t,a,r,n)=>{if("cause-js-elements-ext"==t.target.id)return;let l,s,c=!(t.target!=self&&!t.target.body);if("click"!=e&&c)return _handleEvents({obj:"body",evType:e,eve:t}),void _handleEvents({obj:"window",evType:e,eve:t});if(t.primSel)l=t.secSelObj;else{if("click"==e&&0!==t.button)return;l=t.target}if("mouseover"!=e||c||"A"==l.tagName&&1!==l["data-active-nav"]&&_setUpNavAttrs(l),"click"==e&&"bypass"!=t.primSel&&clickOutsideSet&&!_handleClickOutside(l))return t.primSel||t.preventDefault(),!1;s=t.composedPath();let i=s[0];if(i.getRootNode().isEqualNode(document)||t.target.isEqualNode(i)){for(l of s){if(1!==l.nodeType)continue;"click"==e&&"A"==l.tagName&&1!==l["data-active-nav"]&&_setUpNavAttrs(l);let s=l.getRootNode();if(s instanceof ShadowRoot?(a=s.host._acssComponent,r=s,n=s.host._acssShadowRef):(a=null,r=null,n=null),_handleEvents({obj:l,evType:e,eve:t,component:a,shadowDoc:r,shadowRef:n}),!l||!t.bubbles||"BODY"==l.tagName||l.activeStopProp)break}l&&l.activeStopProp?l.activeStopProp=!1:document.parentNode&&_handleEvents({obj:window.frameElement,evType:e,eve:t})}},_passesConditional=(e,t,a,r,n,l,s,c,i,u)=>{let d,p,_,f,S,g,m,b,h=a.split(/ (?![^\(\[]*[\]\)])/),v=!1;for(f of h){let a=f.indexOf("(");if(-1===a){if(c&&(f="|"+c+"|"+f,void 0===conditionals[f])){let e=f.substr(c.length+2);console.log("Active CSS error: Conditional "+e+" not found in config for component "+c)}if(S=conditionals[f],S){for(d in S)if(S.hasOwnProperty(d)&&(p=S[d],"!"==p.name.substr(0,1)?(v=!1,_=p.name.substr(1)):(v=!0,_=p.name),_=_._ACSSConvFunc(),"function"==typeof _c[_])){let a=p.value.replace(/"[^"]*"|(\,)/g,(function(e,t){return t?"_ACSSComma":e}));for(a=_replaceAttrs(e,a,null,null,null,s),a=n&&"0"!=n.loopRef?_replaceLoopingVars(a,n.loopVars):a,g=a.split("_ACSSComma"),m=g.length,b=0;b<m;b++)if(_c[_]({func:_,actName:p.name,secSel:"conditional",secSelObj:e,actVal:g[b].trim(),primSel:t,rules:S,obj:e,e:i,doc:l,ajaxObj:n,component:c,shadowDoc:u,shadowRef:s},scopedVars)!==v)return!1}}else console.log("Active CSS error: Conditional "+f+" not found in config for document scope.")}else{let r=f.substr(0,a);if(v=!1,"not-"==r.substr(0,4)?_=r.substr(4):"!"==r.substr(0,1)?_=r.substr(1):(v=!0,_=r),_=_._ACSSConvFunc(),"function"==typeof _c[_]){let d=f.slice(a+1,-1).trim().replace(/"[^"]*"|(\,)/g,(function(e,t){return t?"_ACSSComma":e}));for(d=_replaceAttrs(e,d,null,null,null,s),d=n&&"0"!=n.loopRef?_replaceLoopingVars(d,n.loopVars):d,g=d.split("_ACSSComma"),m=g.length,b=0;b<m;b++)if(_c[_]({func:_,actName:r,secSel:"conditional",secSelObj:e,actVal:g[b].trim(),primSel:t,rules:f,obj:e,e:i,doc:l,ajaxObj:n,component:c,shadowDoc:u,shadowRef:s},scopedVars)!==v)return!1}}}return!0},_performAction=(e,t=!1)=>{if(e.doc.readyState&&"complete"!=e.doc.readyState)return setTimeout(_performAction.bind(this,e),200),!1;_performActionDo(e,null,t)},_performActionDo=(e,t=null,a=!1)=>{if(!e.secSel&&!a)return;let r=e.actVal;-1!==e.actVal.indexOf(",")&&(r=r.replace(/\(.*?\)/g,(function(e,t){return e.replace(/,/g,"_ACSStmpcomma_")})),r=r.replace(/"[^"]*"|(\,)/g,(function(e,t){return t?"_ACSSComma":e})),r=r.replace(/_ACSStmpcomma_/g,",")),"Var"==e.func&&(r=ActiveCSS._sortOutFlowEscapeChars(r),r=_escCommaBrack(r,e));let n,l=r.split("_ACSSComma");n=l.length;let s={loopI:t,actVals:l,actValsLen:n};if("string"!=typeof e.secSel||["~","|"].includes(e.secSel.substr(0,1))){let t=Object.assign({},e);"object"==typeof t.secSel?_actionValLoop(e,s,t.secSel):["~","|"].includes(t.secSel.substr(0,1))&&_actionValLoop(e,s,{})}else{let t=!1;"#"==e.secSel&&console.log("Error: "+e.primSel+" "+e.event+", "+e.actName+': "'+e.origSecSel+'" is being converted to "#". Attribute or variable is not present.');let r=_prepSelector(e.secSel,e.obj);if(e.doc.querySelectorAll(r).forEach((function(a){t=!0;let r=Object.assign({},e);_actionValLoop(r,s,a)})),!t){let t=Object.assign({},e);-1!==e.secSel.lastIndexOf("data-activeid")&&(t.actVal=_replaceAttrs(t.obj,t.actValSing,t.secSelObj,t,t.func,t.shadowRef),_actionValLoop(e,s,t.obj,a))}}},_performSecSel=e=>{let t,a,r,n,l,s,c,i=e.chilsObj,u=e.secSelLoops,d=e.obj,p=e.shadowDoc,_=e.evType,f=e.shadowRef,S=e.evObj,g=e.otherObj,m=e.passCond,b=e.sel,h=e.component,v=e.selectorList,C=e.eve,A=e.loopVars,y=e.loopRef?e.loopRef:0,w=e.runButElNotThere,O=["&","self","this"],j="";for(t in i[u]){if("conds"==t)continue;if(a=_splitIframeEls(t,d,p,_),!a)continue;let e;for(l in r=a[0],n=a[1],f=r instanceof ShadowRoot?"_"+r.host.getAttribute("data-activeid").replace(/id\-/,""):S.shadowRef?S.shadowRef:null,"0"!=y&&(n=_replaceLoopingVars(n,A)),n=_replaceAttrs(d,n),n=_replaceAttrs(g,n),O.includes(n)?"string"==typeof d?n=d:(j=_getActiveID(d),n=j?'[data-activeid="'+j+'"]':d):"host"==n&&(n=d.getRootNode().host),i[u][t])s=i[u][t][l].name._ACSSConvFunc(),c=i[u][t][l].value,e={event:_,func:s,actName:i[u][t][l].name,secSel:n,origSecSel:t,actVal:c,origActVal:c,primSel:v[b],rules:i[u][t],obj:d,doc:r,ajaxObj:g,e:C,passCond:m,file:i[u][t][l].file,line:i[u][t][l].line,activeID:j,shadowRef:f,shadowDoc:p,component:h,loopVars:A,loopRef:y},_performAction(e,w)}},_prepSelector=(e,t)=>{if(-1!==e.indexOf("&")&&"&"==e.substr(0,1)){let a=_getActiveID(t);e=e.replace(/&/g,"[data-activeid="+a+"]")}return e},_processSecSelLoops=e=>{let t=e.secSelLoops.replace(e.component+"|||","");"@each "==t.substr(0,6)?(e.secSelLoops=t,_handleLoop(e)):_performSecSel(e)},_renderIt=(e,t)=>{let a=document.createElement("template");a.innerHTML=t;let r,n,l=[];for(r of(a.content.childNodes.forEach((function(e){e.nodeType===Node.ELEMENT_NODE&&"DATA-SHADOW"!=e.tagName&&(n=_getActiveID(e),l.push(n))})),t=a.innerHTML,e.renderPos?e.secSelObj.insertAdjacentHTML(e.renderPos,t):e.secSelObj.innerHTML=t,l)){let t=e.doc.querySelector("[data-activeid="+r+"]");t.shadow||(_handleEvents({obj:t,evType:"draw",otherObj:e.ajaxObj,shadowRef:e.shadowRef,shadowDoc:e.shadowDoc,component:e.component}),t.querySelectorAll("*").forEach((function(t){"DATA-SHADOW"!=t.tagName&&_handleEvents({obj:t,evType:"draw",otherObj:e.ajaxObj,shadowRef:e.shadowRef,shadowDoc:e.shadowDoc,component:e.component})})))}_renderShadowDoms(e)},_renderShadowDoms=(e,t=e.doc)=>{t.querySelectorAll("data-shadow").forEach((function(t,a){_renderShadowDomsDo(e,t)}))},_renderShadowDomsClean=e=>{let t,a;for([t,a]of(delete shadowPending[e],Object.entries(shadowDoms)))a.isConnected||delete scopedVars[t]},_renderShadowDomsDo=(e,t)=>{let a,r,n,l,s,c,i,u;if(a=t.parentNode,n=t.getAttribute("data-ref"),r=t.getAttribute("data-mode"),s=t.getAttribute("data-name"),a.removeChild(t),a.shadowRoot)_renderShadowDomsClean(n);else{l=_getActiveID(a).replace("id-","_"),_handleEvents({obj:a,evType:"beforeShadowOpen",shadowRef:l,shadowDoc:i,component:s}),shadowPending[n]=_replaceAttrs(e.obj,shadowPending[n],null,null,e.func,l),shadowPending[n]=_replaceComponents(e,shadowPending[n]),shadowPending[n]=_replaceScopedVars(shadowPending[n],e.secSelObj,e.func,e,!1,a,l),shadowPending[n]=-1!==shadowPending[n].indexOf("{$")?_replaceStringVars(e.ajaxObj,shadowPending[n]):shadowPending[n],c=document.createElement("template"),c.innerHTML=shadowPending[n],_renderShadowDomsClean(n);try{i=a.attachShadow({mode:r})}catch(e){console.log("Active CSS error in attaching a shadow DOM object. Ensure the shadow DOM has a valid parent *tag*. The error is: "+e)}if(a._acssComponent=s,a._acssShadowRef=l,shadowDoms[l]=i,i.appendChild(c.content),setTimeout((function(){_handleEvents({obj:a,evType:"shadowOpen",shadowRef:l,shadowDoc:i,component:s})}),0),i.querySelectorAll("*").forEach((function(t){"DATA-SHADOW"!=t.tagName?_handleEvents({obj:t,evType:"draw",otherObj:e.ajaxObj,shadowRef:l,shadowDoc:i,component:s}):_renderShadowDomsDo(e,t)})),0==allEvents.length)Object.keys(window).forEach(e=>{/^on/.test(e)&&(u=e.slice(2),allEvents.push(u),_attachListener(i,u,s,i,l))});else for(u of allEvents)_attachListener(i,u,s,i,l)}},_replaceLoopingVars=(e,t)=>(-1!==e.indexOf("{")&&(e=e.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]+)(\}|\.|\[)/gm,(function(e,a,r){return t[a]?"-_-"==t[a].substr(0,3)?t[a].substr(3):"{"+t[a]+r:"{"+a+r}))),e),_runInnerEvent=(e,t,a=document)=>{"string"==typeof e?a.querySelectorAll(e).forEach((function(e){_handleEvents({obj:e,evType:t})})):(_handleEvents({obj:e,evType:t}),_runInnerEvent("*",t,e))},_setUpNavAttrs=e=>{let t,a,r;t=document.querySelector("#data-active-pages"),t&&(a=e.getAttribute("href"),a&&(r=t.querySelector('a[href="'+a+'"]'),r&&_cloneAttrs(e,r)))},_splitIframeEls=(e,t=null,a=null,r=null)=>{let n,l,s=t&&"object"==typeof t?t.getRootNode():null,c=document,i=!1,u=!1;if(s instanceof ShadowRoot&&(c=s,i=!0),-1!==e.indexOf(" -> ")){let a;u=!0;let r=e.split(" -> "),d=0;for(a of r){if(d++,d==r.length)break;if("document"==a)c=document;else if("parent"==a)i?(s=s.host.getRootNode(),c=s):window.parent.document?c=window.parent.document:console.log("Active CSS error. Reference to a parent element that doesn't exist.");else if((t=c.querySelector(a)).shadowRoot)c=t.shadowRoot;else{if("IFRAME"!=t.tagName)return console.log("ref "+a+" is unknown."),!1;c=t.contentWindow.document,l=a}}n=r[r.length-1]}else n=e;return"host"==n?(s=s.host.getRootNode(),c=s):a&&!u&&(c=a),[c,n,l]},_addConfig=(e,t)=>{let a=e.match(/^.*((\r\n|\n|\r)|$)/gm),r="";for(let e=0;e<a.length;e++)r+="*debugfile:"+t.file+":"+(e+1)+"*"+a[e];concatConfig+=e=r,++concatConfigCo>=concatConfigLen&&_readSiteMap(),concatConfigCo>concatConfigLen&&("load-config"==t.actName&&(configArr.push(t.avRaw),setupEnded&&(debuggerActive&&_tellPanelToUpdate(),evEditorActive&&_tellElementsToUpdate())),_handleEvents({obj:t.obj,evType:"afterLoadConfig"}))},_addConfigError=(e,t)=>{_handleEvents({obj:t.obj,evType:"loadconfigerror"})},_assignRule=(e,t,a,r,n,l,s,c,i,u=null)=>{let d;if(void 0===e[t]&&(e[t]={}),void 0===e[t][a]&&(e[t][a]={}),void 0===e[t][a][r]&&(e[t][a][r]={}),u=u||"0",void 0===e[t][a][r][u]&&(e[t][a][r][u]={}),void 0===e[t][a][r][u][n]&&(e[t][a][r][u][n]=[]),d=ActiveCSS._getPosOfRule(e[t][a][r][u][n],l),-1!=d){e[t][a][r][u][n][d].value+=", "+s;let l="",p="";return e[t][a][r][u][n][d].file&&(l=","+c,p=","+i),e[t][a][r][u][n][d].file+=l,e[t][a][r][u][n][d].line+=p,e}return e[t][a][r][u][n].push({name:l,value:s,file:c,line:i}),e},_attachListener=(e,t,a,r,n,l=!1)=>{let s={capture:!0};if(doesPassive){let e=a||"doc";void 0!==nonPassiveEvents[e]&&void 0!==nonPassiveEvents[e][t]&&!0===nonPassiveEvents[e][t]||!1===passiveEvents?s.passive=!1:s.passive=!0}doesPassive&&l&&(e.removeEventListener(t,ActiveCSS._theEventFunction,{capture:!0}),delete e["_acss"+t+"EvComponent"],delete e["_acss"+t+"EvShadowDoc"],delete e["_acss"+t+"EvShadowRef"]),e["_acss"+t+"EvComponent"]=a,e["_acss"+t+"EvShadowDoc"]=r,e["_acss"+t+"EvShadowRef"]=n,e.addEventListener(t,ActiveCSS._theEventFunction,s)};ActiveCSS._theEventFunction=e=>{let t=e.type,a=e.target["_acss"+t+"EvComponent"],r=e.target["_acss"+t+"EvShadowDoc"],n=e.target["_acss"+t+"EvShadowRef"];if(!setupEnded)return;let l=_fullscreenDetails();switch(t){case"click":e.ctrlKey||_mainEventLoop("click",e,a,r,n);break;case"keyup":case"keydown":let s=e.ctrlKey?"Ctrl":"",c=e.shiftKey?"Shift":"",i=e.key;switch(e.key){case":":i="Colon",c="";break;case";":i="Semicolon",c="";break;case"{":i="OpenCurly",c="";break;case"}":i="CloseCurly",c="";break;case'"':i="DoubleQuotes",c="";break;case"'":i="SingleQuote",c="";break;case"?":i="Question",c="";break;case"!":i="Exclamation",c=""}_mainEventLoop(t+s+c+i,e,a,r,n),_mainEventLoop(t,e,a,r,n);break;case l[1]+"fullscreenchange":_mainEventLoop(t,e,a,r,n),l[0]?_mainEventLoop("fullscreenEnter",e,a,r,n):_mainEventLoop("fullscreenExit",e,a,r,n);break;default:_mainEventLoop(t,e,a,r,n)}};const _checkPassiveState=(e,t)=>{if(doesPassive){let a=e||"doc",r=t;"key"==t.substr(0,3)&&("keyup"==t.substr(0,5)?r="keyup":"keydown"==t.substr(0,7)&&(r="keydown")),void 0===nonPassiveEvents[a]&&(nonPassiveEvents[a]=[]),!0!==typeof nonPassiveEvents[a][r]&&(nonPassiveEvents[a][r]=!0)}},_convConfig=(e,t,a=0)=>{let r,n,l,s,c,i={children:{},attributes:{}},u=null,d=0;for(;null!==(u=PARSEREGEX.exec(e));){if(a>t)return console.log("Syntax error in config - possibly an incomplete set of curly brackets."),!1;if(u[PARSEDEBUG])c=u[PARSEDEBUG].split(":"),configFile=c[1],configLine=c[2].substr(0,c[2].length-1);else if(u[PARSESEL]){if(a++,r=u[PARSESEL].trim(),r=r.replace(/\*debugfile[\s\S]*?\*/g,""),s=_convConfig(e,t,a),!1===s)return!1;l={},l.name=_sortOutEscapeChars(r),l.value=s,l.line=configLine,l.file=configFile,l.type="rule",i[d++]=l}else{if(u[PARSEEND])return i;if(u[PARSEATTR]){var p=u[PARSEATTR].trim();p=p.replace(/\*debugfile[\s\S]*?\*|([^:]|^)\/\/.*$/g,"");var _=PARSELINEX.exec(p);_?(r=_[1].trim(),n=_[2].trim(),l={},l.name=_sortOutEscapeChars(r),l.value=_sortOutEscapeChars(n),l.type="attr",l.line=configLine,l.file=configFile,i[d++]=l):i[d++]=p}}}return i};ActiveCSS._getPosOfRule=(e,t)=>_getValFromList(e,t,!0);const _initScriptTrack=()=>{document.querySelectorAll("script").forEach((function(e,t){scriptTrack.push(e.src)}))},_iterateConditionals=(e,t,a)=>{var r,n;return Object.keys(t).forEach((function(l){(n=t[l].name)&&(r=e[a].length,e[a][r]={},e[a][r].name=n,e[a][r].value=t[l].value,e[a][r].file=t[l].file,e[a][r].line=t[l].line)})),e},_iteratePageList=e=>{if(!("content"in document.createElement("template")))return void console.log("Browser does not support html5. Cannot instantiate page navigation.");let t=document.createElement("template");var a,r;t.id="data-active-pages";let n=Math.floor(1e7*Math.random());Object.keys(e).forEach((function(l){(a=e[l].name)&&(-1!==pageList.indexOf(a)&&console.log("Config error: Page "+a+" is referenced twice."),r=e[l].value.replace(/\{\$RAND\}/g,n),t.insertAdjacentHTML("beforeend","<a href="+a.trim()+" "+r.trim()+">"))})),document.body.appendChild(t)},_iterateRules=(e,t,a,r,n,l=null,s=null)=>{let c,i,u,d,p,_,f,S,g;return Object.keys(t).forEach((function(m){if(S=t[m].name,g=t[m].value,S){if(-1!==["@each"].indexOf(t[m].name.substr(0,5)))return _iterateRules(e,g,a,r,n,(l?l+"|||":"")+S);if("string"==typeof g)return"prevent-default"==S&&_checkPassiveState(s,r),void(e=_assignRule(e,a,r,n,"&",S,g,t[m].file,t[m].line,l));for(c in i="",u="",g)if(void 0!==g[c].type)for(d=S.split(","),p=d.length,f=0;f<p;f++)_=d[f].trim(),"&"==_&&"prevent-default"==S&&_checkPassiveState(s,r),e=_assignRule(e,a,r,n,_,g[c].name,g[c].value,t[m].file,t[m].line,l)}})),e},_makeVirtualConfig=(e="",t="",a=null,r=null)=>{var n,l,s,c,i,u,d,p,_,f=""!==e?e:parsedConfig;if(Object.keys(f).forEach((function(e){if(f[e].name)for(u=f[e].name,f[e].value,n=u.split(/,(?![^\(\[]*[\]\)])/),l=n.length,s=0;s<l;s++)switch(c=n[s].trim(),i="@component "==c.substr(0,11),!i||i&&-1===n[s].indexOf(":")?c.slice(0,1):""){case"?":let r=c.substr(1);a&&(r="|"+a+"|"+r),conditionals[r]=void 0===conditionals[r]?[]:conditionals[r],conditionals=_iterateConditionals(conditionals,f[e].value,r);break;case"@":if("@pages"==c)_iteratePageList(f[e].value);else if(i){let t=c.split(" ")[1].trim();components[t]||(components[t]={}),-1!==c.indexOf(" shadow")?(components[t].shadow=!0,components[t].mode=-1!==c.indexOf(" closed")?"closed":"open"):(components[t].shadow=!1,components[t].mode=null),_makeVirtualConfig(f[e].value,"",t),void 0===components[t].data&&(components[t].data="",components[t].file="",components[t].line=""),t=""}else t=_setupMediaQueryHandler(c.slice(7).trim()),_makeVirtualConfig(f[e].value,t),t="";break;default:if("html"==c)a&&(components[a].data=f[e].value[0].value.slice(1,-1),components[a].data=components[a].data.replace(/\\\"/g,'"'),components[a].file=f[e].value[0].file,components[a].line=f[e].value[0].line);else{if(!(d=c.split(/:(?![^\(\[]*[\]\)])/))[1]){console.log('"'+u+'" '+c+" is not a fully formed selector - it may be missing an event or have incorrect syntax. Or you have too many closing curly brackets.");continue}_=d.shift(),p=(p=d.pop()).trim();let r,n=[],l=[];if(d){let e,t;for(t of d)e=new RegExp(COLONSELS,"g"),e.test(t)?n.push(t):l.push(t)}""!==t&&l.push(t),n.length>0&&(_+=":"+n.join(":")),a&&(_="|"+a+":"+_,shadowSels[a]=void 0===shadowSels[a]?[]:shadowSels[a],shadowSels[a][p]=!0),config[_]=void 0===config[_]?{}:config[_],config[_][p]=void 0===config[_][p]?{}:config[_][p],r=0===l.length?0:l.join(" "),preSetupEvents.push({ev:p,sel:_}),config=_iterateRules(config,f[e].value,_,p,r,a)}}})),""!==e)return;let S=!!debugMode&&_doDebug("config");S&&Object.keys(config).sort().forEach((function(e){console.log(e,config[e])})),S=!!debugMode&&_doDebug("conditionals"),S&&Object.keys(conditionals).sort().forEach((function(e){console.log(e,conditionals[e])})),S=!!debugMode&&_doDebug("components"),S&&Object.keys(components).sort().forEach((function(e){console.log(e,components[e])}))};ActiveCSS._mapRegexReturn=(e,t,a=null)=>{if("string"!=typeof t)return t;let r=new RegExp(Object.keys(e).join("|"),"gim");return t=t.replace(r,(function(t){return a?a[t]:e[t]}))};const _parseConfig=e=>{e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*$/gm,"")).replace(/[\r\n\t]+/g,"")).replace(/\\\"/g,"_ACSS_escaped_quote")).replace(/\{\=([\s\S]*?)\=\}/g,(function(e,t){return-1!==t.indexOf("*debugfile:")&&(t=(t=t.trim().slice(0,-1)).replace(/\*debugfile\:[\s\S]*?\*/g,""),t+="*"),"_ACSS_subst_equal_brace_start"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,t)+"_ACSS_subst_equal_brace_end"}))).replace(/<style>([\s\S]*?)<\/style>/gim,(function(e,t){return"<style>"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,t)+"</style>"}))).replace(/[\s]*var[\s]*\:([\s\S]*?)\;/gim,(function(e,t){return"var: "+ActiveCSS._mapRegexReturn(DYNAMICCHARS,t)+";"}))).replace(/\{\$([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(e,t){return"_ACSS_subst_dollar_brace_start"+(t=t.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\[\]]+)\}\}/gi,(function(e,t){return"_ACSS_subst_brace_start_ACSS_subst_brace_start"+(t=t.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\#\:]+)\}\}/gi,(function(e,t){return"_ACSS_subst_brace_start_ACSS_subst_at_brace_start"+(t=t.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\#\:]+)\}/gi,(function(e,t){return"_ACSS_subst_at_brace_start"+(t=t.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(e,t){return"_ACSS_subst_pipe_brace_start"+(t=t.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(e,t){return"_ACSS_subst_hash_brace_start"+(t=t.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\[\]]+)\}/gi,(function(e,t){return"_ACSS_subst_brace_start"+(t=t.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\\{/g,"_ACSS_brace_start")).replace(/\\}/g,"_ACSS_brace_end")).replace(/([^\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]html[\u00BF-\u1FFF\u2C00-\uD7FF\w_\- ]+{)([\s\S]*?)}/gi,(function(e,t,a){return t+'{component: "'+(a=(a=a.replace(/_ACSS_escaped_quote/g,'\\"')).replace(/"/g,"_ACSS_escaped_quote"))+'";}'}));let t={"{":"_ACSS_brace_start","}":"_ACSS_brace_end",";":"_ACSS_semi_colon",":":"_ACSS_colon","/":"_ACSS_slash"},a=(e=(e=e.replace(/("([^"]|"")*")/g,(function(e,a){return ActiveCSS._mapRegexReturn(t,a)}))).replace(/([\(]([^\(\)]|\(\))*[\)])/g,(function(e,a){return ActiveCSS._mapRegexReturn(t,a)}))).split("{").length;return(e=_convConfig(e,a))[0]||console.log("Active CSS: Either your config is empty or there is a structural syntax error."),e},_readSiteMap=()=>{parsedConfig=_parseConfig(concatConfig),concatConfig="";var e=!!debugMode&&_doDebug("parser");let t;for(t of(e&&console.log(parsedConfig),setupEnded||_setupPassive(),_makeVirtualConfig(),preSetupEvents))_setupEvent(t.ev,t.sel);preSetupEvents=[],setupEnded||(_startMainListen(),_initScriptTrack(),_handleEvents({obj:"body",evType:"preInit"}),_handleEvents({obj:"body",evType:"init"}),_runInnerEvent("*","draw"),_handleEvents({obj:"body",evType:"scroll"}),_wrapUpStart(),""!==lazyConfig&&setTimeout((function(){let e,t=lazyConfig.split(",");for(e of t)_a.LoadConfig({actName:"load-config",actVal:e,doc:document})}),1e3))},_setupEvent=(e,t,a)=>{if(void 0===selectors[e]&&(selectors[e]=[]),selectors[e].includes(t)){if(!setupEnded||!doesPassive)return}else selectors[e].push(t);if(debuggerEvs.includes(e)){if(!setupEnded||!doesPassive)return}else debuggerEvs.push(e);if(!1!==(e=_getRealEvent(e))&&(setupEnded||!eventState[e])){let a=document.parentNode&&"body"==t&&"scroll"==e?document.body:window;_attachListener(a,e,null,null,null,!!setupEnded),eventState[e]=!0}},_setupMediaQueryHandler=e=>{if(e=e.trim(),mediaQueriesOrig[e])return mediaQueriesOrig[e];let t="__mql_"+(mediaQueries.length+1);mediaQueriesOrig[e]=t,conditionals[t]=[],conditionals[t].push({name:"mql-true",value:t});let a=window.matchMedia(e),r=a.matches;return mediaQueries.push(t),mediaQueries[t]={ev:a,val:r},mediaQueries[t].ev.addListener((function(e){let t=mediaQueriesOrig[e.media];mediaQueries[t].val=e.matches})),t},_setupPassive=()=>{try{let e=Object.defineProperty({},"passive",{get:function(){doesPassive=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(e){}},_sortOutEscapeChars=e=>ActiveCSS._mapRegexReturn({_ACSS_brace_start:"{",_ACSS_brace_end:"}",_ACSS_escaped_quote:'\\"',_ACSS_semi_colon:";",_ACSS_colon:":",_ACSS_slash:"/",_ACSS_subst_equal_brace_start:"{=",_ACSS_subst_equal_brace_end:"=}",_ACSS_subst_dollar_brace_start:"{$",_ACSS_subst_brace_start:"{",_ACSS_subst_at_brace_start:"{@",_ACSS_subst_pipe_brace_start:"{|",_ACSS_subst_hash_brace_start:"{#",_ACSS_subst_brace_end:"}",_ACSS_dot:"."},e),_startMainListen=()=>{window.addEventListener("message",(function(e){if(e.origin===window.location.origin&&"causejs-devtools-extension"!=e.data.source){var t=e.data,a=t.type.replace("cjs-","");switch(a){case"unloading":case"loaded":let e=document.getElementById(t.el);_handleEvents({obj:e,evType:a})}}})),document.parentNode?(window.addEventListener("beforeunload",(function(e){parent.postMessage({type:"cjs-unloading",el:window.frameElement.id},window.location.origin)})),parent.postMessage({type:"cjs-loaded",el:window.frameElement.id},window.location.origin)):window.addEventListener("popstate",(function(e){let t=e.state;if(!t)return;debuggerActive&&_debugOutput("Popstate event");let a=document.querySelector("#data-active-pages"),r=!1;if(t&&a){let e=new URL(t),n=e.pathname+e.search,l=a.querySelector('a[href="'+n+'"]');l&&(ActiveCSS.trigger(l,"click"),r=!0)}r||(window.location.href=t)})),currentPage=location.pathname,scopedVars=_observableSlim.create(scoped,!0,ActiveCSS._varUpdateDom)},_wrapUpStart=()=>{let e=_resolveURL(window.location.href);window.history.replaceState(e,document.title,e),setupEnded=!0};ActiveCSS.init=e=>{if(setupEnded)return void console.log("Cannot initialize Active CSS twice.");let t;lazyConfig=e.lazyConfig||"",passiveEvents=void 0===e.passiveEvents||e.passiveEvents,e.configLocation=e.configLocation||console.log("Active CSS config file not declared in setup."),e.debugMode&&(debugMode=e.debugMode,document.parentNode?console.log("Active CSS debug mode in iframe ID "+window.frameElement.id+": "+debugMode):console.log("Active CSS debug mode: "+debugMode));let a=e.configLocation.split(",");for(t of(concatConfigLen=a.length,a))t=t.trim(),configArr.push(_getBaseURL(t)),_getFile(t,"txt",{file:t})};const _addScopedAttr=(e,t,a,r)=>{let n=_addScopedCID(e,t.secSelObj),l=t.actVal.split(" ")[0],s=r?a:a.substr(a.indexOf(" ")+1)._ACSSRepQuo();_set(scopedData,e+".attrs["+n+"]"+l,s)},_addScopedCID=(e,t)=>{let a=_getActiveID(t);return _set(scopedData,e+".cids["+a+"]",a),a},_escapeItem=e=>{let t=document.createElement("div");return t.textContent=e.replace(/\{\=|\=\}/gm,""),t.innerHTML},_getObjFromDots=(e,t)=>void 0===e[t]?"":e[t],_observableSlim=(paths=[],observables=[],targets=[],targetsProxy=[],dupProxy=null,_create=function(e,t,a,r){var n=a||null,l=r||[{target:e,property:""}];paths.push(l),e instanceof Array&&(e.__length=e.length);var s=[],c=function(e,t,a){for(var r="",n=null,s=0;s<l.length;s++)n instanceof Array&&!isNaN(l[s].property)&&(l[s].property=n.indexOf(l[s].target)),r=r+"."+l[s].property,n=l[s].target;return r=(r=r+"."+t).substring(2),!0===a&&(r="/"+r.replace(/\./g,"/")),r},i=function(e){if(!0!==n.paused)if(!0===t)setTimeout((function(){if(e===s.length){var t=s.slice(0);s=[];for(var a=0;a<n.observers.length;a++)n.observers[a](t)}}),10);else{var a=s.slice(0);s=[];for(var r=0;r<n.observers.length;r++)n.observers[r](a)}},u={get:function(e,a){if("__getTarget"===a)return e;if("__isProxy"===a)return!0;if("__getParent"===a)return function(e=1){var t=c(0,"__getParent").split(".");return t.splice(-(e+1),e+1),function(e,t){return t.split(".").reduce((function(e,t){return e?e[t]:void 0}),e||self)}(n.parentProxy,t.join("."))};if("__getPath"===a)return c(0,"__getParent").slice(0,-12);var r=e[a];if(e instanceof Date&&r instanceof Function&&null!==r)return r.bind(e);if(r instanceof Object&&null!==r&&e.hasOwnProperty(a)){if(!0===r.__isProxy&&(r=r.__getTarget),r.__targetPosition>-1&&null!==targets[r.__targetPosition])for(var s=targetsProxy[r.__targetPosition],i=0,u=s.length;i<u;i++)if(n===s[i].observable)return s[i].proxy;var d=l.slice(0);return d.push({target:r,property:a}),_create(r,t,n,d)}return r},deleteProperty:function(e,t){var a=!0;dupProxy===p&&(a=!1,dupProxy=null);var r=Object.assign({},e);if(s.push({type:"delete",target:e,property:t,newValue:null,previousValue:r[t],currentPath:c(0,t),jsonPointer:c(0,t,!0),proxy:p}),!0===a){n.changesPaused||delete e[t];for(var l=0,u=targets.length;l<u&&e!==targets[l];l++);for(var d=targetsProxy[l]||[],_=d.length;_--;)d[_].proxy!==p&&(dupProxy=d[_].proxy,delete d[_].proxy[t])}return i(s.length),!0},set:function(e,t,a,r){a&&a.__isProxy&&(a=a.__getTarget);var l=!0;dupProxy===p&&(l=!1,dupProxy=null);var u=e[t];if(u!==a||!1===l||"length"===t&&e instanceof Array&&e.__length!==a){var d=!0,_=typeof u,f="update";if("undefined"===_&&(f="add"),s.push({type:f,target:e,property:t,newValue:a,previousValue:r[t],currentPath:c(0,t),jsonPointer:c(0,t,!0),proxy:p}),"length"===t&&e instanceof Array&&e.__length!==a&&(s[s.length-1].previousValue=e.__length,e.__length=a),!0===l){n.changesPaused||(e[t]=a),d=!1;for(var S=e.__targetPosition,g=targetsProxy[S].length;g--;)if(n===targetsProxy[S][g].observable&&null!==targets[targetsProxy[S][g].observable.parentTarget.__targetPosition]){d=!0;break}if(d){for(var m=targetsProxy[S],b=0,h=m.length;b<h;b++)m[b].proxy!==p&&(dupProxy=m[b].proxy,m[b].proxy[t]=a);setTimeout((function(){if("object"===_&&null!==u){for(var t=Object.keys(e),a=0,r=t.length;a<r;a++)if(e[t[a]]===u)return;var l=!1;if(function e(t){for(var a=Object.keys(t),r=0,n=a.length;r<n;r++){var s=t[a[r]];if(s instanceof Object&&null!==s&&e(s),s===u)return void(l=!0)}}(e),!0===l)return;!function e(t){var l=Object.keys(t);for(a=0,r=l.length;a<r;a++){var s=t[l[a]];s instanceof Object&&null!==s&&e(s)}var c=-1;for(a=0,r=targets.length;a<r;a++)if(t===targets[a]){c=a;break}if(c>-1){for(var i=targetsProxy[c],u=i.length;u--;)if(n===i[u].observable){i.splice(u,1);break}0==i.length&&(targets[c]=null)}}(u)}}),1e4)}}d&&i(s.length)}return!0}},d=e.__targetPosition;(!d||d<0)&&Object.defineProperty(e,"__targetPosition",{value:targets.length,writable:!1,enumerable:!1,configurable:!1});var p=new Proxy(e,u);null===n&&(n={parentTarget:e,domDelay:t,parentProxy:p,observers:[],paused:!1,path:l,changesPaused:!1},observables.push(n));var _={target:e,proxy:p,observable:n};return d>-1?(null===targets[d]&&(targets[d]=e),targetsProxy[d].push(_)):(targets.push(e),targetsProxy.push([_])),p},{create:function(e,t,a){!0===e.__isProxy&&(e=e.__getTarget);var r=_create(e,t);return"function"==typeof a&&this.observe(r,a),function e(t){for(var a=t.__getTarget,r=Object.keys(a),n=0,l=r.length;n<l;n++){var s=r[n];a[s]instanceof Object&&null!==a[s]&&e(t[s])}}(r),r},observe:function(e,t){for(var a=observables.length;a--;)if(observables[a].parentProxy===e){observables[a].observers.push(t);break}},pause:function(e){for(var t=observables.length,a=!1;t--;)if(observables[t].parentProxy===e){observables[t].paused=!0,a=!0;break}if(0==a)throw new Error("_observableSlim could not pause observable -- matching proxy not found.")},resume:function(e){for(var t=observables.length,a=!1;t--;)if(observables[t].parentProxy===e){observables[t].paused=!1,a=!0;break}if(0==a)throw new Error("_observableSlim could not resume observable -- matching proxy not found.")},pauseChanges:function(e){for(var t=observables.length,a=!1;t--;)if(observables[t].parentProxy===e){observables[t].changesPaused=!0,a=!0;break}if(0==a)throw new Error("_observableSlim could not pause changes on observable -- matching proxy not found.")},resumeChanges:function(e){for(var t=observables.length,a=!1;t--;)if(observables[t].parentProxy===e){observables[t].changesPaused=!1,a=!0;break}if(0==a)throw new Error("_observableSlim could not resume changes on observable -- matching proxy not found.")},remove:function(e){for(var t=null,a=!1,r=observables.length;r--;)if(observables[r].parentProxy===e){t=observables[r],a=!0;break}for(var n=targetsProxy.length;n--;)for(var l=targetsProxy[n].length;l--;)targetsProxy[n][l].observable===t&&(targetsProxy[n].splice(l,1),0===targetsProxy[n].length&&(targets[n]=null));!0===a&&observables.splice(r,1)}});var paths,observables,targets,targetsProxy,dupProxy,_create;const _prefixScopedVars=function(e,t=null){let a,r;return e=e.replace(/(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)(\\"|"(?:\\"|[^"])*"|[\u00BF-\u1FFF\u2C00-\uD7FF\w_\.]+)(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)/gim,(function(e,n){if(-1!==n.indexOf('"')||n.match(/^[\d]+$/))return n;if(-1!==n.indexOf(".")){let e=n.split(".")[0];if("window"==e||"scopedVars"==e)return n}return a=(t||"main")+"."+n,r=_get(scopedVars,a),r?"scopedVars."+a:n}))},_replaceAttrs=(e,t,a=null,r=null,n="",l=null)=>{if(!t)return"";if(-1!==t.indexOf("{$RAND}")){let e=Math.floor(1e7*Math.random());t=t.replace(/\{\$RAND\}/g,e)}return-1===t.indexOf("{=")||r&&["CreateCommand","CreateConditional","Eval","Run"].includes(r.func)||(t=ActiveCSS._sortOutFlowEscapeChars(t),t=_replaceJSExpression(t)),-1!==t.indexOf("{@")&&(t=t.replace(/\{\@([^\t\n\f \/>"'=(?!\{)]+)\}/gi,(function(t,n){let l,s=n.split("."),c=[];if(s[1]&&"selected"==s[0]&&"SELECT"==e.tagName){if(l=e.options[e.selectedIndex].getAttribute(s[1]),l)return _escapeItem(l);if(l=e.options[e.selectedIndex][s[1]],l)return _escapeItem(l);c.push("Neither attribute or property "+s[1]+" found in target or primary selector:")}else{let t=n.lastIndexOf(":");if(-1!==t){let a,s=n.substr(0,t);if("host"!=s||r&&-1!==["beforeShadowOpen","shadowOpen"].indexOf(r.event))a=_getSel(r,s);else{if(!e.shadowRoot)return"{@"+n+"}";a=e.shadowRoot}let i=n.substr(t+1);if("IFRAME"==a.tagName&&"url"==i)return _escapeItem(a.contentWindow.location.href);if(l=a.getAttribute(i),l)return _escapeItem(l);if(l=a[i],l)return _escapeItem(l);c.push("Neither attribute or property "+i+" found in target or primary selector:")}else if(e&&"string"!=typeof e){if(a){if(l=a.getAttribute(n),l)return _escapeItem(l);if(l=a[n],l)return _escapeItem(l)}if(l=e.getAttribute(n),l)return _escapeItem(l);if(l=e[n],l)return _escapeItem(l);c.push("Attribute not property "+n+" found in target or primary selector:")}}return c&&c.push(e),""}))),_replaceScopedVars(t,a,n,r,null,null,l)},_replaceComponents=(e,t,a)=>{let r,n=0;for(;n<50&&(r=!1,n++,t=(t=t.replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-_]+)\}/gi,(function(e,t){let a=document.getElementById(t);return a?a.innerHTML:"{#"+t+"}"}))).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-_]+)\}/gi,(function(t,a){if(!components[a])return"{|"+a+"}";let n=components[a].data.trim();if(r=!0,n=ActiveCSS._sortOutFlowEscapeChars(n),n="0"!=e.loopRef?_replaceLoopingVars(n,e.loopVars):n,components[a].shadow){let e='<data-shadow data-name="'+a+'" data-ref="'+ ++shadowCo+'" data-mode="'+components[a].mode+'"></data-shadow>';shadowPending[shadowCo]=n,n=e}else n=_replaceAttrs(e.obj,n,null,null,e.func,e.shadowRef),n=-1!==n.indexOf("{$")?_replaceStringVars(e.ajaxObj,n):n;return n||""})),r););return 50==n&&console.log("Active CSS recursion detected during component rendering. Skipped after 50 attempts.\nFile: "+e.file+", line: "+e.line),t},_replaceJSExpression=(e,t=!1,a=!1)=>{let r;return e=e.replace(/\{\=([\s\S]*?)\=\}/gm,(function(n,l){l=_replaceScopedVarsExpr(l);try{r=Function("scopedVars",'"use strict";return ('+l+");")(scopedVars)}catch(t){console.log("JavaScript expression syntax error: "+e),console.log("Actual expression evaluated: "+l)}if(!t){let e="";a&&(e='"'),r=!0===r?"true":!1===r?"false":"string"==typeof r?e+r+e:"number"==typeof r?r.toString():"Invalid expression ("+l.trim()+")"}return r})),t?r:e},_replaceScopedVars=(e,t=null,a="",r=null,n=!1,l=null,s=null)=>{let c,i,u,d,p;if(-1===e.indexOf("{{")||n||-1===e.indexOf("</"))e=_replaceScopedVarsDo(e,t,a,r,!1,l,s);else{for(c=document.createElement("template"),c.innerHTML=e,i=document.createTreeWalker(c.content,NodeFilter.SHOW_TEXT);i.nextNode();)u=i.currentNode.parentNode,11!=u.nodeType&&(p=_getActiveID(u),d=i.currentNode.textContent,i.currentNode.textContent=_replaceScopedVarsDo(d,u,"Render",null,!0,l,s));for(i=document.createTreeWalker(c.content,NodeFilter.SHOW_ELEMENT);i.nextNode();){u=i.currentNode;let e,t=u.attributes;for(e of t){if(-1!==["data-activeid"].indexOf(e.nodeName))continue;let t=_replaceScopedVarsDo(e.nodeValue,null,"SetAttribute",{secSelObj:u,actVal:e.nodeName+" "+e.nodeValue},!0,l,s);i.currentNode.setAttribute(e.nodeName,t)}}e=(e=(e=(e=(e=c.innerHTML).replace(/_cj_s_lt_/gm,"\x3c!--")).replace(/_cj_s_gt_/gm,"--\x3e")).replace(/_cj_s_lts_/gm,"/*")).replace(/_cj_s_gts_/gm,"*/")}return e},_replaceScopedVarsDo=(e,t=null,a="",r=null,n=!1,l=null,s=null)=>{let c,i=!1,u=!1,d=!1,p=e;return-1!==e.indexOf("{")&&(e=e.replace(/\{((\{)?(\@)?[\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\:\[\]]+(\})?)\}/gm,(function(e,_){let f;if("{"==_[0]&&(i=!0,_=_.slice(1,-1)),"@"==_[0]){if(!l)return e;u=!0;let t="host:";if(-1===(_=_.slice(1)).indexOf(t))return console.log("Non shadow-host attribution substitution is not yet supported! Let us know that you want it."),e;if(d=!0,_=_.replace(t,""),!l.hasAttribute(_))return console.log("Shadow host attribute "+_+" not found."),e;c=_escapeItem(l.getAttribute(_)),f=l.getAttribute("data-activeid").replace("d-","")+"HOST"+_}else{if(-1!==(_=(_=_.replace(/\[/,".")).replace(/\]/,"")).indexOf(".")){let e=_.split(".")[0];if("window"==e)return _;"scopedVars"==e&&(_=_.replace(/^scopedVars\./,""))}c=_get(scopedVars,_=s?s+"."+_:"main."+_),c=!0===c?"true":!1===c?"false":"string"==typeof c?_escapeItem(c):"number"==typeof c?c.toString():c&&"object"==typeof c?"__object":"",f=_}if(i&&-1!==a.indexOf("Render")){let e,a;return _addScopedCID(f,t),"STYLE"==t.tagName?(e=n?"_cj_s_lts_":"/*",a=n?"_cj_s_gts_":"*/"):(e=n?"_cj_s_lt_":"\x3c!--",a=n?"_cj_s_gt_":"--\x3e"),e+"active-var-"+f+a+c+e+"/active-var"+a}return"SetAttribute"==a&&_addScopedAttr(f,r,p,n),c}))),e},_replaceScopedVarsExpr=(e,t=null,a="",r=null,n=!1,l=null,s=null)=>{let c,i,u;return e=e.replace(/([\u00BF-\u1FFF\u2C00-\uD7FFa-z][\u00BF-\u1FFF\u2C00-\uD7FF\w_\.\:\[\]]+)(?!\u00BF-\u1FFF\u2C00-\uD7FF\w)/gim,(function(e,t){if(i=t,-1!==t.indexOf(".")){if(u=t.split(".")[0],"window"==u)return t;"scopedVars"==u&&(t=t.replace(/^scopedVars\./,""))}return c=_get(scopedVars,t=s?s+"."+t:"main."+t),c?"scopedVars."+t:i}))},_replaceStringVars=(e,t)=>t.replace(/{\$STRING\}/gi,e&&e.res?e.res:""),_resolveAjaxVars=e=>{if("object"==typeof e.res){let t,a=e.shadowRef?e.shadowRef:"main";for(t in e.res)void 0===scopedVars[a]&&(scopedVars[a]={}),_set(scopedVars,a+"."+t,e.res[t])}},_resolvePath=(e,t=self,a=".")=>((Array.isArray(e)?e:e.split(a)).reduce((e,t)=>e&&e[t],t),t);ActiveCSS._sortOutFlowEscapeChars=e=>ActiveCSS._mapRegexReturn({_ACSS_later_comma:",",_ACSS_later_brace_start:"{",_ACSS_later_brace_end:"}",_ACSS_later_semi_colon:";",_ACSS_later_colon:":",_ACSS_later_double_quote:'"'},e),ActiveCSS._varUpdateDom=e=>{let t,a,r,n,l,s,c,i,u,d,p,_,f,S;for(t of e)if(a=_get(scopedData,t.currentPath),a){if(r=t.newValue,S=t.currentPath.indexOf("HOST"),_=null,f=document,-1!==S)_=document.querySelector('[data-activeid="id-'+t.currentPath.substr(1,S-1)+'"]'),f=_.shadowRoot;else if("_"==t.currentPath.substr(0,1)){let e=t.currentPath.substr(0,t.currentPath.indexOf("."));if("delete"==t.type&&""==e){delete shadowDoms[t.currentPath],delete scopedData[t.currentPath];continue}if(f=shadowDoms[e],void 0===f)continue;_=f.host}for(n in a.cids)if(l=f.querySelector('[data-activeid="'+n+'"]'),l){for(s=document.createTreeWalker(l,NodeFilter.SHOW_COMMENT),c=document.createTextNode(r);s.nextNode();)if(i=s.currentNode,i.data=="active-var-"+t.currentPath&&"/active-var"!=i.data&&i.parentNode.isEqualNode(l)){if("/active-var"==i.nextSibling.data){let e=document.createTextNode(c.textContent);i.parentNode.insertBefore(e,i.nextSibling)}else i.nextSibling.textContent=c.textContent;s.nextNode()}else s.nextNode();if("STYLE"==l.tagName){let e=new RegExp("\\/\\*active\\-var\\-"+t.currentPath+"\\*\\/(((?!\\/\\*).)*)\\/\\*\\/active\\-var\\*\\/","g"),a=l.textContent;a=a.replace(e,(function(e,a){return"/*active-var-"+t.currentPath+"*/"+c.textContent+"/*/active-var*/"})),l.textContent=a}}else delete a.cids[n];for(n in a.attrs)if(l=f.querySelector('[data-activeid="'+n+'"]'),l)for([u,d]of Object.entries(a.attrs[n])){if(!l.hasAttribute(u))return;p=_replaceScopedVars(d,null,"",null,!0,_),l.setAttribute(u,p)}else delete a.attrs[n]}};const _cookieExists=e=>!(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie),_getCookie=e=>e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null,_setCookie=(e,t,a,r,n,l)=>{if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var s="";if(a)switch(a.constructor){case Number:s=a===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+a;break;case String:s="; expires="+a}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+s+(n?"; domain="+n:"")+(r?"; path="+r:"")+(l?"; secure":""),!0},_addActValRaw=e=>{e.avRaw=e.actVal,e.avRaw.indexOf("?")&&(e.avRaw=_getBaseURL(e.avRaw))},_ajax=(e,t,a,r,n,l,s)=>{preGetMid++;var c,i=new XMLHttpRequest;switch(i.open(e,a,!0),t){case"html":case"txt":c="text/html";break;case"json":c="application/json";break;default:c="application/x-www-form-urlencoded"}i.setRequestHeader("Content-type",c),i.onreadystatechange=function(){if(4==i.readyState){if(200!=i.status){if(preGetMid--,!l)return void console.log("Tried to get file: "+a+", but failed with error code: "+i.status);l(i.responseText,i.status,s)}preGetMid--,null!==n&&n(i.responseText,s)}},"POST"==e&&null!==r?i.send(r):i.send()},_ajaxCallback=(e,t)=>{"string"==typeof e&&""!==e.trim()?(t.res="JSON"==t.dataType?JSON.parse(e):e,_resolveAjaxVars(t)):t.res="",!t.error&&t.preGet?ajaxResLocations[t.finalURL]=t.res:(_ajaxDisplay(t),!t.error&&t.cache&&(ajaxResLocations[t.finalURL]=t.res))},_ajaxCallbackErr=(e,t,a)=>{a.preGet?(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax-pre-get callback error debug: failed with error "'+t+'".'):(a.error=!0,a.errorCode=t,_ajaxCallback(e,a),(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax callback error debug: failed with error "'+t+'".'))},_ajaxDisplay=e=>{let t="afterAjax"+(e.formSubmit?"Form"+(e.formPreview?"Preview":e.formSubmit?"Submit":""):"");e.error&&(t+=e.errorCode),_handleEvents({obj:e.obj,evType:t,otherObj:e,shadowRef:e.shadowRef,shadowDoc:e.shadowDoc,component:e.component}),""!==e.hash&&(document.location.hash="",document.location.hash=e.hash)},_ajaxDo=e=>{if(e.preGet&&preGetMid){let t=_getParVal(e.actVal,"max");if(preGetMid==(preGetMax=""!=t?t:6))return}let t=e.actVal.split(" ");e.formMethod=_optDef(t,"get","GET","POST"),e.dataType=_optDef(t,"html","HTML","JSON"),e.cache=_optDef(t,"cache",!0,!1),e.nocache=_optDef(t,"nocache",!0,!1);let a=(e.nocache?"_="+Date.now()+"&":"")+"_ACSS=1"+(e.formPreview?"&_ACSSFORMPREVIEW=1":"")+(e.formSubmit?"&_ACSSFORMSUBMIT=1":"")+"&_ACSSTYPE="+e.dataType;e.pars=a;let r=e.url;if(""===r)return;e.formSubmit&&(e.pars+="&"+_checkForm(e.secSelObj,"pars")),"GET"==e.formMethod&&(r=_appendURIPar(r,e.pars,e.doc)),e.hash="";let n=r.indexOf("#");-1!==n&&(e.hash=r.substr(n+1),r=r.substr(0,n)),r=_attachGetVals(e.actVal,r,e.doc,"get-pars"),e.pars=_attachPostVals(e.actVal,e.pars),e.finalURL="GET"==e.formMethod?r:_appendURIPar(r,e.pars,e.doc),ajaxResLocations[e.finalURL]?e.preGet||(e.res=ajaxResLocations[e.finalURL],_resolveAjaxVars(e),_ajaxDisplay(e)):_ajax(e.formMethod,e.dataType,r,e.pars,_ajaxCallback.bind(this),_ajaxCallbackErr.bind(this),e)},_appendURIPar=(e,t,a)=>{var r=new RegExp("^([a-z]+://|//)","i");""!==e&&r.test(e)||(e=window.location.protocol+"//"+window.location.host+("/"!=e.substr(0,1)?"/":"")+e);let n,l,s=new URL(e),c=t.split("&"),i="";for(n of c)if(-1!==n.indexOf("="))l=n.split("="),l[1]?s.searchParams.set(l[0],l[1]):s.searchParams.set(l[0],"");else if("{#"==n.substr(0,2)){let e=n.slice(2,-1),t=a.getElementById(e);if("FORM"==t.tagName){let e=_checkForm(t,"pars"),r=_appendURIPar(s,e,a);s=new URL(r)}}else i+=n;return s+i},_attachGetVals=(e,t,a,r)=>{let n=_getParVal(e,r);return n&&(t=_appendURIPar(t,n,a)),t},_attachPostVals=(e,t)=>{let a=_getParVal(e,"post-pars");return a&&(t+="&"+a),t},_getFile=(e,t,a={})=>{_ajax("GET",t,e,null,_addConfig.bind(this),_addConfigError.bind(this),a)},_getParVal=(e,t)=>{if(-1!==e.indexOf(t+"(")){let a=new RegExp(t+"[\\(]([\\s\\S]+)[\\)]","g").exec(e)||"";if(a)return a[1]}return""},_actValSelItem=e=>{let t=e.actVal.split(" "),a=t.splice(-1);return[_getSel(e,t.join(" ")),a[0]]};ActiveCSS._addClassObj=(e,t)=>{if(!e||!e.classList)return;let a=t.replace(".","").split(" ");e.classList.add(...a)};const _checkForm=(e,t)=>{if(!e)return!1;for(var a,r,n,l,s,c,i="check"==t,u="pars"==t,d="",p=[],_=0,f=e.elements.length;_<f;_++)if(r=!1,(a=e.elements[_]).hasAttribute("name")){switch(a.nodeName.toLowerCase()){case"select":for(n=0,l=0,s=a.options.length;l<s;l++)c=a.options[l],r=r||c.selected!=a.defaultSelected,c.defaultSelected&&(n=l);r&&!a.multiple&&(r=n!=a.selectedIndex),d+="&"+a.getAttribute("name")+"="+encodeURIComponent(a.options[a.selectedIndex].value);break;case"textarea":case"input":switch(a.type.toLowerCase()){case"checkbox":r=a.checked!=a.defaultChecked,d+="&"+a.getAttribute("name")+"="+(a.checked?"on":"");break;case"radio":r=a.checked!=a.defaultChecked,a.checked&&(d+="&"+a.getAttribute("name")+"="+encodeURIComponent(a.value));break;default:r=a.value!=a.defaultValue,d+="&"+a.getAttribute("name")+"="+encodeURIComponent(a.value)}break;case"hidden":d+=u?"&"+a.getAttribute("name")+"="+encodeURIComponent(a.value):""}i&&r&&p.push(a)}return i?!!p.length:u?"_ACSSFORMNAME="+(e.name?e.name:"")+d:void 0},_convertToMS=(e,t)=>{if("stack"==e)return 0;var a=/^(\d+)(ms|s)?$/i.exec(e);if(!a)return console.log(t),!1;var r=parseFloat(a[1]);return"s"==(a[2]||"ms").toLowerCase()?1e3*r:r};ActiveCSS._decodeHTML=e=>(new DOMParser).parseFromString(e,"text/html").documentElement.textContent;const _doDebug=(e,t)=>{if(t){if(-1!==debugMode.indexOf(":")){let a=t.split(":");return-1!==debugMode.indexOf(a[0]+":"+e)}return-1!==debugMode.indexOf(t)||-1!==debugMode.indexOf(e)}return-1!==debugMode.indexOf(":")?-1!==debugMode.indexOf(e)&&debugMode.indexOf(":")!==debugMode.indexOf(e)-1:-1!==debugMode.indexOf(e)},_eachRemoveClass=(e,t,a)=>{a.querySelectorAll("."+e).forEach((function(e,a){e&&ActiveCSS._removeClassObj(e,t)}))};function _escCommaBrack(e,t){e=(e=e.replace(/\\\"/g,"_ACSS_i_dq")).replace(/\\'/g,"_ACSS_i_sq");let a,r={"\\,":"__ACSS_int_com","\\(":"_ACSS_i_bo","\\)":"_ACSS_i_bc","\\{":"_ACSS_i_co","\\}":"_ACSS_i_cc","\\[":"_ACSS_i_so","\\]":"_ACSS_i_sc"},n={",":"__ACSS_int_com","(":"_ACSS_i_bo",")":"_ACSS_i_bc","{":"_ACSS_i_co","}":"_ACSS_i_cc","[":"_ACSS_i_so","]":"_ACSS_i_sc"},l=(e=(e=e.replace(/("([^"]|"")*")/g,(function(e,t){return ActiveCSS._mapRegexReturn(r,t,n)}))).replace(/('([^']|'')*')/g,(function(e,t){return ActiveCSS._mapRegexReturn(r,t,n)}))).split(","),s=0,c="";for(a of l)s+=a.split("[").length-a.split("]").length,s+=a.split("(").length-a.split(")").length,s+=a.split("{").length-a.split("}").length,c+=0!==s?a+"__ACSS_int_com":a+",";return 0!==s?(c=_escCommaBrackClean(c,n),c=c.replace(/__ACSS_int_com/g,","),console.log("Unbalanced JavaScript equation in var command - too many brackets, curlies or parentheses, or there could be incorrectly escaped characters: "+c+", in config: "+t.file+", line: "+t.line),c):(c=c.slice(0,-1),c=c.replace(/\,/g,"_ACSSComma"),c=_escCommaBrackClean(c),c)}function _escCommaBrackClean(e,t){let a={_ACSS_i_dq:'\\"',_ACSS_i_sq:"\\'",__ACSS_int_com:",",_ACSS_i_bo:"(",_ACSS_i_bc:")",_ACSS_i_co:"{",_ACSS_i_cc:"}",_ACSS_i_so:"[",_ACSS_i_sc:"]"};return e=(e=e.replace(/("([^"]|"")*")/g,(function(e,t){return ActiveCSS._mapRegexReturn(a,t)}))).replace(/('([^']|'')*')/g,(function(e,t){return ActiveCSS._mapRegexReturn(a,t)}))}const _fullscreenDetails=()=>{let e;return e="MSGesture"in window?[document.webkitFullscreenElement,"webkit"]:[document.fullscreenElement,""],e},_get=(e,t,a=null)=>(e=e[(t=Array.isArray(t)?t:t.replace(/(\[(\d)\])/g,".$2").split("."))[0]])&&t.length>1?_get(e,t.slice(1),a):void 0===e?a:e,_getActiveID=e=>!(!e||!e.dataset)&&(e.dataset.activeid||(activeIDTrack++,e.dataset.activeid="id-"+activeIDTrack),e.dataset.activeid),_getBaseURL=e=>e.substr(0,e.indexOf("?")),_getFieldValType=e=>{switch(e.tagName){case"INPUT":case"TEXTAREA":return"value";default:return"innerText"}},_getFocusedOfNodes=e=>{let t,a,r,n=-1,l=-1;if(t=_splitIframeEls(e),!t)return!1;if(null===t[0].activeElement)return-1;for(r of(a=t[0].querySelectorAll(t[1])||null,a))if(n++,r.isSameNode(t[0].activeElement)){l=n;break}return[a,l]},_getObj=e=>{let t=_splitIframeEls(e);if(!t)return!1;try{return t[0].querySelector(t[1])}catch(e){return!1}},_getRealEvent=e=>{let t=e.substr(0,5);if("after"==t&&"afterprint"!=e)return!1;if("keyup"==t)e="keyup";else if("keydown"==e.substr(0,7))e="keydown";else if("fullscreenEnter"==e||"fullscreenExit"==e)e=_fullscreenDetails()[1]+"fullscreenchange";else{if(["draw","disconnectCallback","adoptedCallback","attributeChangedCallback","beforeShadowOpen","shadowOpen"].includes(e))return!1;if("attrChanges-"==e.substr(0,12))return!1}return e},_getSel=(e,t)=>{switch(t){case"me":case"self":case"this":return e.secSelObj;case"host":return-1!==["beforeShadowOpen","shadowOpen"].indexOf(e.event)?e.secSelObj:e.secSelObj.getRootNode().host;default:return _getObj(t)}},_getValFromList=(e,t,a=!1)=>{let r,n,l,s=-1;for(r in e)if(e.hasOwnProperty(r)){if(s++,n=e[r],a&&n.name==t)return s;for(l in n)if(n.hasOwnProperty(l)&&!a&&n[l]==t)return n.value.replace(/"/g,"")}return!!a&&-1},_getWindow=e=>{try{return e.defaultView||e.parentWindow}catch(e){return window}},_handleQuoAjax=(e,t)=>t._ACSSRepQuo();ActiveCSS._hasClassObj=(e,t)=>e.classList.contains(t)||!1;const _ifFocus=(e,t=!0)=>{let a=_getFocusedOfNodes(e.actVal);return t?0===a[1]:a[1]==a[0].length-1};ActiveCSS._ifVisible=(e,t)=>{let a=("object"==typeof e.actVal?e.actVal:""==e.actVal._ACSSRepQuo().trim()?e.secSelObj:_getSel(e,e.actVal)).getBoundingClientRect(),r=a.top,n=a.bottom;return t?r>=0&&n<=window.innerHeight:r<window.innerHeight&&n>=0};const _mimicReset=e=>{var t,a;for(t in e.target.cjsReset)if("title"!=t)switch((a=e.target.cjsReset[t]).type){case"text":a.el.innerText=a.value;break;default:a.el.value=a.value}e.target.cjsReset.title&&(currDocTitle=ActiveCSS._decodeHTML(e.target.cjsReset.title),document.title=currDocTitle)},_optDef=(e,t,a,r)=>(Array.isArray(e)||(e=e.split(" ")),-1!==e.findIndex(e=>t===e.toLowerCase())?a:r),_outDebug=(e,t)=>{if(e){let e;for(e of t)console.log(e)}};ActiveCSS._removeClassObj=(e,t)=>{if(!e||!e.classList)return;let a=t.replace(".","").split(" ");e.classList.remove(...a)},ActiveCSS._removeObj=e=>{e&&e.parentNode.removeChild(e)};const _resolveURL=e=>{let t=document.location.href,a=history.state,r=document.title;history.replaceState(a,r,e);let n=document.location.href;return history.replaceState(a,r,t),n},_selCompare=(e,t)=>{let a,r,n,l=e.actVal._ACSSSpaceQuoIn();if("eM"==t){if(!l)return!0;if(l&&"__object"==l)return!1;a=l}else a=l.split(" "),r=a.pop()._ACSSSpaceQuoOut()._ACSSRepQuo(),a=a.join(" ");switch(n=_getSel(e,a),n||(n=a),t){case"eM":case"maL":case"miL":let e;if(n&&n.nodeType&&n.nodeType==Node.ELEMENT_NODE){e=n[_getFieldValType(n)]}else e=n;switch(t){case"eM":return!e||""===e;case"maL":return e.length<=r;case"miL":return e.length>=r}break;case"iT":return!(!n||r!=n.innerText);case"iH":return!(!n||r!=n.innerHTML)}},_set=(e,t,a)=>Object(e)!==e?e:(Array.isArray(t)||(t=t.toString().match(/[^.[\]]+/g)||[]),t.slice(0,-1).reduce((e,a,r)=>Object(e[a])===e[a]?e[a]:e[a]=Math.abs(t[r+1])>>0==+t[r+1]?[]:{},e)[t[t.length-1]]=a,e),_setClassObj=(e,t)=>{e&&e.classList&&(e.className=t)},_setsrcObj=(e,t)=>{e&&(e.src=t)},_toggleClassObj=(e,t)=>{e&&e.classList&&e.classList.toggle(t)},_urlTitle=(e,t,a)=>{e=e.replace(/"/g,""),t=t.replace(/"/g,""),e=_resolveURL(e),window.location.href!=e&&window.history.pushState(e,t,e),document.title=t};String.prototype._ACSSCapitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype._ACSSCapitalizeAttr=function(){return this.replace(/(^|[\s-])\S/g,(function(e){return e.toUpperCase()}))},String.prototype._ACSSConvFunc=function(){return this._ACSSCapitalizeAttr().replace(/\-/g,"")},String.prototype._ACSSRepQuo=function(){var e=this.replace(/\\"/g,"_ACSS*%_");return e=(e=e.replace(/"/g,"")).replace(/_ACSS\*%_/g,'"')},String.prototype._ACSSSpaceQuoIn=function(){return this.replace(/"(.+?)"/g,(function(e,t){return t=t.replace(/ /g,"_ACSS_space")}))},String.prototype._ACSSSpaceQuoOut=function(){return this.replace(/_ACSS_space/g," ")},window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var a=0;a<this.length;a++)e.call(t,this[a],a,this)})}(window,document);