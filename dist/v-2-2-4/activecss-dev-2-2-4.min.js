!function(global,document){"use strict";const PARSELINEX=/([^\:]+):([^\;]*)(;)?/,PARSEREGEX=/((?!\*debugfile)[^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|((?!\*debugfile)[^\;\{\}]+\;(?!\s*\*\/))|(\*debugfile[\s\S]*?\*)/gim,PARSESEL=1,PARSEEND=2,PARSEATTR=3,PARSEDEBUG=4,COLONSELS="^((active|any\\-link|blank|checked|current|default|disabled|drop|empty|enabled|first\\-child|first\\-of\\-type|focus|focus\\-visible|focus\\-within|future|hover|indeterminate|in\\-range|invalid|last\\-child|last\\-of\\-type|link|local\\-link|only\\-child|only\\-of\\-type|optional|out\\-of\\-range|past|paused|placeholder\\-shown|playing|read\\-only|read\\-write|required|root|scope|target|target\\-within|user\\-error|user\\-invalid|valid|visited)(?![\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w_\\-])|(current|dir|drop|has|is|lang|not|nth\\-column|nth\\-child|nth\\-last\\-child|nth\\-last\\-column|nth\\-last\\-of\\-type|nth\\-of\\-type|where)\\()",DYNAMICCHARS={",":"_ACSS_later_comma","{":"_ACSS_later_brace_start","}":"_ACSS_later_brace_end",";":"_ACSS_later_semi_colon",":":"_ACSS_later_colon",'"':"_ACSS_later_double_quote"};window.ActiveCSS={},"undefined"!=typeof module&&(module.exports=ActiveCSS);var coreVersionExtension="2-0-0",_a={},_c={},parsedConfig={},config=[],configArr=[],configLine="",configFile="",lazyConfig=[],concatConfig="",concatConfigCo=0,concatConfigLen=0,currentPage="",ajaxResLocations={},pageList=[],eventState={},delayArr=[],cancelIDArr=[],cancelCustomArr=[],intIDCounter=0,selectors=[],userSetupStarted=!1,autoStartInit=!1,setupEnded=!1,clickOutsideSet=!1,clickOutsideSels=[],mimicClones=[],currDocTitle=document.title,debugMode="",conditionals=[],components=[],mediaQueries=[],mediaQueriesOrig=[],activeIDTrack=0,scriptTrack=[],debuggerActive=!1,debuggerness=!1,debuggerExtID=null,debuggerEvs=["afterLoadConfig"],debuggerCo=0,evEditorExtID=null,evEditorActive=!1,devtoolsInit=[],scoped={},scopedVars=null,scopedData={},labelData=[],labelByIDs=[],customTags=[],compCount=0,compPending={},shadowSels=[],shadowDoms={},actualDoms={},preGetMax=6,preGetMid=0,reverseShadowEvs={},allEvents=[],doesPassive=!1,preSetupEvents=[],nonPassiveEvents=[],passiveEvents=!0,inlineConfigTags=null,supportsShadow=!0,privateScopes=[];ActiveCSS.customHTMLElements={},_a.AddClass=n=>{ActiveCSS._addClassObj(n.secSelObj,n.actVal)},_a.Ajax=n=>{n.url=n.actVal.split(" ")[0]._ACSSRepQuo(),_ajaxDo(n)},_a.AjaxFormPreview=n=>{n.formPreview=!0,_a.AjaxFormSubmit(n)},_a.AjaxFormSubmit=n=>{n.formSubmit=!0;const r=n.secSelObj;r?(n.url=r.action,_ajaxDo(n)):console.log("Form "+n.secSel+" not found.")},_a.AjaxPreGet=n=>{n.preGet=!0,_a.Ajax(n)},_a.Alert=n=>{alert(n.actVal._ACSSRepQuo())},_a.Blur=n=>{document.activeElement.blur()},_a.CancelTimer=n=>{let r,a,c,l,s,i=n.actVal.trim(),u=i._ACSSConvFunc(),d=!0,p=n.compRef?n.compRef:"main";if(labelData[p+i]){let n=labelData[p+i];_clearTimeouts(delayArr[n.del][n.func][n.pos][n.intID][n.loopRef]),_removeCancel(n.del,n.func,n.pos,n.intID,n.loopRef)}else{if(l=["~","|"].includes(n.secSel.substr(0,1))?n.secSel:_getActiveID(n.secSelObj),!l)return;if(delayArr[l])if("all"==i)for(r in delayArr[l])for(a in delayArr[l][r])for(c in delayArr[l][r][a])for(s in delayArr[l][r][a][c])_clearTimeouts(delayArr[l][r][a][c][s]),_removeCancel(l,r,a,c,s);else if(delayArr[l]&&delayArr[l][u])for(a in delayArr[l][u])for(c in delayArr[l][u][a])for(s in delayArr[l][u][a][c])_clearTimeouts(delayArr[l][u][a][c][s]),_removeCancel(l,u,a,c,s);else d=!1;else d=!1;if(!d){let r,a=[];if(Object.keys(delayArr).forEach((function(r){["~","|"].includes(r.substr(0,1))||n.doc.querySelectorAll(r).forEach((function(n,r){a.push(_getActiveID(n))}))})),"object"==typeof n.secSel)r=_getActiveID(n.secSel),cancelIDArr[r]&&cancelIDArr[r][u]||!a.includes(r)||_addCancelAttr(n.secSel,u);else if(["~","|"].includes(n.secSel.substr(0,1))){if(!(delayArr[l]&&delayArr[l][u]&&delayArr[l][u][n.actPos]&&delayArr[l][u][n.actPos][n.intID]&&delayArr[l][u][n.actPos][n.intID][n.loopRef]))return;cancelCustomArr.push([n.secSel][u][n.actPos][n.intID][n.loopRef])}else n.doc.querySelectorAll(n.secSel).forEach((function(n){r=_getActiveID(n),cancelIDArr[r]&&cancelIDArr[r][u]||!a.includes(r)||_addCancelAttr(n,u)}))}}},_a.CancelTimerAll=n=>{_unloadAllCancelTimer()},_a.ClickOnFirst=n=>{_focusOn(n)},_a.ClickOnLast=n=>{_focusOn(n,"l")},_a.ClickOnNext=n=>{_focusOn(n,"n")},_a.ClickOnNextCycle=n=>{_focusOn(n,"nc")},_a.ClickOnPrevious=n=>{_focusOn(n,"p")},_a.ClickOnPreviousCycle=n=>{_focusOn(n,"pc")},_a.ClickoutsideEvent=n=>{let r=_getActiveID(n.secSelObj);-1!==n.actVal.indexOf("true")?setTimeout((function(){clickOutsideSels[r]=[],clickOutsideSels[r][0]=!0,clickOutsideSet=!0,-1!==n.actVal.indexOf("continue")&&(clickOutsideSels[r][1]=!0)}),50):clickOutsideSels[r]&&(clickOutsideSels[r][0]=!1,clickOutsideSet=!1)},_a.Clone=n=>{let r=_getSel(n,n.actVal),a=r.dataset.activeid;if(r)if("IFRAME"==r.tagName){if("complete"!=r.contentWindow.document.readyState)return setTimeout(_a.Clone.bind(this,n),200),!1;mimicClones[a]=document.importNode(r.contentWindow.document.body,!0)}else mimicClones[a]=document.importNode(r,!0)},_a.ConsoleLog=n=>{console.log(n.actVal._ACSSRepQuo())},_a.CopyToClipboard=n=>{let r=_getSel(n,n.actVal);if(-1!==["INPUT","TEXTAREA"].indexOf(r.tagName)){let n="readonly"==r.getAttribute("readonly");r.removeAttribute("readonly"),r.select(),document.execCommand("copy"),n&&r.setAttribute("readonly","readonly")}else{let n=document.createElement("textarea");n.id="activecss-copy-field",n.innerHTML=r.innerText,document.body.appendChild(n);let a=document.getElementById("activecss-copy-field");a.select(),document.execCommand("copy"),ActiveCSS._removeObj(a)}},_a.CreateCommand=n=>{let r=n.actVal.trim().split(" ")[0],a=n.actVal.replace(r,"").trim();r=r._ACSSConvFunc(),_a[r]||(a=ActiveCSS._sortOutFlowEscapeChars(a).slice(2,-2),a=_handleVarsInJS(a),a="let actionName = o.actName,actionPosition = o.actPos,actionValue = o.actVal,actionValueUnEval = o.actValSing,actionValuesUnEval = o.origActVal,actionFunc = o.func,eventSelector = o.obj,eventSelectorName = o.primSel,carriedEventObject = o.ajaxObj,conditionals = o.passCond,targetSelector = o.secSelObj,targetSelectorName = o.origSecSel,activeID = o.activeID,doc = o.doc,e = o.e,eventName = o.event,configFile = o.file,configLine = o.line,rulesArray = o.rules,selectorRef = o.secSel,compDoc = o.compDoc,component = o.component,_loopVars = o.loopVars,_loopRef = o.loopRef,_activeVarScope = (o.compRef && privateScopes[o.compRef]) ? o.compRef : \"main\";scopedVars[_activeVarScope] = (typeof scopedVars[_activeVarScope] === 'undefined') ? {} : scopedVars[_activeVarScope];"+a,_a[r]=new Function("o","scopedVars","privateScopes",a))},_a.CreateConditional=n=>{let r=n.actVal.trim().split(" ")[0],a=n.actVal.replace(r,"").trim();r=r._ACSSConvFunc(),_c[r]||(a=ActiveCSS._sortOutFlowEscapeChars(a).slice(2,-2),a=_handleVarsInJS(a),a="let conditionalName = o.actName,conditionalFunc = o.func,conditionalValue = o.actVal,eventSelectorName = o.primSel,eventSelector = o.obj,e = o.e,doc = o.doc,component = o.component,compDoc = o.compDoc,carriedEventObject = o.ajaxObj,_activeVarScope = (o.compRef && privateScopes[o.compRef]) ? o.compRef : \"main\";scopedVars[_activeVarScope] = (typeof scopedVars[_activeVarScope] === 'undefined') ? {} : scopedVars[_activeVarScope];"+a,_c[r]=new Function("o","scopedVars","privateScopes",a))},_a.CreateElement=n=>{let r,a,c,l,s,i=n.actVal,u="";if(r=i.split(" ")[0],!customTags.includes(r)){for(c of(i=i.replace(r,"").trim(),a=_getParVal(i,"observe").split(" "),a))c&&(u+="'"+c.trim()+"',");customTags.push(r),l=r._ACSSConvFunc(),s="ActiveCSS.customHTMLElements."+l+" = class "+l+" extends HTMLElement {",u&&(s+="static get observedAttributes() {return ["+u.slice(0,-1)+"];}"),s+="constructor() {super();}connectedCallback() {_handleEvents({ obj: this, evType: 'connectedCallback' });}disconnectedCallback() {_handleEvents({ obj: this, evType: 'disconnectedCallback', runButElNotThere: true });}adoptedCallback() {_handleEvents({ obj: this, evType: 'adoptedCallback' });}",u&&(s+="attributeChangedCallback(name, oldVal, newVal) {if (!oldVal) return;this.setAttribute(name + '-old', oldVal); let ref = this.getAttribute('data-activeid').replace('d-', '') + 'HOST' + name;ActiveCSS._varUpdateDom([{currentPath: ref, previousValue: oldVal, newValue: newVal, type: 'update'}]);_handleEvents({ obj: this, evType: 'attrChange-' + name });}"),s+="};customElements.define('"+r+"', ActiveCSS.customHTMLElements."+l+");",Function("_handleEvents",'"use strict";'+s)(_handleEvents)}},_a.Eval=o=>{let evalContent=ActiveCSS._sortOutFlowEscapeChars(o.actVal.trim().slice(2,-2));eval(evalContent)},_a.FocusOff=n=>{_a.Blur(n)},_a.FocusOn=n=>{_focusOn(n)};const _focusOn=(n,r,a=!1)=>{let c,l,s,i,u,d=!1,p=1,f=n.actVal;"pcc"!=r&&"ncc"!=r||(-1!==f.indexOf(" click")&&(d=!0,f=f.replace(/ click/,"")),f=f.replace(/ ([\d]+)( |$)?/gm,(function(n,r){return p=r,""})),f=f.trim());if(-1!==["l","n","p","nc","pc","ncc","pcc"].indexOf(r))if("l"!=r)s=_getFocusedOfNodes(f,n),l=s[0],i=s[1],"pcc"!=r&&"ncc"!=r||p>l.length&&(p%=l.length);else{let n=_splitIframeEls(f);if(!n)return!1;l=n[0].querySelectorAll(n[1])||null}switch(r){case"p":case"pc":case"pcc":if("p"==r){if(0===i)return}else i=p>i?l.length-p-i+1:i-p+1;c=l[i-1];break;case"n":case"nc":case"ncc":if("n"==r){if(i==l.length-1)return}else i=l.length<=p+i?p+i-l.length-1:i+p-1;c=l[i+1];break;case"l":c=l[l.length-1];break;default:c=_getSel(n,f)}if(c)return u="FORM"==c.tagName?c.elements[0]:c,!d||"pcc"!=r&&"ncc"!=r?a||("Click"==n.func.substr(0,5)?ActiveCSS.trigger(u,"click"):c.focus()):(ActiveCSS.trigger(u,"click"),setTimeout((function(){u.focus()}),0)),u};_a.FocusOnFirst=n=>{_focusOn(n)},_a.FocusOnLast=n=>{_focusOn(n,"l")},_a.FocusOnNext=n=>{_focusOn(n,"n")},_a.FocusOnNextCycle=n=>{_focusOn(n,"nc")},_a.FocusOnPrevious=n=>{_focusOn(n,"p")},_a.FocusOnPreviousCycle=n=>{_focusOn(n,"pc")},_a.FormReset=n=>{let r=_getSel(n,n.actVal);r&&"FORM"==r.tagName&&r.reset()},_a.FullscreenExit=n=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},_a.FullscreenOn=n=>{let r=n.secSelObj;r.requestFullscreen?r.requestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.msRequestFullscreen&&r.msRequestFullscreen()},_a.Func=n=>{let r=[];n.actVal=n.actVal._ACSSSpaceQuoIn();let a=n.actVal.trim().split(" "),c=a.splice(0,1);if("function"!=typeof window[c])console.log(c+" is not a function.");else{let l;for(l of a)l="true"==l||"false"!=l&&(isNaN(l)?l._ACSSSpaceQuoOut()._ACSSRepQuo():parseFloat(l)),r.push(l);window[c](n,r)}},_a.IframeReload=n=>{let r=n.secSelObj.cloneNode(!1);n.secSelObj.parentNode.insertBefore(r,n.secSelObj),ActiveCSS._removeObj(n.secSelObj)},_a.LoadConfig=n=>{n.actVal=n.actVal._ACSSRepQuo().trim(),_addActValRaw(n),configArr.includes(n.avRaw)?_handleEvents({obj:n.obj,evType:"afterLoadConfig"}):(n.file=n.actVal,_getFile(n.actVal,"txt",n))},_a.LoadImages=n=>{let r=n.actVal;n.doc.querySelectorAll("img["+r+"], picture source["+r+"]").forEach((function(n,a){let c="IMG"==n.tagName?"src":"srcset";n.setAttribute(c,n.getAttribute(r)),n.removeAttribute(r)}))},_a.LoadScript=(n,r)=>{let a=n.actVal._ACSSRepQuo(),c=_getBaseURL(a);if(!scriptTrack.includes(c)){let l="style"==r?"link":"script",s="style"==r?"href":"src",i=n.doc.createElement(l);"style"==r&&(i.rel="stylesheet"),i[s]=a,n.doc.head.appendChild(i),scriptTrack.push(c)}},_a.LoadStyle=n=>{_a.LoadScript(n,"style")},_a.Location=n=>{let r=n.actVal._ACSSRepQuo();n.doc.contentWindow?n.doc.contentWindow.document.location.href=r:document.location.href=r},_a.MediaControl=n=>{let r=n.secSelObj,a=n.actVal.split(" ");if(a[1])switch(a[1]=a[1]._ACSSRepQuo(),a[0]){case"load":r.setAttribute("src",a[1]);break;case"seek":r.currentTime=parseFloat(a[1]);break;case"volume":r.volume=parseFloat(a[1])}switch(a[0]){case"play":r.play();break;case"pause":r.pause();break;case"load":r.load()}},_a.MimicInto=n=>{let r,a,c,l,s;if(r=n.secSelObj,"title"==n.actVal)s="title",a="title",c=currDocTitle;else{if(s=_getSel(n,n.actVal),!s)return;a="INPUT"==s.tagName||"TEXTAREA"==s.tagName?"input":"text"}l=_getFieldValType(r),"title"!=n.actVal&&(c=r[l]);var i,u=0,d=n.secSelObj.form||n.secSelObj.closest("form");switch(d&&(d.cjsReset||(d.cjsReset=[],d.addEventListener("reset",_mimicReset)),"title"==a?d.cjsReset.title||(d.cjsReset.title=r.getAttribute("value")):r.activeResetValueSet||(u=d.cjsReset.length,d.cjsReset[u]={},d.cjsReset[u].el=s,d.cjsReset[u].value=c,d.cjsReset[u].type=a,r.activeResetValueSet=!0)),i=n.secSelObj[l],a){case"input":s.value=i;break;case"text":s.innerText=i;break;case"title":document.title=ActiveCSS._decodeHTML(i),currDocTitle=ActiveCSS._decodeHTML(i)}},_a.PreventDefault=n=>{n.e&&n.e.preventDefault()},_a.Remove=n=>{let r=_getSel(n,n.actVal.trim(),!0);if(!1!==r)ActiveCSS._removeObj(r);else{let r=_splitIframeEls(n.actVal,n.obj,n.compDoc);if(!r)return!1;r[0].querySelectorAll(r[1]).forEach((function(n){ActiveCSS._removeObj(n)}))}},_a.RemoveAttribute=n=>{n.secSelObj.removeAttribute(n.actVal)},_a.RemoveClass=n=>(ActiveCSS._removeClassObj(n.secSelObj,n.actVal),!0),_a.RemoveClone=n=>{let r=_getSel(n,n.actVal).dataset.activeid;r&&(mimicClones[r]=null)},_a.RemoveCookie=n=>{let r=n.actVal.split(" ");if(!r[0])return!1;r[1]=r[1]?r[1]._ACSSRepQuo():null,r[2]=r[2]?r[2]._ACSSRepQuo():null;let a=encodeURIComponent(r[0])+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(r[1]?"; path="+r[1]:"")+(r[2]?"; domain="+r[2]:"");return document.cookie=a,!0},_a.RemoveProperty=n=>{n.secSelObj.style.removeProperty(n.actVal)},_a.Render=n=>{let r=_handleQuoAjax(n,n.actVal);r=_replaceComponents(n,r),r=_replaceStringVars(n.ajaxObj,r),_renderIt(n,r)},_a.RenderAfterBegin=n=>{n.renderPos="afterbegin",_a.Render(n)},_a.RenderAfterEnd=n=>{n.renderPos="afterend",_a.Render(n)},_a.RenderBeforeBegin=n=>{n.renderPos="beforebegin",_a.Render(n)},_a.RenderBeforeEnd=n=>{n.renderPos="beforeend",_a.Render(n)},_a.RestoreClone=n=>{let r=_getSel(n,n.actVal),a=r.dataset.activeid;if(mimicClones[a])if("IFRAME"==r.tagName){if("complete"!=r.contentWindow.document.readyState)return!1;setTimeout((function(){r.contentWindow.document.body=mimicClones[a]}),0)}else setTimeout((function(){let c=r.parentNode;c.replaceChild(mimicClones[a],r),_a.Trigger({secSel:"",actVal:"draw",secSelObj:c,ajaxObj:n.ajaxObj,e:n.el||null})}),0)},_a.Run=n=>{let r,a='"use strict";'+n.actVal.replace(/\{\=([\s\S]*?)\=\}/m,(function(n,a){return r=_handleVarsInJS(ActiveCSS._sortOutFlowEscapeChars(a)),r})),c=n.compRef&&privateScopes[n.compRef]?n.compRef:"main";scopedVars[c]=void 0===scopedVars[c]?{}:scopedVars[c];try{Function("scopedVars, _activeVarScope",a)(scopedVars,c)}catch(n){console.log("Function syntax error ("+n+"): "+a)}},_a.ScrollIntoView=n=>{let r=n.actVal.split(" "),a="start",c="nearest",l=_optDef(r,"behaviour-smooth","smooth","auto");"true"==n.actVal||"false"==n.actVal&&(a="end"),a=_optDef(r,"block-center","center",a),a=_optDef(r,"block-end","end",a),a=_optDef(r,"block-nearest","nearest",a),c=_optDef(r,"inline-center","center",c),c=_optDef(r,"inline-end","end",c),c=_optDef(r,"inline-nearest","nearest",c);try{n.secSelObj.scrollIntoView({behaviour:l,block:a,inline:c})}catch(r){n.secSelObj.scrollIntoView({behaviour:l,inline:c})}},_a.ScrollX=n=>{if("body"==n.secSel)"left"==n.actVal?window.scrollTo({left:0}):"right"==n.actVal?window.scrollTo({left:1e7}):window.scrollTo({left:n.actVal});else{let r=n.secSelObj;"left"==n.actVal?r.scrollLeft=0:"right"==n.actVal?r.scrollLeft=1e7:r.scrollLeft=n.actVal}},_a.ScrollY=n=>{if("body"==n.secSel)"top"==n.actVal?window.scrollTo({top:0}):"bottom"==n.actVal?window.scrollTo({top:1e7}):window.scrollTo({top:n.actVal});else{let r=n.secSelObj;r&&("top"==n.actVal?r.scrollTop=0:"bottom"==n.actVal?r.scrollTop=r.scrollHeight:r.scrollTop=n.actVal)}},_a.SelectAll=n=>{requestAnimationFrame(()=>document.execCommand("selectAll"))},_a.SelectNone=n=>{getSelection().removeAllRanges()},_a.SetAttribute=n=>{n.actVal=n.actVal._ACSSSpaceQuoIn();let r=n.actVal.split(" ");r[1]=_handleQuoAjax(n,r[1])._ACSSSpaceQuoOut(),n.secSelObj.setAttribute(r[0],r[1])},_a.SetClass=n=>{let r=n.actVal.replace(/\./g,"");_setClassObj(n.secSelObj,r)},_a.SetCookie=n=>{let r=n.actVal;r=r.replace(/\\\"/g,"_ACSS_escaped_quote"),r=r._ACSSSpaceQuoIn(),r=r.replace(/_ACSS_escaped_quote/g,'\\"');let a=r.split(" ");a[1]=a[1]?a[1]._ACSSSpaceQuoOut()._ACSSRepQuo():"",a[2]=a[2]?a[2].replace(/_ACSS_space/g," ")._ACSSRepQuo():"",a[2]="Infinity"==a[2]?1/0:"Year"==a[2]?31536e3:/^[0-9e]+$/.test(a[2])?+a[2]:a[2],a[3]=a[3]?a[3]._ACSSRepQuo():null,a[4]=a[4]?a[4]._ACSSRepQuo():null,a[5]="true"==a[5]||"false"!=a[5]&&null,"true"!=a[2]||a[3]||a[4]||a[5]||(a[2]=null,a[5]=!0),"false"!=a[2]||a[3]||a[4]||a[5]||(a[2]=null,a[5]=!1),"true"!=a[3]||a[4]||a[5]||(a[3]=null,a[5]=!0),"false"!=a[3]||a[4]||a[5]||(a[3]=null,a[5]=!1),"true"!=a[4]||a[5]||(a[4]=null,a[5]=!0),"false"!=a[4]||a[5]||(a[4]=null,a[5]=!1),_setCookie(a[0],a[1],a[2],a[3],a[4],a[5])||console.log("set-cookie "+a[0]+" failed")},_a.SetProperty=n=>{n.actVal=n.actVal._ACSSSpaceQuoIn();let r=n.actVal.split(" ");r[1]=_handleQuoAjax(n,r[1])._ACSSSpaceQuoOut(),n.secSelObj[r[0]]="true"==r[1]||"false"!=r[1]&&r[1]},_a.StopImmediatePropagation=n=>{n.e&&n.e.stopImmediatePropagation(),"object"==typeof n.obj&&(n.obj.activeStopProp=!0)},_a.StopPropagation=n=>{n.e&&n.e.stopPropagation(),"object"==typeof n.obj&&(n.obj.activeStopProp=!0)},_a.Style=n=>{let r=_handleQuoAjax(n,n.actVal).split(" "),a=r.shift();n.secSelObj.style[a]=r.join(" ")},_a.TakeClass=n=>{if(n.doc!=document)return console.log("Active CSS error - you cannot take a class if the element clicked on is not going to take the class. With iframes, use give-class instead."),!1;let r=n.actVal.substr(1);_eachRemoveClass(r,r,n.doc),_a.AddClass(n)},_a.ToggleClass=n=>{let r=n.actVal.replace(/\./g,"");_toggleClassObj(n.secSelObj,r)},_a.Trigger=n=>{"string"!=typeof n.obj||-1!==n.obj.indexOf("{@")||-1!==n.obj.indexOf("{$")||["~","|"].includes(n.obj.substr(0,1))?["~"].includes(n.secSel.substr(0,1))?_handleEvents({obj:n.secSel,evType:n.actVal,otherObj:n.ajaxObj||null,eve:n.e||null,origObj:n.obj||null,compRef:n.compRef,compDoc:n.compDoc,component:n.component}):"draw"==n.actVal?_runInnerEvent(n.secSelObj,"draw"):_handleEvents({obj:n.secSelObj,evType:n.actVal,otherObj:n.ajaxObj||null,eve:n.e||null,compRef:n.compRef,compDoc:n.compDoc,component:n.component}):n.doc.querySelectorAll(n.obj).forEach((function(r,a){["~"].includes(n.secSel.substr(0,1))?_handleEvents({obj:n.secSel,evType:n.actVal,otherObj:n.ajaxObj||null,eve:n.e||null,origObj:r,compRef:n.compRef,compDoc:n.compDoc,component:n.component}):_handleEvents({obj:n.secSel,evType:n.actVal,otherObj:n.ajaxObj||null,eve:n.e||null,compRef:n.compRef,compDoc:n.compDoc,component:n.component})}))},_a.TriggerReal=n=>{if(n.secSelObj.isConnected)try{n.secSelObj.addEventListener(n.actVal,(function(n){}),{capture:!0,once:!0}),n.secSelObj[n.actVal]()}catch(n){console.log("Active CSS error: Only DOM events support trigger-real.")}else _a.StopPropagation(n)},_a.UrlChange=n=>{let r=n.actVal.split(" ")[0],a=n.actVal.replace(r,"").trim();""==a&&(a=document.title),_urlTitle(r,a,n)},_a.Var=n=>{let r=n.actVal.trim().split(" ")[0],a=n.actVal.replace(r,"").trim();a=_prefixScopedVars(a,n.compRef),a="{="+a+"=}";let c=(n.compRef&&privateScopes[n.compRef]?n.compRef:"main")+"."+r,l=_replaceJSExpression(a,!0,null,n.compRef);_set(scopedVars,c,l)},ActiveCSS.first=n=>_focusOn({actVal:n},null,!0),ActiveCSS.last=n=>_focusOn({actVal:n},"l",!0),ActiveCSS.next=n=>_focusOn({actVal:n},"n",!0),ActiveCSS.nextCycle=n=>_focusOn({actVal:n},"ncc",!0),ActiveCSS.previous=n=>_focusOn({actVal:n},"p",!0),ActiveCSS.previousCycle=n=>_focusOn({actVal:n},"pcc",!0),ActiveCSS.trigger=(n,r,a,c,l)=>{"object"==typeof n?_handleEvents({obj:n,evType:r,compRef:a,compDoc:c,component:l}):_a.Trigger({secSel:n,actVal:r,compRef:a,compDoc:c,component:l})},ActiveCSS.triggerReal=(n,r,a,c,l)=>{"string"==typeof n&&(n=document.querySelector(n)),n?_a.TriggerReal({secSelObj:n,actVal:r,compRef:a,compDoc:c,component:l}):console.log("No object found in document to triggerReal.")},_c.IfCompletelyVisible=n=>ActiveCSS._ifVisible(n,!0),_c.IfCookieEquals=n=>{let r=n.actVal.split(" ");if(!_cookieExists(r[0]))return!1;let a=r[0];return r.shift(),r=r.join(" "),_getCookie(a)==r._ACSSRepQuo()},_c.IfCookieExists=n=>_cookieExists(n.actVal),_c.IfDisplay=n=>{let r=n.doc.querySelector(n.actVal);return!(!r||"none"===getComputedStyle(r,null).display)},_c.IfEmpty=n=>!!_selCompare(n,"eM"),_c.IfExists=n=>!!_getSel(n,n.actVal),_c.IfFocusFirst=n=>_ifFocus(n),_c.IfFocusLast=n=>_ifFocus(n,!1),_c.IfFormChanged=n=>_checkForm(_getSel(n,n.actVal),"check"),_c.IfFunc=n=>{if("true"==n.actVal)return!0;if("false"==n.actVal)return!1;try{return window[n.actVal](n)}catch(r){return console.log("Active CSS: Function "+n.actVal+" does not exist."),!1}},_c.IfHasClass=n=>{let r=_actValSelItem(n);return!(!r[0]||!ActiveCSS._hasClassObj(r[0],r[1].substr(1)))},_c.IfInnerHtml=n=>!!_selCompare(n,"iH"),_c.IfInnerText=n=>!!_selCompare(n,"iT"),_c.IfMaxLength=n=>!!_selCompare(n,"maL"),_c.IfMediaMaxWidth=n=>window.matchMedia("all and (max-width: "+n.actVal+")").matches,_c.IfMediaMinWidth=n=>window.matchMedia("all and (min-width: "+n.actVal+")").matches,_c.IfMinLength=n=>!!_selCompare(n,"miL"),_c.IfScrolltopGreater=n=>"body"==n.obj?(window.pageYOffset||document.documentElement.scrollTop)>n.actVal:n.obj.scrollTop>n.actVal,_c.IfScrolltopLess=n=>"body"==n.obj?(window.pageYOffset||document.documentElement.scrollTop)<n.actVal:n.obj.scrollTop<n.actVal,_c.IfSelection=n=>{let r=window.getSelection();return n.actVal=n.actVal._ACSSRepQuo().trim(),r.toString()==n.actVal},_c.IfVar=n=>{let r=n.actVal._ACSSSpaceQuoIn().split(" ");if(1==r.length)return _ifVarTrue(n.actVal,n.compRef);{let a=r.shift(),c=r.join(" ")._ACSSSpaceQuoOut();c="true"==c||"false"!=c&&c,c="string"==typeof c&&-1===c.indexOf('"')?Number(c._ACSSRepQuo()):c._ACSSRepQuo();let l=(n.compRef&&privateScopes[n.compRef]?n.compRef:"main")+"."+a,s=_get(scopedVars,l);return void 0===s&&(s=window[a]),typeof s==typeof c&&s==c}},_c.IfVarTrue=n=>_ifVarTrue(n.actVal,n.compRef),_c.IfVisible=n=>ActiveCSS._ifVisible(n),_c.MqlTrue=n=>mediaQueries[n.actVal].val;const _addCancelAttr=(n,r)=>{let a=n.dataset.activeid;cancelIDArr[a]||(cancelIDArr[a]=[]),cancelIDArr[a][r]=!0},_clearTimeouts=n=>{clearTimeout(n),clearInterval(n)},_delaySplit=(n,r)=>{let a,c,l;return a=new RegExp("("+r+' (stack|[\\d]+(s|ms)))(?=(?:[^"]|"[^"]*")*)',"gm"),{str:(n=(n=n.replace(a,(function(n,r){return c=r.split(" ")[1],c=_convertToMS(c,"Invalid delay number format: "+r),""}))).replace(/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w_]+)(?=(?:[^"]|"[^"]*")*)$/gm,(function(n,a){return l=a.split(" ")[1],"every"==r?"":a}))).trim(),tim:c,lab:l}},_removeCancel=(n,r,a,c,l)=>{if(delayArr[n]&&delayArr[n][r]&&delayArr[n][r][a]&&delayArr[n][r][a][c]){let s=delayArr[n][r][a][c][l];if(s&&labelByIDs[s]){let n=labelByIDs[s];labelByIDs.splice(labelByIDs.indexOf[s]),delete labelData[n.lab]}delayArr[n][r][a][c][l]=null}["~","|"].includes(n.substr(0,1))?cancelCustomArr[n]&&cancelCustomArr[n][r]&&cancelCustomArr[n][r][a]&&cancelCustomArr[n][r][a][c]&&(cancelCustomArr[n][r][a][c][l]=null):cancelIDArr[n]&&cancelIDArr[n][r]&&(cancelIDArr[n][r]=null)},_setupLabelData=(n,r,a,c,l,s,i)=>{delayArr[r][a][c][l][s]=i,n&&(labelData[n]={del:r,func:a,pos:c,intID:l,loopRef:s,tid:i},labelByIDs[i]={del:r,func:a,pos:c,intID:l,loopRef:s,lab:n})},_unloadAllCancelTimer=()=>{let n;for(n in delayArr)_unloadAllCancelTimerLoop(n);delayArr=[],cancelIDArr=[],labelData=[],labelByIDs=[]},_unloadAllCancelTimerLoop=n=>{let r,a,c,l;for(r in delayArr[n])for(a in delayArr[n][r])for(c in delayArr[n][r][a])for(l in delayArr[n][r][a][c])_clearTimeouts(delayArr[n][r][a][c][l])},_actionValLoop=(n,r,a,c)=>{let l,{loopI:s,actVals:i,actValsLen:u}=r;for(l=0;l<u;l++)n.actVal=i[l].trim(),n.actPos=l,n.secSelObj=a,_handleFunc(n,null,c)},_cloneAttrs=(n,r)=>{let a,c=Array.prototype.slice.call(r.attributes);for(a of c)"href"!=a.nodeName&&("class"==a.nodeName?ActiveCSS._addClassObj(n,a.nodeValue):n.getAttribute(a.nodeName)||n.setAttribute(a.nodeName,a.nodeValue));n.setAttribute("data-active-nav","1")},_handleClickOutside=n=>{let r,a;for(r in clickOutsideSels)if(clickOutsideSels[r][0]&&(a=document.querySelector('[data-activeid="'+r+'"]'),a&&!a.contains(n)&&_handleEvents({obj:a,evType:"clickoutside",otherObj:n})&&!clickOutsideSels[r][1]))return!1;return!0},_handleEvents=n=>{let r,a=n.obj,c=n.evType,l=n.onlyCheck,s=n.otherObj,i=n.eve,u=n.afterEv,d=n.origObj,p=n.runButElNotThere,f=n.compDoc;r=f||document;let _=n.compRef,S=n.component?"|"+n.component:null;if("string"!=typeof a&&!a||!selectors[c]||void 0===c)return!1;let g,m,v,b,h,C=[],A=selectors[c].length;if("string"!=typeof a){if(S){for(g=0;g<A;g++)if(v=selectors[c][g].indexOf(":"),selectors[c][g].substr(0,v)===S&&(m=selectors[c][g].substr(v+1),m=u&&d?_replaceAttrs(d,m):m,-1===m.indexOf("<")&&!C.includes(selectors[c][g])))if("&"==m)C.push(selectors[c][g]);else try{a.matches(m)&&C.push(selectors[c][g])}catch(n){console.log("Active CSS warning: "+m+" is not a valid CSS selector, skipping. (err: "+n+")")}}else for(g=0;g<A;g++)if(!["~","|"].includes(selectors[c][g].substr(0,1))&&(m=u&&d?_replaceAttrs(d,selectors[c][g]):selectors[c][g],-1===m.indexOf("<")&&!C.includes(selectors[c][g])))try{a.matches(m)&&C.push(selectors[c][g])}catch(n){console.log("Active CSS warning: "+m+" is not a valid CSS selector, skipping. (err: "+n+")")}}else C.push(a),a=d||a;S=S?S.substr(1):null,A=C.length;let y,O,E=0,j=[];for(b=0;b<A;b++)if(config[C[b]]&&config[C[b]][c]){if(l)return!0;for(O in config[C[b]][c])E++,"0"!=O&&_passesConditional(a,b,O,c,s,r,_,S,i,f)&&(j[E]=O)}for(E=0,b=0;b<A;b++)if(config[C[b]]&&config[C[b]][c])for(O in config[C[b]][c]){if(E++,y="","0"!=O){if(void 0===j[E])continue;y=j[E]}if(h=config[C[b]][c][O],!1!==h){let r,l;for(r in h)l={chilsObj:h,originalLoops:r,secSelLoops:r,obj:a,compDoc:f,evType:c,compRef:_,evObj:n,otherObj:s,passCond:y,sel:b,component:S,selectorList:C,eve:i,runButElNotThere:p},"0"!=r?_processSecSelLoops(l):_performSecSel(l)}}return!0},_handleFunc=function(n,r=null,a=!1){let c;if("string"==typeof n.secSel&&["~","|"].includes(n.secSel.substr(0,1)))c=n.secSel;else{if(!a&&!n.secSelObj.isConnected)return r&&(delayArr[r]&&_unloadAllCancelTimerLoop(r),delayArr[r]=null,cancelIDArr[r]=null,cancelCustomArr[r]=null),void _a.StopPropagation(n);c=_getActiveID(n.secSelObj)}if("0"!=n.loopRef&&(n.actVal=_replaceLoopingVars(n.actVal,n.loopVars)),n.actVal.match(/(after|every) (stack|[\d]+(s|ms))(?=(?:[^"]|"[^"]*")*$)/gm)){let r,a,l,s=Object.assign({},n),i=["after","every"];for(r of i)if(a=_delaySplit(s.actVal,r),l=n.compRef?n.compRef:"main",a.lab=l+a.lab,"number"==typeof a.tim&&a.tim>=0){if(s.actVal=a.str,s.actValSing=s.actVal,delayArr[c]=void 0!==delayArr[c]?delayArr[c]:[],delayArr[c][s.func]=void 0!==delayArr[c][s.func]?delayArr[c][s.func]:[],delayArr[c][s.func][s.actPos]=void 0!==delayArr[c][s.func][s.actPos]?delayArr[c][s.func][s.actPos]:[],delayArr[c][s.func][s.actPos][s.intID]=void 0!==delayArr[c][s.func][s.actPos][s.intID]?delayArr[c][s.func][s.actPos][s.intID]:[],delayArr[c][s.func][s.actPos][s.intID][s.loopRef]&&(_clearTimeouts(delayArr[c][s.func][s.actPos][s.intID][s.loopRef]),_removeCancel(c,s.func,s.actPos,s.intID,s.loopRef)),s.delayed=!0,"after"==r)return void _setupLabelData(a.lab,c,s.func,s.actPos,s.intID,s.loopRef,setTimeout(_handleFunc.bind(this,s,c),a.tim));s.interval=!0,_setupLabelData(a.lab,c,s.func,s.actPos,s.intID,s.loopRef,setInterval(_handleFunc.bind(this,s,c),a.tim)),n.interval=!0,n.actValSing=a.str}}else n.actValSing=n.actVal;-1!==n.actValSing.indexOf("label ")&&(n.actValSing=n.actValSing.replace(/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w_]+)(?=(?:[^"]|"[^"]*")*)/gm,"")),"string"==typeof n.secSel&&["~","|"].includes(n.secSel.substr(0,1))&&cancelCustomArr[c]&&cancelCustomArr[c][n.func]&&cancelCustomArr[c][n.func][n.actPos]&&cancelCustomArr[c][n.func][n.actPos][n.intID]&&cancelCustomArr[c][n.func][n.actPos][n.intID][n.loopRef]?_removeCancel(c,n.func,n.actPos,n.intID,n.loopRef):n.delayed&&cancelIDArr[c]&&cancelIDArr[c][n.func]||("Var"==n.func&&(n.actValSing=n.actValSing.replace(/__ACSS_int_com/g,",")),n.actVal=_replaceAttrs(n.obj,n.actValSing,n.secSelObj,n,n.func,n.compRef),(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput(n),"function"!=typeof _a[n.func]?n.secSelObj.style[n.actName]=n.actVal:_a[n.func](n,scopedVars,privateScopes),!n.interval&&r&&_removeCancel(c,n.func,n.actPos,n.intID,n.loopRef),0===Object.keys(n.secSelObj).length&&-1===["LoadConfig","Ajax","AjaxPreGet","AjaxFormSubmit","AjaxFormPreview"].indexOf(n.func)&&_handleEvents({obj:n.secSelObj,evType:"after"+n.actName._ACSSConvFunc(),otherObj:n.secSelObj,eve:n.e,afterEv:!0,origObj:n.obj,compRef:n.compRef,compDoc:n.compDoc,component:n.component}))},_handleLoop=n=>{let r=n.secSelLoops,a=n.compRef;if("@each "==r.substr(0,6)){n.secSelLoops=n.originalLoops;let c,l,s=r.indexOf(" in "),i=r.substr(6,s-6);-1!==i.indexOf(",")&&(c=i.split(","));let u,d,p,f,_,S,g=r.substr(s+4),m=a&&privateScopes[a]?a+"."+g:"main."+g,v=_get(scopedVars,m);if(Array.isArray(v)){v.length;for(p=0;p<v.length;p++){if(d=Object.assign({},n),d.loopVars||(d.loopVars={}),c)for(f in c)l=c[f].trim(),u=g+"["+p+"]["+f+"]",d.loopVars[l]=u,d.loopRef=l+"_"+p+"_"+f;else u=g+"["+p+"]",d.loopVars[i]=u,d.loopRef=i+"_"+p;_performSecSel(d)}}else{let r,a=0;for([_,S]of Object.entries(v))d=Object.assign({},n),d.loopVars||(d.loopVars={}),c?(d.loopVars[c[0]]="-_-"+_,d.loopRef=c[0]+"_0_"+a,r=c[1].trim(),u=g+"."+_,d.loopVars[r]=u,d.loopRef=r+"_1_"+a):(d.loopVars[i]="-_-"+_,d.loopRef=i+"_0_"+a),a++,_performSecSel(d)}}else _performSecSel(n)},_handleVarsInJS=function(n){let r={},a={},c=!1;return n=n.replace(/[\s]*vars[\s]*([\u00BF-\u1FFF\u2C00-\uD7FF\w_\, ]+)[\s]*\;/gi,(function(n,l){let s,i=l.split(",");i=[...new Set(i)];let u="(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)";for(s of(c=!0,i))s=s.trim(),r[u+"("+s+")"+u]="",a[s]="scopedVars[_activeVarScope]."+s;return""})),c&&(n=(n=n.replace(/\\"/g,"cjs_tmp-dq")).replace(/\\'/g,"cjs_tmp-sq"),n=(n=(n=(n=ActiveCSS._mapRegexReturn(r,n,a)).replace(/(["|'][\s\S]*?["|'])/gim,(function(n,r){return r.replace(/scopedVars\[_activeVarScope\]\./g,"")}))).replace(/cjs_tmp\-dq"/g,'\\"')).replace(/cjs_tmp\-sq/g,"\\'")),n},_mainEventLoop=(n,r,a,c,l)=>{if("cause-js-elements-ext"==r.target.id)return;let s,i,u=!(r.target!=self&&!r.target.body);if("click"!=n&&u)return _handleEvents({obj:"body",evType:n,eve:r}),void _handleEvents({obj:"window",evType:n,eve:r});if(r.primSel)s=r.secSelObj;else{if("click"==n&&0!==r.button)return;s=r.target}if("mouseover"!=n||u||"A"==s.tagName&&1!==s["data-active-nav"]&&_setUpNavAttrs(s),"click"==n&&"bypass"!=r.primSel&&clickOutsideSet&&!_handleClickOutside(s))return r.primSel||r.preventDefault(),!1;i=_composedPath(r);let d=i[0];if(_getRootNode(d).isEqualNode(document)||r.target.isEqualNode(d)){for(s of i){if(1!==s.nodeType)continue;"click"==n&&"A"==s.tagName&&1!==s["data-active-nav"]&&_setUpNavAttrs(s);let i=_getRootNode(s);if(i.isEqualNode(document))a=null,c=null,l=null;else{let n=i;supportsShadow&&i instanceof ShadowRoot&&(n=i.host),a=n._acssComponent,c=i,l=n._acssCompRef}if(_handleEvents({obj:s,evType:n,eve:r,component:a,compDoc:c,compRef:l}),!s||!r.bubbles||"BODY"==s.tagName||s.activeStopProp)break}s&&s.activeStopProp?s.activeStopProp=!1:document.parentNode&&_handleEvents({obj:window.frameElement,evType:n,eve:r})}},_passesConditional=(n,r,a,c,l,s,i,u,d,p)=>{let f,_,S,g,m,v,b,h,C=a.split(/ (?![^\(\[]*[\]\)])/),A=!1;for(g of C){let a=g.indexOf("(");if(-1===a){if(u&&(g="|"+u+"|"+g,void 0===conditionals[g])){let n=g.substr(u.length+2);console.log("Active CSS error: Conditional "+n+" not found in config for component "+u)}if(m=conditionals[g],m){for(f in m)if(m.hasOwnProperty(f)&&(_=m[f],"!"==_.name.substr(0,1)?(A=!1,S=_.name.substr(1)):(A=!0,S=_.name),S=S._ACSSConvFunc(),"function"==typeof _c[S])){let a=_.value.replace(/"[^"]*"|(\,)/g,(function(n,r){return r?"_ACSSComma":n}));for(a=_replaceAttrs(n,a,null,null,null,i),a=l&&"0"!=l.loopRef?_replaceLoopingVars(a,l.loopVars):a,v=a.split("_ACSSComma"),b=v.length,h=0;h<b;h++)if(_c[S]({func:S,actName:_.name,secSel:"conditional",secSelObj:n,actVal:v[h].trim(),primSel:r,rules:m,obj:n,e:d,doc:s,ajaxObj:l,component:u,compDoc:p,compRef:i},scopedVars,privateScopes)!==A)return!1}}else console.log("Active CSS error: Conditional "+g+" not found in config for document scope.")}else{let c=g.substr(0,a);if(A=!1,"not-"==c.substr(0,4)?S=c.substr(4):"!"==c.substr(0,1)?S=c.substr(1):(A=!0,S=c),S=S._ACSSConvFunc(),"function"==typeof _c[S]){let f=g.slice(a+1,-1).trim().replace(/"[^"]*"|(\,)/g,(function(n,r){return r?"_ACSSComma":n}));for(f=_replaceAttrs(n,f,null,null,null,i),f=l&&"0"!=l.loopRef?_replaceLoopingVars(f,l.loopVars):f,v=f.split("_ACSSComma"),b=v.length,h=0;h<b;h++)if(_c[S]({func:S,actName:c,secSel:"conditional",secSelObj:n,actVal:v[h].trim(),primSel:r,rules:g,obj:n,e:d,doc:s,ajaxObj:l,component:u,compDoc:p,compRef:i},scopedVars,privateScopes)!==A)return!1}}}return!0},_performAction=(n,r=!1)=>{if(n.doc.readyState&&"complete"!=n.doc.readyState)return setTimeout(_performAction.bind(this,n),200),!1;_performActionDo(n,null,r)},_performActionDo=(n,r=null,a=!1)=>{if(!n.secSel&&!a)return;let c=n.actVal;-1!==n.actVal.indexOf(",")&&(c=c.replace(/\(.*?\)/g,(function(n,r){return n.replace(/,/g,"_ACSStmpcomma_")})),c=c.replace(/"[^"]*"|(\,)/g,(function(n,r){return r?"_ACSSComma":n})),c=c.replace(/_ACSStmpcomma_/g,",")),"Var"==n.func&&(c=ActiveCSS._sortOutFlowEscapeChars(c),c=_escCommaBrack(c,n));let l,s=c.split("_ACSSComma");l=s.length;let i={loopI:r,actVals:s,actValsLen:l};if("string"!=typeof n.secSel||["~","|"].includes(n.secSel.substr(0,1))){let r=Object.assign({},n);"object"==typeof r.secSel?_actionValLoop(n,i,r.secSel):["~","|"].includes(r.secSel.substr(0,1))&&_actionValLoop(n,i,{})}else{let r=!1;"#"==n.secSel&&console.log("Error: "+n.primSel+" "+n.event+", "+n.actName+': "'+n.origSecSel+'" is being converted to "#". Attribute or variable is not present.');let c=_prepSelector(n.secSel,n.obj);if(n.doc.querySelectorAll(c).forEach((function(a){r=!0;let c=Object.assign({},n);_actionValLoop(c,i,a)})),!r){let r=Object.assign({},n);-1!==n.secSel.lastIndexOf("data-activeid")&&(r.actVal=_replaceAttrs(r.obj,r.actValSing,r.secSelObj,r,r.func,r.compRef),_actionValLoop(n,i,r.obj,a))}}},_performSecSel=n=>{let r=n.chilsObj,a=n.secSelLoops,c=n.obj,l=n.compDoc||document,s=n.evType,i=n.compRef,u=n.evObj,d=n.otherObj,p=n.passCond,f=n.sel,_=n.component,S=n.selectorList,g=n.eve,m=n.loopVars,v=n.loopRef?n.loopRef:0,b=n.runButElNotThere;i=supportsShadow&&l instanceof ShadowRoot?"_"+l.host.getAttribute("data-activeid").replace(/id\-/,""):!l.isEqualNode(document)&&l.hasAttribute("data-active-scoped")?"_"+l.getAttribute("data-activeid").replace(/id\-/,""):u.compRef?u.compRef:null;let h,C,A,y,O,E,j,R=["&","self","this"],V="";for(h in r[a]){if("conds"==h)continue;if(C=_splitIframeEls(h,c,l),!C)continue;if(A=C[0],y=C[1],"0"!=v&&(y=_replaceLoopingVars(y,m)),y=_replaceAttrs(c,y,null,null,null,i),y=_replaceAttrs(d,y,null,null,null,i),R.includes(y))"string"==typeof c?y=c:(V=_getActiveID(c),y=V?'[data-activeid="'+V+'"]':c);else if("host"==y){let n=_getRootNode(c);y=n._acssScoped?n:n.host}let n;for(O in r[a][h])E=r[a][h][O].name._ACSSConvFunc(),j=r[a][h][O].value,n={event:s,func:E,actName:r[a][h][O].name,secSel:y,origSecSel:h,actVal:j,origActVal:j,primSel:S[f],rules:r[a][h],obj:c,doc:A,ajaxObj:d,e:g,passCond:p,file:r[a][h][O].file,line:r[a][h][O].line,intID:r[a][h][O].intID,activeID:V,compRef:i,compDoc:l,component:_,loopVars:m,loopRef:v},_performAction(n,b)}},_prepSelector=(n,r)=>{if(-1!==n.indexOf("&")&&"&"==n.substr(0,1)){let a=_getActiveID(r);n=n.replace(/&/g,"[data-activeid="+a+"]")}return n},_processSecSelLoops=n=>{let r=n.secSelLoops.replace(n.component+"|||","");"@each "==r.substr(0,6)?(n.secSelLoops=r,_handleLoop(n)):_performSecSel(n)},_renderCompDoms=(n,r=n.doc)=>{r.querySelectorAll("data-acss-component").forEach((function(r,a){_renderCompDomsDo(n,r)}))},_renderCompDomsClean=n=>{let r,a;for([r,a]of(delete compPending[n],Object.entries(shadowDoms)))a.isConnected||delete scopedVars[r]},_renderCompDomsDo=(n,r)=>{let a,c,l,s,i,u,d;if(a=r.parentNode,l=r.getAttribute("data-ref"),i=r.getAttribute("data-name"),r.remove(),c=components[i].mode,c&&a.shadowRoot||!c&&a._acssScoped)_renderCompDomsClean(l);else{if(s=_getActiveID(a).replace("id-","_"),void 0===scopedVars[s]&&(scopedVars[s]={}),privateScopes[s]=!!components[i].priv,_handleEvents({obj:a,evType:"beforeComponentOpen",compRef:s,compDoc:d,component:i}),compPending[l]=_replaceAttrs(n.obj,compPending[l],null,null,n.func,s),compPending[l]=_replaceComponents(n,compPending[l]),compPending[l]=_replaceScopedVars(compPending[l],n.secSelObj,n.func,n,!1,a,s),compPending[l]=_replaceStringVars(n.ajaxObj,compPending[l]),u=document.createElement("template"),u.innerHTML=compPending[l],_renderCompDomsClean(l),c)try{d=a.attachShadow({mode:c})}catch(n){console.log("Active CSS error in attaching a shadow DOM object. Ensure the shadow DOM has a valid parent *tag*. The error is: "+n)}else d=a,d.setAttribute("data-active-scoped",""),d._acssScoped=!0;if(a._acssComponent=i,a._acssCompRef=s,shadowDoms[s]=d,actualDoms[s]=c?d:d.getRootNode(),d.appendChild(u.content),setTimeout((function(){_handleEvents({obj:a,evType:"componentOpen",compRef:s,compDoc:d,component:i}),d.querySelectorAll("*").forEach((function(r){"DATA-ACSS-COMPONENT"!=r.tagName?_handleEvents({obj:r,evType:"draw",otherObj:n.ajaxObj,compRef:s,compDoc:d,component:i}):_renderCompDomsDo(n,r)}))}),0),c){let n;if(0==allEvents.length)Object.keys(window).forEach(r=>{/^on/.test(r)&&(n=r.slice(2),allEvents.push(n),_attachListener(d,n,i,d,s))});else for(n of allEvents)_attachListener(d,n,i,d,s)}}},_renderIt=(n,r)=>{let a=document.createElement("template");a.innerHTML=r;let c,l,s=[];for(c of(a.content.childNodes.forEach((function(n){n.nodeType===Node.ELEMENT_NODE&&"DATA-ACSS-COMPONENT"!=n.tagName&&(l=_getActiveID(n),s.push(l))})),r=a.innerHTML,n.renderPos?n.secSelObj.insertAdjacentHTML(n.renderPos,r):n.secSelObj.innerHTML=r,s)){let r=n.doc.querySelector("[data-activeid="+c+"]");r.shadow||r.scoped||(_handleEvents({obj:r,evType:"draw",otherObj:n.ajaxObj,compRef:n.compRef,compDoc:n.compDoc,component:n.component}),r.querySelectorAll("*").forEach((function(r){"DATA-ACSS-COMPONENT"!=r.tagName&&_handleEvents({obj:r,evType:"draw",otherObj:n.ajaxObj,compRef:n.compRef,compDoc:n.compDoc,component:n.component})})))}_renderCompDoms(n)},_replaceLoopingVars=(n,r)=>(-1!==n.indexOf("{")&&(n=n.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]+)(\}|\.|\[)/gm,(function(n,a,c){return r[a]?"-_-"==r[a].substr(0,3)?r[a].substr(3):"{"+r[a]+c:"{"+a+c}))),n),_runInnerEvent=(n,r,a=document)=>{"string"==typeof n?a.querySelectorAll(n).forEach((function(n){_handleEvents({obj:n,evType:r})})):(_handleEvents({obj:n,evType:r}),_runInnerEvent("*",r,n))},_setUpNavAttrs=n=>{let r,a,c;r=document.querySelector("#data-active-pages"),r&&(a=n.getAttribute("href"),a&&(c=r.querySelector('a[href="'+a+'"]'),c&&_cloneAttrs(n,c)))},_splitIframeEls=(n,r=null,a=null)=>{let c,l,s=r&&"object"==typeof r?_getRootNode(r):null,i=document,u=!1,d=!1,p=!1;if(s&&!s.isEqualNode(document)&&(i=s,supportsShadow&&s instanceof ShadowRoot?u=!0:d=!0),-1!==n.indexOf(" -> ")){let a;p=!0;let f=n.split(" -> "),_=0;for(a of f){if(_++,_==f.length)break;if("document"==a)i=document;else if("parent"==a)u?(s=_getRootNode(s.host),i=s):d&&(window.parent.document?i=window.parent.document:console.log("Active CSS error. Reference to a parent element that doesn't exist."));else if((r=i.querySelector(a)).shadowRoot)i=r.shadowRoot;else{if("IFRAME"!=r.tagName)return console.log("ref "+a+" is unknown."),!1;i=r.contentWindow.document,l=a}}c=f[f.length-1]}else c=n;return"host"==c?d?i=_getRootNode(s):(s=_getRootNode(s.host),i=s):a&&!p&&(i=a),[i,c,l]},_addConfig=(n,r)=>{let a=n.match(/^.*((\r\n|\n|\r)|$)/gm),c="";for(let n=0;n<a.length;n++)c+="*debugfile:"+r.file+":"+(n+1)+"*"+a[n];concatConfig+=n=c,++concatConfigCo>=concatConfigLen&&_readSiteMap(),concatConfigCo>concatConfigLen&&("load-config"==r.actName&&(configArr.push(r.avRaw),setupEnded&&(debuggerActive&&_tellPanelToUpdate(),evEditorActive&&_tellElementsToUpdate())),_handleEvents({obj:"body",evType:"afterLoadConfig"}),_handleEvents({obj:r.obj,evType:"afterLoadConfig"}))},_addConfigError=(n,r)=>{_handleEvents({obj:r.obj,evType:"loadconfigerror"})},_assignRule=(n,r,a,c,l,s,i,u,d,p,f=null)=>{let _;if(void 0===n[r]&&(n[r]={}),void 0===n[r][a]&&(n[r][a]={}),void 0===n[r][a][c]&&(n[r][a][c]={}),f=f||"0",void 0===n[r][a][c][f]&&(n[r][a][c][f]={}),void 0===n[r][a][c][f][l]&&(n[r][a][c][f][l]=[]),_=ActiveCSS._getPosOfRule(n[r][a][c][f][l],s),-1!=_){n[r][a][c][f][l][_].value+=", "+i;let s="",S="",g="";return n[r][a][c][f][l][_].file&&(s=","+u,S=","+d,g=","+p),n[r][a][c][f][l][_].file+=s,n[r][a][c][f][l][_].line+=S,n[r][a][c][f][l][_].intID+=g,n}return n[r][a][c][f][l].push({name:s,value:i,file:u,line:d,intID:p}),n},_attachListener=(n,r,a,c,l,s=!1)=>{let i={capture:!0};if(doesPassive){let n=a||"doc";void 0!==nonPassiveEvents[n]&&void 0!==nonPassiveEvents[n][r]&&!0===nonPassiveEvents[n][r]||!1===passiveEvents?i.passive=!1:i.passive=!0}doesPassive&&s&&(n.removeEventListener(r,ActiveCSS._theEventFunction,{capture:!0}),delete n["_acss"+r+"EvComponent"],delete n["_acss"+r+"EvCompDoc"],delete n["_acss"+r+"EvCompRef"]),n["_acss"+r+"EvComponent"]=a,n["_acss"+r+"EvCompDoc"]=c,n["_acss"+r+"EvCompRef"]=l,n.addEventListener(r,ActiveCSS._theEventFunction,i)};ActiveCSS._theEventFunction=n=>{let r=n.type,a=n.target["_acss"+r+"EvComponent"],c=n.target["_acss"+r+"EvCompDoc"],l=n.target["_acss"+r+"EvCompRef"];if(!setupEnded)return;let s=_fullscreenDetails();switch(r){case"click":n.ctrlKey||_mainEventLoop("click",n,a,c,l);break;case"keyup":case"keydown":let i=n.ctrlKey?"Ctrl":"",u=n.shiftKey?"Shift":"",d=n.key;switch(n.key){case":":d="Colon",u="";break;case";":d="Semicolon",u="";break;case"{":d="OpenCurly",u="";break;case"}":d="CloseCurly",u="";break;case'"':d="DoubleQuotes",u="";break;case"'":d="SingleQuote",u="";break;case"?":d="Question",u="";break;case"!":d="Exclamation",u=""}_mainEventLoop(r+i+u+d,n,a,c,l),_mainEventLoop(r,n,a,c,l);break;case s[1]+"fullscreenchange":_mainEventLoop(r,n,a,c,l),s[0]?_mainEventLoop("fullscreenEnter",n,a,c,l):_mainEventLoop("fullscreenExit",n,a,c,l);break;default:_mainEventLoop(r,n,a,c,l)}};const _checkPassiveState=(n,r)=>{if(doesPassive){let a=n||"doc",c=r;"key"==r.substr(0,3)&&("keyup"==r.substr(0,5)?c="keyup":"keydown"==r.substr(0,7)&&(c="keydown")),void 0===nonPassiveEvents[a]&&(nonPassiveEvents[a]=[]),!0!==typeof nonPassiveEvents[a][c]&&(nonPassiveEvents[a][c]=!0)}},_convConfig=(n,r,a=0)=>{let c,l,s,i,u,d={children:{},attributes:{}},p=null,f=0;for(;null!==(p=PARSEREGEX.exec(n));){if(a>r)return console.log("Syntax error in config - possibly an incomplete set of curly brackets."),!1;if(p[PARSEDEBUG])u=p[PARSEDEBUG].split(":"),configFile=u[1],configLine=u[2].substr(0,u[2].length-1);else if(p[PARSESEL]){if(a++,c=p[PARSESEL].trim(),c=c.replace(/\*debugfile[\s\S]*?\*/g,""),i=_convConfig(n,r,a),!1===i)return!1;s={},s.name=_sortOutEscapeChars(c),s.value=i,s.line=configLine,s.file=configFile,s.intID=intIDCounter++,s.type="rule",d[f++]=s}else{if(p[PARSEEND])return d;if(p[PARSEATTR]){var _=p[PARSEATTR].trim();_=_.replace(/\*debugfile[\s\S]*?\*|([^:]|^)\/\/.*$/g,"");var S=PARSELINEX.exec(_);S?(c=S[1].trim(),l=S[2].trim(),s={},s.name=_sortOutEscapeChars(c),s.value=_sortOutEscapeChars(l),s.type="attr",s.line=configLine,s.file=configFile,s.intID=intIDCounter++,d[f++]=s):d[f++]=_}}}return d};ActiveCSS._getPosOfRule=(n,r)=>_getValFromList(n,r,!0);const _initScriptTrack=()=>{document.querySelectorAll("script").forEach((function(n,r){scriptTrack.push(n.src)}))},_iterateConditionals=(n,r,a)=>{var c,l;return Object.keys(r).forEach((function(s){(l=r[s].name)&&(c=n[a].length,n[a][c]={},n[a][c].name=l,n[a][c].value=r[s].value,n[a][c].file=r[s].file,n[a][c].line=r[s].line,n[a][c].intID=r[s].intID)})),n},_iteratePageList=n=>{if(!("content"in document.createElement("template")))return void console.log("Browser does not support html5. Cannot instantiate page navigation.");let r=document.createElement("template");var a,c;r.id="data-active-pages";let l=Math.floor(1e7*Math.random());Object.keys(n).forEach((function(s){(a=n[s].name)&&(-1!==pageList.indexOf(a)&&console.log("Config error: Page "+a+" is referenced twice."),c=n[s].value.replace(/\{\$RAND\}/g,l),r.insertAdjacentHTML("beforeend","<a href="+a.trim()+" "+c.trim()+">"))})),document.body.appendChild(r)},_iterateRules=(n,r,a,c,l,s=null,i=null)=>{let u,d,p,f,_,S,g,m,v;return Object.keys(r).forEach((function(b){if(m=r[b].name,v=r[b].value,m){if(-1!==["@each"].indexOf(r[b].name.substr(0,5)))return _iterateRules(n,v,a,c,l,(s?s+"|||":"")+m);if("string"==typeof v)return"prevent-default"==m&&_checkPassiveState(i,c),void(n=_assignRule(n,a,c,l,"&",m,v,r[b].file,r[b].line,r[b].intID,s));for(u in d="",p="",v)if(void 0!==v[u].type)for(f=m.split(","),_=f.length,g=0;g<_;g++)S=f[g].trim(),"&"==S&&"prevent-default"==m&&_checkPassiveState(i,c),n=_assignRule(n,a,c,l,S,v[u].name,v[u].value,r[b].file,r[b].line,r[b].intID,s)}})),n},_makeVirtualConfig=(n="",r="",a=null,c=null)=>{var l,s,i,u,d,p,f,_,S,g,m=""!==n?n:parsedConfig;if(Object.keys(m).forEach((function(n){if(m[n].name)for(p=m[n].name,m[n].value,g=!1,l=p.split(/,(?![^\(\[]*[\]\)])/),s=l.length,i=0;i<s;i++){let c;switch(u=l[i].trim(),d="@component "==u.substr(0,11),g&&(c=-1===u.indexOf("?"))?"?":!d||d&&-1===l[i].indexOf(":")?u.slice(0,1):""){case"?":let l=c?u:u.substr(1);a&&(l="|"+a+"|"+l),conditionals[l]=void 0===conditionals[l]?[]:conditionals[l],conditionals=_iterateConditionals(conditionals,m[n].value,l),g=!0;break;case"@":if("@pages"==u)_iteratePageList(m[n].value);else if(d){let r=u.split(" ")[1].trim();components[r]||(components[r]={}),components[r].mode=null,components[r].shadow=!1,components[r].scoped=!1,components[r].priv=!1,-1!==(u+" ").indexOf(" shadow ")&&(components[r].shadow=!0,components[r].mode=-1!==u.indexOf(" closed")?"closed":"open"),-1!==(u+" ").indexOf(" private ")&&(components[r].priv=!0,components[r].scoped=!0),_makeVirtualConfig(m[n].value,"",r),void 0===components[r].data&&(components[r].data="",components[r].file="",components[r].line="",components[r].intID=""),r=""}else r=_setupMediaQueryHandler(u.slice(7).trim()),_makeVirtualConfig(m[n].value,r),r="";break;default:if("html"==u)a&&(components[a].data=m[n].value[0].value.slice(1,-1),components[a].data=components[a].data.replace(/\\\"/g,'"'),components[a].file=m[n].value[0].file,components[a].line=m[n].value[0].line,components[a].intID=m[n].value[0].intID);else{if(!(f=u.split(/:(?![^\(\[]*[\]\)])/))[1]){console.log('"'+p+'" '+u+" is not a fully formed selector - it may be missing an event or have incorrect syntax. Or you have too many closing curly brackets.");continue}S=f.shift(),_=(_=f.pop()).trim();let c,l=[],s=[];if(f){let n,r;for(r of f)n=new RegExp(COLONSELS,"g"),n.test(r)?l.push(r):s.push(r)}""!==r&&s.push(r),l.length>0&&(S+=":"+l.join(":")),a&&(S="|"+a+":"+S,shadowSels[a]=void 0===shadowSels[a]?[]:shadowSels[a],shadowSels[a][_]=!0,components[a].scoped=!0),config[S]=void 0===config[S]?{}:config[S],config[S][_]=void 0===config[S][_]?{}:config[S][_],c=0===s.length?0:s.join(" "),preSetupEvents.push({ev:_,sel:S}),config=_iterateRules(config,m[n].value,S,_,c,a)}}}})),""!==n)return;let v=!!debugMode&&_doDebug("config");v&&Object.keys(config).sort().forEach((function(n){console.log(n,config[n])})),v=!!debugMode&&_doDebug("conditionals"),v&&Object.keys(conditionals).sort().forEach((function(n){console.log(n,conditionals[n])})),v=!!debugMode&&_doDebug("components"),v&&Object.keys(components).sort().forEach((function(n){console.log(n,components[n])}))};ActiveCSS._mapRegexReturn=(n,r,a=null)=>{if("string"!=typeof r)return r;let c=new RegExp(Object.keys(n).join("|"),"gim");return r=r.replace(c,(function(r){return a?a[r]:n[r]}))};const _parseConfig=n=>{n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace(/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*$/gm,"")).replace(/[\r\n\t]+/g,"")).replace(/\\\"/g,"_ACSS_escaped_quote")).replace(/\\\"/g,"_ACSS_escaped_quote")).replace(/@command[\s]+(conditional[\s]+)?([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]+[\s]*\{\=[\s\S]*?\=\})/g,(function(n,r,a){return"body:"+(setupEnded?"afterLoadConfig":"init")+"{"+("conditional"!==r?"create-command":"create-conditional")+":"+a+";}"}))).replace(/\{\=([\s\S]*?)\=\}/g,(function(n,r){return-1!==r.indexOf("*debugfile:")&&(r=(r=r.trim().slice(0,-1)).replace(/\*debugfile\:[\s\S]*?\*/g,""),r+="*"),"_ACSS_subst_equal_brace_start"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,r)+"_ACSS_subst_equal_brace_end"}))).replace(/<style>([\s\S]*?)<\/style>/gim,(function(n,r){return"<style>"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,r)+"</style>"}))).replace(/\{\$([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(n,r){return"_ACSS_subst_dollar_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\[\]]+)\}\}/gi,(function(n,r){return"_ACSS_subst_brace_start_ACSS_subst_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\#\:]+)\}\}/gi,(function(n,r){return"_ACSS_subst_brace_start_ACSS_subst_at_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\#\:]+)\}/gi,(function(n,r){return"_ACSS_subst_at_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(n,r){return"_ACSS_subst_pipe_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(n,r){return"_ACSS_subst_hash_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\$\[\]]+)\}/gi,(function(n,r){return"_ACSS_subst_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\\{/g,"_ACSS_brace_start")).replace(/\\}/g,"_ACSS_brace_end")).replace(/([^\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]html[\u00BF-\u1FFF\u2C00-\uD7FF\w_\- ]+{)([\s\S]*?)}/gi,(function(n,r,a){return r+'{component: "'+(a=(a=a.replace(/_ACSS_escaped_quote/g,'\\"')).replace(/"/g,"_ACSS_escaped_quote"))+'";}'}));let r={"{":"_ACSS_brace_start","}":"_ACSS_brace_end",";":"_ACSS_semi_colon",":":"_ACSS_colon","/":"_ACSS_slash","@":"_ACSS_at"},a=(n=(n=(n=(n=n.replace(/("([^"]|"")*")/g,(function(n,a){return ActiveCSS._mapRegexReturn(r,a)}))).replace(/@conditional[\s]+/g,"?")).replace(/([\(]([^\(\)]|\(\))*[\)])/g,(function(n,a){return ActiveCSS._mapRegexReturn(r,a)}))).replace(/[\s]*var[\s]*\:([\s\S]*?)\;/gim,(function(n,r){return"var: "+ActiveCSS._mapRegexReturn(DYNAMICCHARS,r)+";"}))).split("{").length;return(n=_convConfig(n,a))[0]||console.log("Active CSS: Either your config is empty or there is a structural syntax error."),n},_readSiteMap=()=>{parsedConfig=_parseConfig(concatConfig),concatConfig="";var n=!!debugMode&&_doDebug("parser");let r;for(r of(n&&console.log(parsedConfig),setupEnded||_setupPassive(),_makeVirtualConfig(),preSetupEvents))_setupEvent(r.ev,r.sel);preSetupEvents=[],setupEnded||(_startMainListen(),_initScriptTrack(),_handleEvents({obj:"body",evType:"preInit"}),_handleEvents({obj:"body",evType:"init"}),_runInnerEvent("*","draw"),_handleEvents({obj:"body",evType:"scroll"}),_wrapUpStart(),""!==lazyConfig&&setTimeout((function(){let n,r=lazyConfig.split(",");for(n of r)_a.LoadConfig({actName:"load-config",actVal:n,doc:document})}),1e3))},_setupEvent=(n,r,a)=>{if(void 0===selectors[n]&&(selectors[n]=[]),selectors[n].includes(r)){if(!setupEnded||!doesPassive)return}else selectors[n].push(r);if(debuggerEvs.includes(n)){if(!setupEnded||!doesPassive)return}else debuggerEvs.push(n);if(!1!==(n=_getRealEvent(n))&&(setupEnded||!eventState[n])){let a=document.parentNode&&"body"==r&&"scroll"==n?document.body:window;_attachListener(a,n,null,null,null,!!setupEnded),eventState[n]=!0}},_setupMediaQueryHandler=n=>{if(n=n.trim(),mediaQueriesOrig[n])return mediaQueriesOrig[n];let r="__mql_"+(mediaQueries.length+1);mediaQueriesOrig[n]=r,conditionals[r]=[],conditionals[r].push({name:"mql-true",value:r});let a=window.matchMedia(n),c=a.matches;return mediaQueries.push(r),mediaQueries[r]={ev:a,val:c},mediaQueries[r].ev.addListener((function(n){let r=mediaQueriesOrig[n.media];mediaQueries[r].val=n.matches})),r},_setupPassive=()=>{try{let n=Object.defineProperty({},"passive",{get:function(){doesPassive=!0}});window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}catch(n){}},_sortOutEscapeChars=n=>ActiveCSS._mapRegexReturn({_ACSS_brace_start:"{",_ACSS_brace_end:"}",_ACSS_escaped_quote:'\\"',_ACSS_semi_colon:";",_ACSS_colon:":",_ACSS_slash:"/",_ACSS_at:"@",_ACSS_subst_equal_brace_start:"{=",_ACSS_subst_equal_brace_end:"=}",_ACSS_subst_dollar_brace_start:"{$",_ACSS_subst_brace_start:"{",_ACSS_subst_at_brace_start:"{@",_ACSS_subst_pipe_brace_start:"{|",_ACSS_subst_hash_brace_start:"{#",_ACSS_subst_brace_end:"}",_ACSS_dot:"."},n),_startMainListen=()=>{window.addEventListener("message",(function(n){if(n.origin===window.location.origin&&"causejs-devtools-extension"!=n.data.source){var r=n.data;switch(r.type){case"activecss-unloading":case"activecss-loaded":let n=document.getElementById(r.el);_handleEvents({obj:n,evType:typ})}}})),document.parentNode?(window.addEventListener("beforeunload",(function(n){parent.postMessage({type:"activecss-unloading",el:window.frameElement.id},window.location.origin)})),parent.postMessage({type:"activecss-loaded",el:window.frameElement.id},window.location.origin)):window.addEventListener("popstate",(function(n){let r=n.state;if(!r)return;debuggerActive&&_debugOutput("Popstate event");let a=document.querySelector("#data-active-pages"),c=!1;if(r&&a){let n=new URL(r),l=n.pathname+n.search,s=a.querySelector('a[href="'+l+'"]');s&&(ActiveCSS.trigger(s,"click"),c=!0)}c||(window.location.href=r)})),currentPage=location.pathname,scopedVars=_observableSlim.create(scoped,!0,ActiveCSS._varUpdateDom)},_wrapUpStart=()=>{let n=_resolveURL(window.location.href);window.history.replaceState(n,document.title,n),setupEnded=!0};ActiveCSS.init=n=>{if(passiveEvents=void 0===(n=n||{}).passiveEvents||n.passiveEvents,inlineConfigTags=document.querySelectorAll('style[type="text/acss"]'),autoStartInit)inlineConfigTags&&(lazyConfig="",_initGetInline()),autoStartInit=!1;else{if(userSetupStarted=!0,setupEnded)return void console.log("Cannot initialize Active CSS twice.");let r;lazyConfig=n.lazyConfig||"",n.configLocation=n.configLocation||console.log("No inline or Active CSS config file setup - see installation docs."),n.debugMode&&(debugMode=n.debugMode,document.parentNode?console.log("Active CSS debug mode in iframe ID "+window.frameElement.id+": "+debugMode):console.log("Active CSS debug mode: "+debugMode));let a=n.configLocation.split(",");for(r of(concatConfigLen=a.length,inlineConfigTags&&_initGetInline(),a))r=r.trim(),configArr.push(_getBaseURL(r)),_getFile(r,"txt",{file:r})}};const _initGetInline=()=>{concatConfigLen+=inlineConfigTags.length,inlineConfigTags.forEach(n=>{_addConfig(n.innerHTML,{file:"inline"})}),inlineConfigTags=null},_addScopedAttr=(n,r,a,c,l)=>{let s=_addScopedCID(n,r.secSelObj,l),i=r.actVal.split(" ")[0],u=c?a:a.substr(a.indexOf(" ")+1)._ACSSRepQuo();_set(scopedData,n+".attrs["+s+"]["+i+"]",{orig:u,scopeRef:l})},_addScopedCID=(n,r,a)=>{let c=_getActiveID(r);return _set(scopedData,n+".cids["+c+"]",{cid:c,scopeRef:a}),c},_escapeItem=(n,r)=>{if(-1===["Render","RenderAfterBegin","RenderAfterEnd","RenderBeforeBegin","RenderBeforeEnd","SetAttribute"].indexOf(r))return n;let a=document.createElement("div");return a.textContent=n.replace(/\{\=|\=\}/gm,""),a.innerHTML},_getObjFromDots=(n,r)=>void 0===n[r]?"":n[r],_observableSlim=(paths=[],observables=[],targets=[],targetsProxy=[],dupProxy=null,_create=function(n,r,a,c){var l=a||null,s=c||[{target:n,property:""}];paths.push(s),n instanceof Array&&(n.__length=n.length);var i=[],u=function(n,r,a){for(var c="",l=null,i=0;i<s.length;i++)l instanceof Array&&!isNaN(s[i].property)&&(s[i].property=l.indexOf(s[i].target)),c=c+"."+s[i].property,l=s[i].target;return c=(c=c+"."+r).substring(2),!0===a&&(c="/"+c.replace(/\./g,"/")),c},d=function(n){if(!0!==l.paused)if(!0===r)setTimeout((function(){if(n===i.length){var r=i.slice(0);i=[];for(var a=0;a<l.observers.length;a++)l.observers[a](r)}}),10);else{var a=i.slice(0);i=[];for(var c=0;c<l.observers.length;c++)l.observers[c](a)}},p={get:function(n,a){if("__getTarget"===a)return n;if("__isProxy"===a)return!0;if("__getParent"===a)return function(n=1){var r=u(0,"__getParent").split(".");return r.splice(-(n+1),n+1),function(n,r){return r.split(".").reduce((function(n,r){return n?n[r]:void 0}),n||self)}(l.parentProxy,r.join("."))};if("__getPath"===a)return u(0,"__getParent").slice(0,-12);var c=n[a];if(n instanceof Date&&c instanceof Function&&null!==c)return c.bind(n);if(c instanceof Object&&null!==c&&n.hasOwnProperty(a)){if(!0===c.__isProxy&&(c=c.__getTarget),c.__targetPosition>-1&&null!==targets[c.__targetPosition])for(var i=targetsProxy[c.__targetPosition],d=0,p=i.length;d<p;d++)if(l===i[d].observable)return i[d].proxy;var f=s.slice(0);return f.push({target:c,property:a}),_create(c,r,l,f)}return c},deleteProperty:function(n,r){var a=!0;dupProxy===_&&(a=!1,dupProxy=null);var c=Object.assign({},n);if(i.push({type:"delete",target:n,property:r,newValue:null,previousValue:c[r],currentPath:u(0,r),jsonPointer:u(0,r,!0),proxy:_}),!0===a){l.changesPaused||delete n[r];for(var s=0,p=targets.length;s<p&&n!==targets[s];s++);for(var f=targetsProxy[s]||[],S=f.length;S--;)f[S].proxy!==_&&(dupProxy=f[S].proxy,delete f[S].proxy[r])}return d(i.length),!0},set:function(n,r,a,c){a&&a.__isProxy&&(a=a.__getTarget);var s=!0;dupProxy===_&&(s=!1,dupProxy=null);var p=n[r];if(p!==a||!1===s||"length"===r&&n instanceof Array&&n.__length!==a){var f=!0,S=typeof p,g="update";if("undefined"===S&&(g="add"),i.push({type:g,target:n,property:r,newValue:a,previousValue:c[r],currentPath:u(0,r),jsonPointer:u(0,r,!0),proxy:_}),"length"===r&&n instanceof Array&&n.__length!==a&&(i[i.length-1].previousValue=n.__length,n.__length=a),!0===s){l.changesPaused||(n[r]=a),f=!1;for(var m=n.__targetPosition,v=targetsProxy[m].length;v--;)if(l===targetsProxy[m][v].observable&&null!==targets[targetsProxy[m][v].observable.parentTarget.__targetPosition]){f=!0;break}if(f){for(var b=targetsProxy[m],h=0,C=b.length;h<C;h++)b[h].proxy!==_&&(dupProxy=b[h].proxy,b[h].proxy[r]=a);setTimeout((function(){if("object"===S&&null!==p){for(var r=Object.keys(n),a=0,c=r.length;a<c;a++)if(n[r[a]]===p)return;var s=!1;if(function n(r){for(var a=Object.keys(r),c=0,l=a.length;c<l;c++){var i=r[a[c]];if(i instanceof Object&&null!==i&&n(i),i===p)return void(s=!0)}}(n),!0===s)return;!function n(r){var s=Object.keys(r);for(a=0,c=s.length;a<c;a++){var i=r[s[a]];i instanceof Object&&null!==i&&n(i)}var u=-1;for(a=0,c=targets.length;a<c;a++)if(r===targets[a]){u=a;break}if(u>-1){for(var d=targetsProxy[u],p=d.length;p--;)if(l===d[p].observable){d.splice(p,1);break}0==d.length&&(targets[u]=null)}}(p)}}),1e4)}}f&&d(i.length)}return!0}},f=n.__targetPosition;(!f||f<0)&&Object.defineProperty(n,"__targetPosition",{value:targets.length,writable:!1,enumerable:!1,configurable:!1});var _=new Proxy(n,p);null===l&&(l={parentTarget:n,domDelay:r,parentProxy:_,observers:[],paused:!1,path:s,changesPaused:!1},observables.push(l));var S={target:n,proxy:_,observable:l};return f>-1?(null===targets[f]&&(targets[f]=n),targetsProxy[f].push(S)):(targets.push(n),targetsProxy.push([S])),_},{create:function(n,r,a){!0===n.__isProxy&&(n=n.__getTarget);var c=_create(n,r);return"function"==typeof a&&this.observe(c,a),function n(r){for(var a=r.__getTarget,c=Object.keys(a),l=0,s=c.length;l<s;l++){var i=c[l];a[i]instanceof Object&&null!==a[i]&&n(r[i])}}(c),c},observe:function(n,r){for(var a=observables.length;a--;)if(observables[a].parentProxy===n){observables[a].observers.push(r);break}},pause:function(n){for(var r=observables.length,a=!1;r--;)if(observables[r].parentProxy===n){observables[r].paused=!0,a=!0;break}if(0==a)throw new Error("_observableSlim could not pause observable -- matching proxy not found.")},resume:function(n){for(var r=observables.length,a=!1;r--;)if(observables[r].parentProxy===n){observables[r].paused=!1,a=!0;break}if(0==a)throw new Error("_observableSlim could not resume observable -- matching proxy not found.")},pauseChanges:function(n){for(var r=observables.length,a=!1;r--;)if(observables[r].parentProxy===n){observables[r].changesPaused=!0,a=!0;break}if(0==a)throw new Error("_observableSlim could not pause changes on observable -- matching proxy not found.")},resumeChanges:function(n){for(var r=observables.length,a=!1;r--;)if(observables[r].parentProxy===n){observables[r].changesPaused=!1,a=!0;break}if(0==a)throw new Error("_observableSlim could not resume changes on observable -- matching proxy not found.")},remove:function(n){for(var r=null,a=!1,c=observables.length;c--;)if(observables[c].parentProxy===n){r=observables[c],a=!0;break}for(var l=targetsProxy.length;l--;)for(var s=targetsProxy[l].length;s--;)targetsProxy[l][s].observable===r&&(targetsProxy[l].splice(s,1),0===targetsProxy[l].length&&(targets[l]=null));!0===a&&observables.splice(c,1)}});var paths,observables,targets,targetsProxy,dupProxy,_create;const _prefixScopedVars=function(n,r=null){let a,c;return n=n.replace(/(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)(\\"|"(?:\\"|[^"])*"|[\u00BF-\u1FFF\u2C00-\uD7FF\w_\.]+)(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)/gim,(function(n,l){if(-1!==l.indexOf('"')||l.match(/^[\d]+$/))return l;if(-1!==l.indexOf(".")){let n=l.split(".")[0];if("window"==n||"scopedVars"==n)return l}return a=(r&&privateScopes[r]?r:"main")+"."+l,c=_get(scopedVars,a),c?"scopedVars."+a:l}))},_replaceAttrs=(n,r,a=null,c=null,l="",s=null)=>{if(!r)return"";if(-1!==r.indexOf("{$RAND}")){let n=Math.floor(1e7*Math.random());r=r.replace(/\{\$RAND\}/g,n)}return-1===r.indexOf("{=")||c&&["CreateCommand","CreateConditional","Eval","Run"].includes(c.func)||(r=ActiveCSS._sortOutFlowEscapeChars(r),r=_replaceJSExpression(r,null,null,s)),-1!==r.indexOf("{@")&&(r=r.replace(/\{\@([^\t\n\f \/>"'=(?!\{)]+)\}/gi,(function(r,l){let s,i=l.split("."),u=[];if(i[1]&&"selected"==i[0]&&"SELECT"==n.tagName){if(s=n.options[n.selectedIndex].getAttribute(i[1]),s)return _escapeItem(s);if(s=n.options[n.selectedIndex][i[1]],s)return _escapeItem(s);u.push("Neither attribute or property "+i[1]+" found in target or primary selector:")}else{let r=l.lastIndexOf(":");if(-1!==r){let a,i=l.substr(0,r);if("host"!=i||c&&-1!==["beforeComponentOpen","componentOpen"].indexOf(c.event))a=_getSel(c,i);else{if(!n.shadowRoot)return"{@"+l+"}";a=n.shadowRoot}let d=l.substr(r+1);if("IFRAME"==a.tagName&&"url"==d)return _escapeItem(a.contentWindow.location.href);if(s=a.getAttribute(d),s)return _escapeItem(s);if(s=a[d],s)return _escapeItem(s);u.push("Neither attribute or property "+d+" found in target or primary selector:")}else if(n&&"string"!=typeof n){if(a){if(s=a.getAttribute(l),s)return _escapeItem(s);if(s=a[l],s)return _escapeItem(s)}if(s=n.getAttribute(l),s)return _escapeItem(s);if(s=n[l],s)return _escapeItem(s);u.push("Attribute not property "+l+" found in target or primary selector:")}}return u&&u.push(n),""}))),r=_replaceStringVars(c,r,s),_replaceScopedVars(r,a,l,c,null,null,s)},_replaceComponents=(n,r,a)=>{let c,l=0;for(;l<50&&(c=!1,l++,r=(r=r.replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-_]+)\}/gi,(function(n,r){let a=document.getElementById(r);return a?a.innerHTML:"{#"+r+"}"}))).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-_]+)\}/gi,(function(r,a){if(!components[a])return"{|"+a+"}";let l=components[a].data.trim();if(c=!0,l=ActiveCSS._sortOutFlowEscapeChars(l),l="0"!=n.loopRef?_replaceLoopingVars(l,n.loopVars):l,components[a].shadow||components[a].scoped){let n='<data-acss-component data-name="'+a+'" data-ref="'+ ++compCount+'"></data-acss-component>';compPending[compCount]=l,l=n}else l=_replaceAttrs(n.obj,l,null,null,n.func,n.compRef),l=_replaceStringVars(n.ajaxObj,l);return l||""})),c););return 50==l&&console.log("Active CSS recursion detected during component rendering. Skipped after 50 attempts.\nFile: "+n.file+", line: "+n.line),r},_replaceJSExpression=(n,r=!1,a=!1,c=null)=>{let l;return n=n.replace(/\{\=([\s\S]*?)\=\}/gm,(function(s,i){i=_replaceScopedVarsExpr(i,c);try{l=Function("scopedVars",'"use strict";return ('+i+");")(scopedVars)}catch(r){console.log("JavaScript expression error ("+r+"): "+n),console.log("Actual expression evaluated: "+i)}if(!r){let n="";a&&(n='"'),l=!0===l?"true":!1===l?"false":"string"==typeof l?n+l+n:"number"==typeof l?l.toString():"Invalid expression ("+i.trim()+")"}return l})),r?l:n},_replaceScopedVars=(n,r=null,a="",c=null,l=!1,s=null,i=null)=>{let u,d,p,f,_;if(-1===n.indexOf("{{")||l||-1===n.indexOf("</"))n=_replaceScopedVarsDo(n,r,a,c,!1,s,i);else{for(u=document.createElement("template"),u.innerHTML=n,d=document.createTreeWalker(u.content,NodeFilter.SHOW_TEXT);d.nextNode();)p=d.currentNode.parentNode,11!=p.nodeType&&(_=_getActiveID(p),f=d.currentNode.textContent,d.currentNode.textContent=_replaceScopedVarsDo(f,p,"Render",null,!0,s,i));for(d=document.createTreeWalker(u.content,NodeFilter.SHOW_ELEMENT);d.nextNode();){p=d.currentNode;let n,r=p.attributes;for(n of r){if(-1!==["data-activeid"].indexOf(n.nodeName))continue;let r=_replaceScopedVarsDo(n.nodeValue,null,"SetAttribute",{secSelObj:p,actVal:n.nodeName+" "+n.nodeValue},!0,s,i);d.currentNode.setAttribute(n.nodeName,r)}}n=(n=(n=(n=(n=u.innerHTML).replace(/_cj_s_lt_/gm,"\x3c!--")).replace(/_cj_s_gt_/gm,"--\x3e")).replace(/_cj_s_lts_/gm,"/*")).replace(/_cj_s_gts_/gm,"*/")}return n},_replaceScopedVarsDo=(n,r=null,a="",c=null,l=!1,s=null,i=null)=>{let u,d=!1,p=!1,f=!1,_=n;return-1!==n.indexOf("{")&&(n=n.replace(/\{((\{)?(\@)?[\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\:\[\]]+(\})?)\}/gm,(function(n,S){let g;if("{"==S[0]&&(d=!0,S=S.slice(1,-1)),"@"==S[0]){if(!s)return n;p=!0;let r="host:";if(-1===(S=S.slice(1)).indexOf(r))return console.log("Non component attribution substitution is not yet supported."),n;if(f=!0,S=S.replace(r,""),!s.hasAttribute(S))return console.log("Component host attribute "+S+" not found."),n;u=_escapeItem(s.getAttribute(S),a),g=s.getAttribute("data-activeid").replace("d-","")+"HOST"+S}else{if(-1!==(S=(S=S.replace(/\[/,".")).replace(/\]/,"")).indexOf(".")){let n=S.split(".")[0];if("window"==n)return S;"scopedVars"==n&&(S=S.replace(/^scopedVars\./,""))}S=i&&privateScopes[i]?i+"."+S:"main."+S,u=_get(scopedVars,S),u=!0===u?"true":!1===u?"false":"string"==typeof u?_escapeItem(u,a):"number"==typeof u?u.toString():u&&"object"==typeof u?"__object":"",g=S}if(d&&-1!==a.indexOf("Render")){let n,a;return _addScopedCID(g,r,i),"STYLE"==r.tagName?(n=l?"_cj_s_lts_":"/*",a=l?"_cj_s_gts_":"*/"):(n=l?"_cj_s_lt_":"\x3c!--",a=l?"_cj_s_gt_":"--\x3e"),n+"active-var-"+g+a+u+n+"/active-var"+a}return"SetAttribute"==a&&_addScopedAttr(g,c,_,l,i),u}))),n},_replaceScopedVarsExpr=(n,r=null)=>{let a,c,l;return n=n.replace(/([\u00BF-\u1FFF\u2C00-\uD7FFa-z][\u00BF-\u1FFF\u2C00-\uD7FF\w_\.\:\[\]]+)(?!\u00BF-\u1FFF\u2C00-\uD7FF\w)/gim,(function(n,s){if(c=s,-1!==s.indexOf(".")){if(l=s.split(".")[0],"window"==l)return s;"scopedVars"==l&&(s=s.replace(/^scopedVars\./,""))}return s=r&&privateScopes[r]?r+"."+s:"main."+s,a=_get(scopedVars,s),void 0!==a?"scopedVars."+s:c}))},_replaceStringVars=(n,r,a)=>{let c="";return r=r.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\[\]\.\$]+)\}/gi,(function(r,l){if("$STRING"==l)return c=n&&n.res?n.res:"{$STRING}",c;if(-1!==l.indexOf("$")){let n=(a&&privateScopes[a]?a:"main")+"."+l;return c=_get(scopedVars,n),c||""}return"{"+l+"}"}))},_resolveAjaxVars=n=>{if("object"==typeof n.res){let r=n.compRef&&privateScopes[n.compRef]?n.compRef:"main";if("main"!=r)return void setTimeout((function(){_resolveAjaxVarsDecl(n.res,r),_ajaxCallbackDisplay(n)}),0);_resolveAjaxVarsDecl(n.res,r)}_ajaxCallbackDisplay(n)},_resolveAjaxVarsDecl=(n,r)=>{let a;for(a in n)_set(scopedVars,r+"."+a,n[a])},_resolvePath=(n,r=self,a=".")=>((Array.isArray(n)?n:n.split(a)).reduce((n,r)=>n&&n[r],r),r);ActiveCSS._sortOutFlowEscapeChars=n=>ActiveCSS._mapRegexReturn({_ACSS_later_comma:",",_ACSS_later_brace_start:"{",_ACSS_later_brace_end:"}",_ACSS_later_semi_colon:";",_ACSS_later_colon:":",_ACSS_later_double_quote:'"'},n),ActiveCSS._varUpdateDom=n=>{let r,a,c,l;for(r of n)if(-1!==r.currentPath.indexOf(".")||-1!==r.currentPath.indexOf("HOST"))if("object"==typeof r.previousValue||"object"==typeof r.newValue)for(l of(r.previousValue=r.previousValue?r.previousValue:[],r.previousValue=!0===r.previousValue.__isProxy?r.previousValue.__getTarget:r.previousValue,c=recursiveDiff.getDiff(r.previousValue,r.newValue),c))l.path=r.currentPath+(l.path?"."+l.path.join("."):""),a=_get(scopedData,l.path),a&&(l.val=l.val?l.val:"",_varUpdateDomDo({currentPath:l.path,newValue:l.val,type:l.op},a));else{if(a=_get(scopedData,r.currentPath),!a)continue;_varUpdateDomDo(r,a)}};const _varUpdateDomDo=(n,r)=>{let a,c,l,s,i,u,d,p,f,_,S,g,m,v;a=n.newValue,g=n.currentPath.indexOf("HOST"),_=null,S=document;let b,h=null;if("_"==n.currentPath.substr(0,1)&&(h=n.currentPath.substr(0,n.currentPath.indexOf(".")),"delete"==n.type&&""==h))return delete shadowDoms[n.currentPath],delete scopedData[n.currentPath],void delete actualDoms[n.currentPath];for(m in r.cids)if(c=r.cids[m].cid,v=r.cids[m].scopeRef,S=v?actualDoms[v]:document,void 0!==S)if(_=supportsShadow&&S instanceof ShadowRoot?S.host:S.querySelector('[data-activeid="id-'+n.currentPath.substr(1,g-1)+'"]'),l=S.querySelector('[data-activeid="'+c+'"]'),l){for(s=document.createTreeWalker(l,NodeFilter.SHOW_COMMENT),i=document.createTextNode(a);s.nextNode();)if(u=s.currentNode,u.data=="active-var-"+n.currentPath&&"/active-var"!=u.data&&u.parentNode.isEqualNode(l)){if("/active-var"==u.nextSibling.data){let n=document.createTextNode(i.textContent);u.parentNode.insertBefore(n,u.nextSibling)}else u.nextSibling.textContent=i.textContent;s.nextNode()}else s.nextNode();if("STYLE"==l.tagName){let r=new RegExp("\\/\\*active\\-var\\-"+n.currentPath+"\\*\\/(((?!\\/\\*).)*)\\/\\*\\/active\\-var\\*\\/","g"),a=l.textContent;a=a.replace(r,(function(r,a){return"/*active-var-"+n.currentPath+"*/"+i.textContent+"/*/active-var*/"})),l.textContent=a}}else delete r.cids[c];for(c in r.attrs)for(d in b=!1,r.attrs[c]){if(!b){if(b=!0,v=r.attrs[c][d].scopeRef,S=v?actualDoms[v]:document,void 0===S)break;if(_=supportsShadow&&S instanceof ShadowRoot?S.host:S.querySelector('[data-activeid="id-'+n.currentPath.substr(1,g-1)+'"]'),l=S.querySelector('[data-activeid="'+c+'"]'),!l){delete r.attrs[c];break}}if(p=r.attrs[c][d].orig,!l.hasAttribute(d))return;f=_replaceScopedVars(p,null,"",null,!0,_,h),l.setAttribute(d,f)}};ActiveCSS._deHighlightDOM=()=>{document.querySelectorAll(".activecss-internal-devtools-overlay").forEach((function(n){ActiveCSS._removeObj(n)}))};const _drawHighlight=(n,r)=>{let a=document.createElement("div");a.classList="activecss-internal-devtools-overlay","full"==r?(a.style.backgroundColor="rgba(81, 136, 195, 0.46)",a.style.border="1px solid #34f4ff"):a.style.border="3px dashed #34f4ff",a.style.position="fixed",a.style.zIndex="99999999999999",a.style.display="block",a.style.borderRadius="3px",a.style.top=n.y+"px",a.style.left=n.x+"px",a.style.width=n.width+(isNaN(n.width)?"":"px"),a.style.height=n.height+(isNaN(n.height)?"":"px"),document.body.appendChild(a)};ActiveCSS._hasSetupEnded=()=>!!setupEnded,ActiveCSS._highlightDOM=n=>{if("body"==(n=_stripOffConditionals(n))||"window"==n)_drawHighlight({x:0,y:0,width:"100%",height:"100%"},"full");else{try{document.querySelectorAll(n).forEach((function(n){if("none"!==getComputedStyle(n,null).display)_drawHighlight(n.getBoundingClientRect(),"full");else{let r=n.style.getPropertyValue("display"),a=n.style.getPropertyPriority("display");n.style.setProperty("display","block","important"),_drawHighlight(n.getBoundingClientRect()),""!==r?n.style.removeProperty("display"):n.style.setProperty("display",r,a)}}))}catch(r){console.log(n+" is not a valid selector.")}}};const _sendMessage=(n,r,a,c="")=>{let l;if("object"==typeof n){let r=Object.assign({},n);r.e&&(r.e=""),r.doc&&(r.doc=""),r.compDoc&&(r.compDoc=""),r.obj&&(r.obj=""),r.secSelObj&&(r.secSelObj=""),l=JSON.stringify(r)}else l=n;if(!setupEnded)return debuggerCo++,void devtoolsInit.push([l,r,debuggerCo]);"debugOutput"==r&&(c||(c=++debuggerCo)),window.postMessage({message:l,messageType:r,orderNo:c,whereTo:a,source:"causejs-devtools-extension"},"*")};ActiveCSS._sendOverMediaQueries=()=>JSON.stringify(Object.assign({},mediaQueriesOrig));const _stripOffConditionals=n=>{let r,a=n.split(":"),c=a.length,l=a[0];for(r=1;r<c;r++)""!==a[r].trim()&&(l+=conditionals[a[r]]?"":":"+a[r]);return l},_tellElementsToUpdate=()=>{debuggerActive&&_sendMessage("reloadElements","instruction","editor")},_tellPanelToUpdate=()=>{debuggerActive&&_sendMessage("reloadPanel","instruction","tracker")};ActiveCSS._addToConfig=(n,r,a,c,l,s,i,u)=>{switch(_setupEvent(r,a),n){case"a":u=_cleanUpRuleValue(u);let n,d=config,p=u.split(", "),f=p.length;for(n=0;n<f;n++)config=_assignRule(d,a,r,c,s,i,p[n],"","","",l)}_tellPanelToUpdate()},ActiveCSS._checkEvEditor=n=>!(!evEditorExtID||evEditorExtID!=n),ActiveCSS._checkEventDupe=(n,r,a)=>{if(!(config[n]&&config[n][a]&&config[n][a][r||0]))return 0;try{return document.querySelector(n)?1:2}catch(r){return console.log(n+" is not a valid selector (4)."),2}},ActiveCSS._checkPrimSel=(n,r,a)=>{if("window"==r||"body"==r)return!0;let c=!1;try{return document.querySelectorAll(r).forEach((function(r,a){if(r.contains(n))return c=!0,!1})),!!c}catch(n){return console.log(r+" is not a valid selector (2)."),!1}};const _cleanUpRuleValue=n=>{let r,a=n.split(","),c=a.length;for(r=0;r<c;r++)a[r]=a[r].trim();return a.join(", ")};ActiveCSS._editConfig=(n,r,a,c,l,s,i,u="",d="",p="",f="",_="",S="",g="",m="")=>{switch(u=u||"0",d=d||"0",_setupEvent(a,l),g=_cleanUpRuleValue(g),m=_cleanUpRuleValue(m),n){case"p":if(!(config[c]&&config[c][r]&&config[c][r][s]&&config[c][r][s][u]))return;let n,v,b,h=config[c][r][s][u];for(n in delete config[c][r][s][u],0===Object.keys(config[c][r][s]).length&&delete config[c][r][s],0===Object.keys(config[c][r]).length&&delete config[c][r],0===Object.keys(config[c]).length&&delete config[c],h)for(v=h[n].length,b=0;b<v;b++)S=h[n][b].name,m=h[n][b].value,ActiveCSS._addToConfig("a",a,l,i,d,n,S,m);break;case"s":if(!(config[c]&&config[c][r]&&config[c][r][s]&&config[c][r][s][u][p]&&config[c][r][s][u][p]))return;let C=config[c][r][s][u][p];delete config[c][r][s][u][p],config[c][r][s][u][f]=C;break;case"a":ActiveCSS._removeFromConfig("a",a,l,i,d,f,_,g),ActiveCSS._addToConfig("a",a,l,i,d,f,S,m)}_tellPanelToUpdate()},ActiveCSS._formatConditional=n=>{let r,a=n.split(":"),c=a.length,l=a[0];for(r=1;r<c;r++)""!==a[r].trim()&&(l+=":",l+=conditionals[a[r]]?'<span class="active-event-cond-inline">'+a[r]+"</span>":a[r]);return l},ActiveCSS._inspectEl=n=>{try{let r=document.querySelector(n);inspect(r)}catch(r){console.log(n+" is not a valid selector (3).")}};const _miniHandleEventForEditor=n=>{let r,a,c,l,s=n.obj,i=n.thisAction,u=n.component?"|"+n.component:null,d=[],p={},f=!1,_=selectors[i].length;if(u){for(r=0;r<_;r++)if(l=selectors[i][r].indexOf(":"),selectors[i][r].substr(0,l)===u&&(a=selectors[i][r].substr(l+1),-1===a.indexOf("<")&&!d.includes(selectors[i][r])))if("&"==a)d.push(selectors[i][r]);else try{s.matches(a)&&d.push(selectors[i][r])}catch(n){}}else for(r=0;r<_;r++)if(!["~","|"].includes(selectors[i][r].substr(0,1))&&(a=selectors[i][r],-1===a.indexOf("<")&&!d.includes(selectors[i][r])))try{s.matches(a)&&d.push(selectors[i][r])}catch(n){}for(_=d.length,c=0;c<_;c++)config[d[c]]&&config[d[c]][i]&&(p[d[c]]||(p[d[c]]={}),p[d[c]]=config[d[c]][i],f=!0);return[p,f]},_removeArrItem=(n,r)=>{let a;for(a=0;a<n.length;a++)if(n[a]===r){n.splice(a,1);break}return n};ActiveCSS._removeFromConfig=(n,r,a,c,l,s,i,u)=>{switch(n){case"p":if(!config[a]||!config[a][r]||!config[a][r][c])return;delete config[a][r][c],0===Object.keys(config[a][r]).length&&delete config[a][r],0===Object.keys(config[a]).length&&delete config[a];break;case"s":if(!(config[a]&&config[a][r]&&config[a][r][c]&&config[a][r][c][l]&&config[a][r][c][l][s]))return;_removeArrItem(config[a][r][c][l],config[a][r][c][l][s]),0===config[a][r][c][l].length&&_removeArrItem(config[a][r][c],config[a][r][c][l]),0===Object.keys(config[a][r][c]).length&&delete config[a][r][c],0===Object.keys(config[a][r]).length&&delete config[a][r],0===Object.keys(config[a]).length&&delete config[a];break;case"a":config=_removeRule(config,a,r,c,l,s,i,u)}_tellPanelToUpdate()};const _removeRule=(n,r,a,c,l,s,i,u)=>{let d;if(void 0===n[r][a][c])return n;if(void 0===n[r][a][c][l])return n;if(void 0===n[r][a][c][l][s])return n;if(d=ActiveCSS._getPosOfRule(n[r][a][c][l][s],i),-1!=d)if(u=_cleanUpRuleValue(u),n[r][a][c][l][s][d].value==u)n[r][a][c][l][s].splice(d,1),0===n[r][a][c][l][s].length&&_removeArrItem(config[r][a][c][l],config[r][a][c][l][s]),0===n[r][a][c][l].length&&delete config[r][a][c][l],0===Object.keys(n[r][a][c]).length&&delete config[r][a][c],0===Object.keys(n[r][a]).length&&delete config[r][a],0===Object.keys(n[r]).length&&delete config[r];else{let i,p,f,_,S=u.split(","),g=S.length;for(i=0;i<g;i++)_=S[i].trim(),p=n[r][a][c][l][s][d].value.split(", "),f=p.indexOf(_),-1!==index&&p.splice(index,1),n[r][a][c][l][s][d].value=p.join(", ")}return n};ActiveCSS._returnTree=n=>{if(!setupEnded)return;let r,a,c,l,s,i={},u=n;l=_getRootNode(n),l.isEqualNode(document)||(s=l.host._acssComponent,s||(s=null)),Object.keys(selectors).sort().forEach((function(l){var d,p,f="";n=u,a=0;let _=l;if(_=_getRealEvent(_),c=!0,!1===_&&(c=!1),f=s,c){let n=document.createElement("div");n.id="cause-js-elements-ext",document.body.append(n),n.attachShadow({mode:"open"});let r=document.createElement("div");n.shadowRoot.append(r),r.addEventListener(_,(function(n){n.preventDefault(),n.stopImmediatePropagation(),d=n.bubbles,p=n.composed}),{capture:!1,once:!0});try{r[_]()}catch(n){d=!1,p=!1}ActiveCSS._removeObj(n)}else d=!1;if("mouseover"!=l&&"click"!=l||"A"==n.tagName&&1!==n["data-active-nav"]&&_setUpNavAttrs(n),"window"!=n&&n){for(;n.parentNode&&(r=_miniHandleEventForEditor({obj:n,thisAction:l,component:f}),r[1]&&(i[l]||(i[l]={}),i[l][a]||(i[l][a]={}),i[l][a]=r[0],a++),d);)if((n=n.parentNode)&&n instanceof ShadowRoot){if(!p)break;n=n.host;let r=_getRootNode(n);r.isEqualNode(document)?f=null:(f=r.host._acssComponent)||(f=null)}r=_miniHandleEventForEditor({obj:window,thisAction:l})}})),_sendMessage(i,"treeSent","editor")},ActiveCSS._startEvEditor=n=>(evEditorActive=!0,evEditorExtID=n,coreVersionExtension),ActiveCSS._checkDebugger=n=>!(!debuggerExtID||debuggerExtID!=n);const _debugOutput=n=>{_sendMessage(n,"debugOutput","tracker")};ActiveCSS._sendInitMessages=()=>{let n,r=devtoolsInit.length;for(n=0;n<r;n++)_sendMessage(devtoolsInit[n][0],devtoolsInit[n][1],"tracker",devtoolsInit[n][2]);devtoolsInit=[]},ActiveCSS._sendOverComponents=()=>JSON.stringify(Object.assign({},components)),ActiveCSS._sendOverConditionals=()=>JSON.stringify(Object.assign({},conditionals)),ActiveCSS._sendOverConfig=()=>JSON.stringify(Object.assign({},config)),ActiveCSS._sendOverEvents=()=>debuggerEvs,ActiveCSS._startDebugger=n=>(debuggerness=!0,debuggerActive=!0,debuggerExtID=n,coreVersionExtension);const _stopDebugger=()=>{debuggerness=!1,debuggerActive=!1},_stopEvEditor=()=>{evEditorActive=!1},_cookieExists=n=>!(!n||/^(?:expires|max\-age|path|domain|secure)$/i.test(n))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie),_getCookie=n=>n&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null,_setCookie=(n,r,a,c,l,s)=>{if(!n||/^(?:expires|max\-age|path|domain|secure)$/i.test(n))return!1;var i="";if(a)switch(a.constructor){case Number:i=a===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+a;break;case String:i="; expires="+a}return document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(r)+i+(l?"; domain="+l:"")+(c?"; path="+c:"")+(s?"; secure":""),!0},_addActValRaw=n=>{n.avRaw=n.actVal,n.avRaw.indexOf("?")&&(n.avRaw=_getBaseURL(n.avRaw))},_ajax=(n,r,a,c,l,s,i)=>{preGetMid++;var u,d=new XMLHttpRequest;switch(d.open(n,a,!0),r){case"html":case"txt":u="text/html";break;case"json":u="application/json";break;default:u="application/x-www-form-urlencoded"}d.setRequestHeader("Content-type",u),d.onreadystatechange=function(){if(4==d.readyState){if(200!=d.status){if(preGetMid--,!s)return void console.log("Tried to get file: "+a+", but failed with error code: "+d.status);s(d.responseText,d.status,i)}preGetMid--,null!==l&&l(d.responseText,i)}},"POST"==n&&null!==c?d.send(c):d.send()},_ajaxCallback=(n,r)=>{"string"==typeof n&&""!==n.trim()?(r.res="JSON"==r.dataType?JSON.parse(n):n,_resolveAjaxVars(r)):(r.res="",_ajaxCallbackDisplay(r))},_ajaxCallbackDisplay=n=>{!n.error&&n.preGet?(ajaxResLocations[n.finalURL]=n.res,delete n.res):(_ajaxDisplay(n),!n.error&&n.cache&&(ajaxResLocations[n.finalURL]=n.res,delete n.res))},_ajaxCallbackErr=(n,r,a)=>{a.preGet?(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax-pre-get callback error debug: failed with error "'+r+'".'):(a.error=!0,a.errorCode=r,_ajaxCallback(n,a),(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax callback error debug: failed with error "'+r+'".'))},_ajaxDisplay=n=>{let r="afterAjax"+(n.formSubmit?"Form"+(n.formPreview?"Preview":n.formSubmit?"Submit":""):"");n.error&&(r+=n.errorCode),_handleEvents({obj:n.obj,evType:r,otherObj:n,compRef:n.compRef,compDoc:n.compDoc,component:n.component}),""!==n.hash&&(document.location.hash="",document.location.hash=n.hash)},_ajaxDo=n=>{if(n.preGet&&preGetMid){let r=_getParVal(n.actVal,"max");if(preGetMid==(preGetMax=""!=r?r:6))return}let r=n.actVal.split(" ");n.formMethod=_optDef(r,"get","GET","POST"),n.dataType=_optDef(r,"html","HTML","JSON"),n.cache=_optDef(r,"cache",!0,!1),n.nocache=_optDef(r,"nocache",!0,!1);let a=(n.nocache?"_="+Date.now()+"&":"")+"_ACSS=1"+(n.formPreview?"&_ACSSFORMPREVIEW=1":"")+(n.formSubmit?"&_ACSSFORMSUBMIT=1":"")+"&_ACSSTYPE="+n.dataType;n.pars=a;let c=n.url;if(n.preGet&&""===c)return;n.formSubmit&&(n.pars+="&"+_checkForm(n.secSelObj,"pars")),"GET"==n.formMethod&&(c=_appendURIPar(c,n.pars,n.doc)),n.hash="";let l=c.indexOf("#");-1!==l&&(n.hash=c.substr(l+1),c=c.substr(0,l)),c=_attachGetVals(n.actVal,c,n.doc,"get-pars"),n.pars=_attachPostVals(n.actVal,n.pars),n.finalURL="GET"==n.formMethod?c:_appendURIPar(c,n.pars,n.doc),ajaxResLocations[n.finalURL]?n.preGet||(n.res=ajaxResLocations[n.finalURL],_resolveAjaxVars(n)):_ajax(n.formMethod,n.dataType,c,n.pars,_ajaxCallback.bind(this),_ajaxCallbackErr.bind(this),n)},_appendURIPar=(n,r,a)=>{var c=new RegExp("^([a-z]+://|//)","i");""!==n&&c.test(n)||(n=window.location.protocol+"//"+window.location.host+("/"!=n.substr(0,1)?"/":"")+n);let l,s,i=new URL(n),u=r.split("&"),d="";for(l of u)if(-1!==l.indexOf("="))s=l.split("="),s[1]?i.searchParams.set(s[0],s[1]):i.searchParams.set(s[0],"");else if("{#"==l.substr(0,2)){let n=l.slice(2,-1),r=a.getElementById(n);if("FORM"==r.tagName){let n=_checkForm(r,"pars"),c=_appendURIPar(i,n,a);i=new URL(c)}}else d+=l;return i+d},_attachGetVals=(n,r,a,c)=>{let l=_getParVal(n,c);return l&&(r=_appendURIPar(r,l,a)),r},_attachPostVals=(n,r)=>{let a=_getParVal(n,"post-pars");return a&&(r+="&"+a),r},_getFile=(n,r,a={})=>{_ajax("GET",r,n,null,_addConfig.bind(this),_addConfigError.bind(this),a)},_getParVal=(n,r)=>{if(-1!==n.indexOf(r+"(")){let a=new RegExp(r+"[\\(]([\\s\\S]+)[\\)]","g").exec(n)||"";if(a)return a[1]}return""},_actValSelItem=n=>{let r=n.actVal.split(" "),a=r.splice(-1);return[_getSel(n,r.join(" ")),a[0]]};ActiveCSS._addClassObj=(n,r)=>{if(!n||!n.classList)return;let a=r.replace(".","").split(" ");n.classList.add(...a)};const _checkForm=(n,r)=>{if(!n)return!1;for(var a,c,l,s,i,u,d="check"==r,p="pars"==r,f="",_=[],S=0,g=n.elements.length;S<g;S++)if(c=!1,(a=n.elements[S]).hasAttribute("name")){switch(a.nodeName.toLowerCase()){case"select":for(l=0,s=0,i=a.options.length;s<i;s++)u=a.options[s],c=c||u.selected!=a.defaultSelected,u.defaultSelected&&(l=s);c&&!a.multiple&&(c=l!=a.selectedIndex),f+="&"+a.getAttribute("name")+"="+encodeURIComponent(a.options[a.selectedIndex].value);break;case"textarea":case"input":switch(a.type.toLowerCase()){case"checkbox":c=a.checked!=a.defaultChecked,f+="&"+a.getAttribute("name")+"="+(a.checked?"on":"");break;case"radio":c=a.checked!=a.defaultChecked,a.checked&&(f+="&"+a.getAttribute("name")+"="+encodeURIComponent(a.value));break;default:c=a.value!=a.defaultValue,f+="&"+a.getAttribute("name")+"="+encodeURIComponent(a.value)}break;case"hidden":f+=p?"&"+a.getAttribute("name")+"="+encodeURIComponent(a.value):""}d&&c&&_.push(a)}return d?!!_.length:p?"_ACSSFORMNAME="+(n.name?n.name:"")+f:void 0},_composedPath=n=>{if(n.composedPath)return n.composedPath();{if(n.path)return n.path;let r=n.target,a=[];for(;null!==r.parentNode;)a.push(r),r=r.parentNode;return a.push(document,window),a}},_convertToMS=(n,r)=>{if("stack"==n)return 0;var a=/^(\d+)(ms|s)?$/i.exec(n);if(!a)return console.log(r),!1;var c=parseFloat(a[1]);return"s"==(a[2]||"ms").toLowerCase()?1e3*c:c};ActiveCSS._decodeHTML=n=>(new DOMParser).parseFromString(n,"text/html").documentElement.textContent;const _doDebug=(n,r)=>{if(r){if(-1!==debugMode.indexOf(":")){let a=r.split(":");return-1!==debugMode.indexOf(a[0]+":"+n)}return-1!==debugMode.indexOf(r)||-1!==debugMode.indexOf(n)}return-1!==debugMode.indexOf(":")?-1!==debugMode.indexOf(n)&&debugMode.indexOf(":")!==debugMode.indexOf(n)-1:-1!==debugMode.indexOf(n)},_eachRemoveClass=(n,r,a)=>{a.querySelectorAll("."+n).forEach((function(n,a){n&&ActiveCSS._removeClassObj(n,r)}))};function _escCommaBrack(n,r){n=(n=n.replace(/\\\"/g,"_ACSS_i_dq")).replace(/\\'/g,"_ACSS_i_sq");let a,c={"\\,":"__ACSS_int_com","\\(":"_ACSS_i_bo","\\)":"_ACSS_i_bc","\\{":"_ACSS_i_co","\\}":"_ACSS_i_cc","\\[":"_ACSS_i_so","\\]":"_ACSS_i_sc"},l={",":"__ACSS_int_com","(":"_ACSS_i_bo",")":"_ACSS_i_bc","{":"_ACSS_i_co","}":"_ACSS_i_cc","[":"_ACSS_i_so","]":"_ACSS_i_sc"},s=(n=(n=n.replace(/("([^"]|"")*")/g,(function(n,r){return ActiveCSS._mapRegexReturn(c,r,l)}))).replace(/('([^']|'')*')/g,(function(n,r){return ActiveCSS._mapRegexReturn(c,r,l)}))).split(","),i=0,u="";for(a of s)i+=a.split("[").length-a.split("]").length,i+=a.split("(").length-a.split(")").length,i+=a.split("{").length-a.split("}").length,u+=0!==i?a+"__ACSS_int_com":a+",";return 0!==i?(u=_escCommaBrackClean(u,l),u=u.replace(/__ACSS_int_com/g,","),console.log("Unbalanced JavaScript equation in var command - too many brackets, curlies or parentheses, or there could be incorrectly escaped characters: "+u+", in config: "+r.file+", line: "+r.line),u):(u=u.slice(0,-1),u=u.replace(/\,/g,"_ACSSComma"),u=_escCommaBrackClean(u),u)}function _escCommaBrackClean(n,r){let a={_ACSS_i_dq:'\\"',_ACSS_i_sq:"\\'",__ACSS_int_com:",",_ACSS_i_bo:"(",_ACSS_i_bc:")",_ACSS_i_co:"{",_ACSS_i_cc:"}",_ACSS_i_so:"[",_ACSS_i_sc:"]"};return n=(n=n.replace(/("([^"]|"")*")/g,(function(n,r){return ActiveCSS._mapRegexReturn(a,r)}))).replace(/('([^']|'')*')/g,(function(n,r){return ActiveCSS._mapRegexReturn(a,r)}))}const _fullscreenDetails=()=>{let n;return n="MSGesture"in window?[document.webkitFullscreenElement,"webkit"]:[document.fullscreenElement,""],n},_get=(n,r,a)=>(n=n[(r=Array.isArray(r)?r:r.replace(/(\[(\d)\])/g,".$2").split("."))[0]])&&r.length>1?_get(n,r.slice(1),a):void 0===n?a:n,_getActiveID=n=>!(!n||!n.dataset)&&(n.dataset.activeid||(activeIDTrack++,n.dataset.activeid="id-"+activeIDTrack),n.dataset.activeid),_getBaseURL=n=>n.substr(0,n.indexOf("?")),_getComponentRoot=n=>{let r=!(!n.parentElement||supportsShadow&&(!supportsShadow||n.parentNode instanceof ShadowRoot))&&n.parentElement.closest("[data-active-scoped]"),a=n.getRootNode();return!r&&a.isEqualNode(document)?document:r?r&&a.isEqualNode(document)?r:a.querySelector("[data-activeid="+r.getAttribute("data-activeid")+"]")?r:a:a},_getFieldValType=n=>{switch(n.tagName){case"INPUT":case"TEXTAREA":return"value";default:return"innerText"}},_getFocusedOfNodes=(n,r)=>{let a,c,l,s=-1,i=-1;if(a=_splitIframeEls(n,r.obj,r.compDoc),!a)return!1;if(null===a[0].activeElement)return-1;for(l of(c=a[0].querySelectorAll(a[1])||null,c))if(s++,l.isSameNode(a[0].activeElement)){i=s;break}return[c,i]},_getObj=n=>{let r=_splitIframeEls(n);if(!r)return!1;try{return r[0].querySelector(r[1])}catch(n){return!1}},_getRealEvent=n=>{let r=n.substr(0,5);if("after"==r&&"afterprint"!=n)return!1;if("keyup"==r)n="keyup";else if("keydown"==n.substr(0,7))n="keydown";else if("fullscreenEnter"==n||"fullscreenExit"==n)n=_fullscreenDetails()[1]+"fullscreenchange";else{if(["draw","disconnectCallback","adoptedCallback","attributeChangedCallback","beforeComponentOpen","componentOpen"].includes(n))return!1;if("attrChanges-"==n.substr(0,12))return!1}return n},_getRootNode=n=>supportsShadow?_getComponentRoot(n):_getScopedRoot(n)||document,_getScopedRoot=n=>n.closest("[data-active-scoped]"),_getSel=(n,r,a)=>{switch(r){case"me":case"self":case"this":return n.secSelObj;case"host":if(-1!==["beforeComponentOpen","componentOpen"].indexOf(n.event))return n.secSelObj;let c=_getRootNode(n.secSelObj);return c._acssScoped?c:c.host;default:return!0!==a&&_getObj(r)}},_getValFromList=(n,r,a=!1)=>{let c,l,s,i=-1;for(c in n)if(n.hasOwnProperty(c)){if(i++,l=n[c],a&&l.name==r)return i;for(s in l)if(l.hasOwnProperty(s)&&!a&&l[s]==r)return l.value.replace(/"/g,"")}return!!a&&-1},_getWindow=n=>{try{return n.defaultView||n.parentWindow}catch(n){return window}},_handleQuoAjax=(n,r)=>r._ACSSRepQuo();ActiveCSS._hasClassObj=(n,r)=>n.classList.contains(r)||!1;const _ifFocus=(n,r=!0)=>{let a=_getFocusedOfNodes(n.actVal,n);return r?0===a[1]:a[1]==a[0].length-1},_ifVarTrue=(n,r)=>{if("true"==n)return!0;if("false"==n)return!1;let a=(r&&privateScopes[r]?r:"main")+"."+n,c=_get(scopedVars,a);return void 0===c&&(c=window[n]),!!c};ActiveCSS._ifVisible=(n,r)=>{let a=("object"==typeof n.actVal?n.actVal:""==n.actVal._ACSSRepQuo().trim()?n.secSelObj:_getSel(n,n.actVal)).getBoundingClientRect(),c=a.top,l=a.bottom;return r?c>=0&&l<=window.innerHeight:c<window.innerHeight&&l>=0};const _mimicReset=n=>{var r,a;for(r in n.target.cjsReset)if("title"!=r)switch((a=n.target.cjsReset[r]).type){case"text":a.el.innerText=a.value;break;default:a.el.value=a.value}n.target.cjsReset.title&&(currDocTitle=ActiveCSS._decodeHTML(n.target.cjsReset.title),document.title=currDocTitle)},_optDef=(n,r,a,c)=>(Array.isArray(n)||(n=n.split(" ")),-1!==n.findIndex(n=>r===n.toLowerCase())?a:c),_outDebug=(n,r)=>{if(n){let n;for(n of r)console.log(n)}};var e,t;e="undefined"!=typeof self?self:this,t=function(){return function(n){var r={};function a(c){if(r[c])return r[c].exports;var l=r[c]={i:c,l:!1,exports:{}};return n[c].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=n,a.c=r,a.d=function(n,r,c){a.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:c})},a.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,r){if(1&r&&(n=a(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var l in n)a.d(c,l,function(r){return n[r]}.bind(null,l));return c},a.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(r,"a",r),r},a.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},a.p="",a(a.s=0)}([function(n,r,a){const{types:c,iterableTypes:l,errors:s}=a(1),i=a(2),u={[c.NUMBER]:i.isNumber,[c.BOOLEAN]:i.isBoolean,[c.STRING]:i.isString,[c.DATE]:i.isDate,[c.UNDEFINED]:i.isUndefined,[c.NULL]:i.isNull,[c.ARRAY]:i.isArray,[c.MAP]:i.isMap,[c.SET]:i.isSet,[c.ITERABLE_OBJECT]:i.isIterableObject},d={[c.DATE]:i.areDatesEqual};function p(n){const r=Object.keys(u);let a=c.DEFAULT;for(let c=0;c<r.length;c+=1)if(u[r[c]](n)){a=r[c];break}return a}function f(n,r,a,l){let s;return a===c.UNDEFINED&&l!==c.UNDEFINED?s="add":a!==c.UNDEFINED&&l===c.UNDEFINED?s="delete":function(n,r,a,c){return a===c&&(d[a]?d[a](n,r):n===r)}(n,r,a,l)?i.noop():s="update",s}const _={add:i.setValueByPath,update:i.setValueByPath,delete:i.deleteValueByPath};n.exports={getDiff:(n,r,a=!1)=>function n(r,a,s,i,u){const d=p(r),_=p(a),S=i||[],g=u||[];if(function(n,r){return n===r&&l.indexOf(n)>=0}(d,_)){const l=function(n,r,a){let l;return a===c.ITERABLE_OBJECT?l=new Set(Object.keys(n).concat(Object.keys(r))):a===c.ARRAY&&(l=n.length>r.length?new Array(n.length):new Array(r.length),l=l.fill(0,0),l=l.map((n,r)=>r),l=new Set(l)),l}(r,a,d).values();let i=l.next().value;for(;null!=i;)n(r[i],a[i],s,S.concat(i),g),i=l.next().value}else{const n=f(r,a,d,_);null!=n&&g.push(function(n,r,a,c,l){const s={op:a,path:c};return"add"!==a&&"update"!==a||(s.val=r),l&&"add"!==a&&(s.oldVal=n),s}(r,a,n,i,s))}return g}(n,r,a),applyDiff:(n,r,a)=>function(n,r,a){if(!(r instanceof Array))throw new Error(s.INVALID_DIFF_FORMAT);let c=n;return r.forEach(n=>{const{op:r,val:l,path:i}=n;if(!_[r])throw new Error(s.INVALID_DIFF_OP);c=_[r](c,i,l,a)}),c}(n,r,a)}},function(n,r){const a={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",STRING:"STRING",NULL:"NULL",UNDEFINED:"UNDEFINED",DATE:"DATE",ARRAY:"ARRAY",MAP:"MAP",SET:"SET",ITERABLE_OBJECT:"ITERABLE_OBJECT",DEFAULT:"OBJECT"};n.exports={types:a,iterableTypes:[a.ITERABLE_OBJECT,a.MAP,a.ARRAY,a.SET],errors:{EMPTY_DIFF:"No diff object is provided, Nothing to apply",INVALID_DIFF_FORMAT:"Invalid diff format",INVALID_DIFF_OP:"Unsupported operation provided into diff object"}}},function(n,r){const a=n=>r=>r instanceof n,c=a(Date),l=a(Array),s=a(Map),i=a(Set),u=n=>"[object Object]"===Object.prototype.toString.call(n);n.exports={isNumber:n=>"number"==typeof n,isBoolean:n=>"boolean"==typeof n,isString:n=>"string"==typeof n,isDate:c,isUndefined:n=>void 0===n,isNull:n=>null===n,isArray:l,isMap:s,isSet:i,isIterableObject:u,noop:()=>{},areDatesEqual:(n,r)=>n.getTime()===r.getTime(),setValueByPath:function(n,r=[],a,c){if(!l(r))throw new Error(`Diff path: "${r}" is not valid`);const{length:s}=r;if(0===s)return a;let i=n;for(let l=0;l<s;l+=1){const u=r[l];if(!i)throw new Error(`Invalid path: "${r}" for object: ${JSON.stringify(n,null,2)}`);if(null==u)throw new Error(`Invalid path: "${r}" for object: ${JSON.stringify(n,null,2)}`);l!==s-1?(i=i[u],c&&c(i)):i[u]=a}return n},deleteValueByPath:function(n,r){const a=r||[];if(0===a.length)return;let c=n;const{length:l}=a;for(let s=0;s<l;s+=1)if(s!==l-1){if(!c[a[s]])throw new Error(`Invalid path: "${r}" for object: ${JSON.stringify(n,null,2)}`);c=c[a[s]]}else if(u(c))delete c[a[s]];else{const n=parseInt(a[s],10);for(;c.length>n;)c.pop()}return n}}}])},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.recursiveDiff=t():e.recursiveDiff=t(),ActiveCSS._removeClassObj=(n,r)=>{if(!n||!n.classList)return;let a=r.replace(".","").split(" ");n.classList.remove(...a)},ActiveCSS._removeObj=n=>{n&&n.remove()};const _resolveURL=n=>{let r=document.location.href,a=history.state,c=document.title;history.replaceState(a,c,n);let l=document.location.href;return history.replaceState(a,c,r),l},_selCompare=(n,r)=>{let a,c,l,s=n.actVal._ACSSSpaceQuoIn();if("eM"==r){if(!s)return!0;if(s&&"__object"==s)return!1;a=s._ACSSSpaceQuoOut()}else a=s.split(" "),c=a.pop()._ACSSSpaceQuoOut()._ACSSRepQuo(),a=a.join(" ");switch(l=_getSel(n,a),l||(l=a),r){case"eM":case"maL":case"miL":let n;if(l&&l.nodeType&&l.nodeType==Node.ELEMENT_NODE){n=l[_getFieldValType(l)]}else n=l;switch(r){case"eM":return!n||""===n;case"maL":return n.length<=c;case"miL":return n.length>=c}break;case"iT":return!(!l||c!=l.innerText);case"iH":return!(!l||c!=l.innerHTML)}},_set=(n,r,a)=>Object(n)!==n?n:(Array.isArray(r)||(r=r.toString().match(/[^.[\]]+/g)||[]),r.slice(0,-1).reduce((n,a,c)=>Object(n[a])===n[a]?n[a]:n[a]=Math.abs(r[c+1])>>0==+r[c+1]?[]:{},n)[r[r.length-1]]=a,n),_setClassObj=(n,r)=>{n&&n.classList&&(n.className=r)},_setsrcObj=(n,r)=>{n&&(n.src=r)},_toggleClassObj=(n,r)=>{n&&n.classList&&n.classList.toggle(r)},_urlTitle=(n,r,a)=>{n=n.replace(/"/g,""),r=r.replace(/"/g,""),n=_resolveURL(n),window.location.href!=n&&window.history.pushState(n,r,n),document.title=r};String.prototype._ACSSCapitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype._ACSSCapitalizeAttr=function(){return this.replace(/(^|[\s-])\S/g,(function(n){return n.toUpperCase()}))},String.prototype._ACSSConvFunc=function(){return this._ACSSCapitalizeAttr().replace(/\-/g,"")},String.prototype._ACSSRepQuo=function(){var n=this.replace(/\\"/g,"_ACSS*%_");return n=(n=n.replace(/"/g,"")).replace(/_ACSS\*%_/g,'"')},String.prototype._ACSSSpaceQuoIn=function(){return this.replace(/"(.+?)"/g,(function(n,r){return r='"'+r.replace(/ /g,"_ACSS_space")+'"'}))},String.prototype._ACSSSpaceQuoOut=function(){return this.replace(/_ACSS_space/g," ")},window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(n,r){r=r||window;for(var a=0;a<this.length;a++)n.call(r,this[a],a,this)}),document.head.attachShadow||(supportsShadow=!1,"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})),document.addEventListener("DOMContentLoaded",(function(n){setTimeout((function(){userSetupStarted||(autoStartInit=!0,ActiveCSS.init())}),0)}))}(window,document);