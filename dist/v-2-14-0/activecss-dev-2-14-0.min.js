!function(global,document){"use strict";const ASYNCCOMMANDS=["Ajax","AjaxFormPreview","AjaxFormSubmit","AjaxPreGet","FadeIn","FadeOut","FadeTo","LoadAsAjax","LoadConfig","LoadScript","LoadStyle"],CHILDRENREGEX=/\{\$CHILDREN\}/g,COLONSELS=new RegExp("^((active|any\\-link|blank|checked|current|default|disabled|drop|empty|enabled|first\\-child|first\\-of\\-type|focus|focus\\-visible|focus\\-within|future|hover|indeterminate|in\\-range|invalid|last\\-child|last\\-of\\-type|link|local\\-link|only\\-child|only\\-of\\-type|optional|out\\-of\\-range|past|paused|placeholder\\-shown|playing|read\\-only|read\\-write|required|root|host|scope|target|target\\-within|user\\-error|user\\-invalid|valid|visited)(?![\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w_\\-])|(current|dir|drop|has|is|lang|host\\-context|not|nth\\-column|nth\\-child|nth\\-last\\-child|nth\\-last\\-column|nth\\-last\\-of\\-type|nth\\-of\\-type|where)\\()","g"),CONDCOMMAND=/^[\u00BF-\u1FFF\u2C00-\uD7FF\w\-\!]+$/,CONDDEFSELF=["if-empty","if-checked","if-completely-visible","if-display","if-empty","if-empty-trimmed","if-exists","if-form-changed","if-inner-html","if-inner-text","if-max-height","if-max-length","if-max-width","if-min-height","if-min-length","if-min-width","if-value","if-visible"],CONTROLCOMM=["break","continue","exit","exit-target"],CUSTOMEVENTS=["adoptedCallback","attributeChangedCallback","beforeComponentOpen","clickoutside","componentOpen","connectedCallback","draw","disconnectCallback","innerhtmlchange","intersect","observe"],DIGITREGEX=/^\d+$/,DYNAMICCHARS={",":"_ACSS_later_comma","{":"_ACSS_later_brace_start","}":"_ACSS_later_brace_end",";":"_ACSS_later_semi_colon",":":"_ACSS_later_colon",'"':"_ACSS_later_double_quote"},INQUOTES=/("([^"]|"")*")/gm,LABELREGEX=/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w\$\{\@\}\-]+)(?=(?:[^"]|"[^"]*")*)/gm,MEMAP=["&","self","this","me","D7460N"],PARSEATTR=3,PARSEDEBUG=4,PARSEEND=2,PARSELINEX=/(([^\:]+):([^\;]*)|(\$[\u00BF-\u1FFF\u2C00-\uD7FF\w]+)([\+\-]+)?);/,PARSEREGEX=/((?!\*debugfile)[^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|((?!\*debugfile)[^\;\{\}]+\;(?!\s*\*\/))|(\*debugfile[\s\S]*?\*)/gim,PARSESEL=1,RANDHEX="ABCDEF",RANDNUMS="0123456789",REGEXCHARS=/[\\^$.*+?\/()[\]{}|]/g,SELFREGEX=/\{\$SELF\}/g,WRAPSTATEMENTS=["@media","@support"],INNERSTATEMENTS=["@each","@else","@for","@if","@while"],STYLEREGEX=/\/\*active\-var\-([\u00BF-\u1FFF\u2C00-\uD7FF\w\$\-\.\: \[\]]+)\*\/(((?!\/\*).)*)\/\*\/active\-var\*\//g,SUPPORT_ED=!!(window.CSS&&window.CSS.supports||window.supportsCSS),TABLEREGEX=/^\s*<t(r|d|body)/m,TIMEDREGEX=/(^|\s)(after|every) (0|stack|\{\=[\s\S]*?\=\}|[\{\@\u00BF-\u1FFF\u2C00-\uD7FF\w\$\-\.\:\[\]]+(\})?(s|ms)?)(?=([^"\\]*(\\.|"([^"\\]*\\.)*[^"\\]*"))*[^"]*$)/gm,UNIQUEREF=Math.floor(1e7*Math.random()),STATEMENTS=[...INNERSTATEMENTS,...WRAPSTATEMENTS],ATRULES=[...STATEMENTS,"@pages"],RANDCHARS=RANDHEX+"GHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/,reEscapeChar=/\\(\\)?/g,_isArray=Array.isArray,objectProto=Object.prototype,defineProperty=function(){try{var r=_getNative(Object,"defineProperty");return r({},"",{}),r}catch(r){}}(),CLONE_DEEP_FLAG=1,hasOwnProperty=objectProto.hasOwnProperty;window.ActiveCSS={},"undefined"!=typeof module&&(module.exports=ActiveCSS);var coreVersionExtension="2-0-0",_a={},_break={},_continue={},_c={},activeIDTrack=0,actualDoms={},ajaxResLocations={},allEvents=[],autoStartInit=!1,cancelIDArr=[],cancelCustomArr=[],clickOutsideSels=[],clickOutsideSet=!1,compCount=0,compIO,components=[],compInnerEvCo=0,compInnerEvMap={},compInnerEvResMap={},compPreRendered=[],compPreRenderedCo=0,compPreRenderedMap={},compPending={},compPendingHTML={},compPendingHTMLCo=0,compPendingJSON={},compPendingJSONCo=0,compParents=[],compPrivEvs=[],condTrack={},config=[],configArr=[],configBox=[],configFile="",configLine="",concatConfigCo=0,concatConfigLen=0,conditionals=[],currDocTitle=document.title,currUnderPage="",currentPage="",customTags=[],debuggerActive=!1,debuggerCo=0,debuggerEvs=["afterLoadConfig"],debuggerExtID=null,debuggerness=!1,debugMode="",delayArr=[],delaySync={},devtoolsInit=[],doesPassive=!1,elementObserver,elObserveTrack=[],elTrack={},evEditorExtID=null,evEditorActive=!1,eventState={},extractedCSS={},exitTarget={},flyCommands=[],flyConds=[],hashEventAjaxDelay=!1,hashEvents=[],hashEventTrigger=!1,idMap=[],immediateStopCounter=-1,imSt=[],initInlineLoading=!1,initIntersectionObserver=!1,inIframe=window.location!==window.parent.location,inlineIDArr=[],intIDCounter=0,labelData=[],labelByIDs=[],lazyConfig="",localStoreVars=[],maEv={},mainEventCounter=-1,masterConfigCo=0,mediaQueries=[],mediaQueriesOrig=[],mimicClones=[],nonPassiveEvents=[],observeMidDom=[],pageList=[],pageWildcards=[],pageWildReg=[],parsedConfig={},passiveEvents=!0,pauseTrack={},pauseCleanTimers={},preGetting={},preGetMax=6,preGetMid=0,preSetupEvents=[],privVarScopes=[],resolvableVars=[],resolvingObj={},reverseShadowEvs={},scopedData=[],scopedOrig={},scopedProxy=null,scriptTrack=[],selectors=[],sessionStoreVars=[],setupEnded=!1,shadowSels=[],shadowDoms={},shadowObservers={},strictCompPrivEvs=[],strictPrivVarScopes=[],subEventCounter=-1,supportsShadow=!0,syncQueue=[],taEv={},targetEventCounter=-1,targetCounter=-1,userSetupStarted=!1,varMap=[],varStyleMap=[],varInStyleMap=[],varReplaceRef=0;ActiveCSS.customHTMLElements={},_a.AddClass=r=>{if(!_isConnected(r.secSelObj))return!1;ActiveCSS._addClassObj(r.secSelObj,r.actVal)},_a.AddHash=r=>{r._addHash=!0,_a.UrlChange(r)},_a.Ajax=r=>{r.url=r.actVal.split(" ")[0]._ACSSRepQuo(),_ajaxDo(r)},_a.AjaxFormPreview=r=>{r.formPreview=!0,_a.AjaxFormSubmit(r)},_a.AjaxFormSubmit=r=>{r.formSubmit=!0;const a=r.secSelObj;a?(r.url=a.action,_ajaxDo(r)):_err("Form not found",r)},_a.AjaxPreGet=r=>{r.preGet=!0,_a.Ajax(r)},_a.Alert=r=>{alert(r.actVal._ACSSRepQuo())},_a.Blur=r=>{if(!_isConnected(r.secSelObj))return!1;document.activeElement.blur()},_a.Break=r=>{let a=r.actVal.trim();DIGITREGEX.test(a)?_break["i"+r._imStCo]=a.trim():_err("Invalid break parameter",r)},_a.CancelPause=r=>{if("all"==r.actVal){let r,a,n,s;for([r,a]of Object.entries(pauseTrack))for([n,s]of Object.entries(a))_cleanUpAfterPause(n);pauseTrack={}}else _warn('cancel-pause currently only supports "all" as a parameter')},_a.CancelTimer=r=>{let a,n,s,c,i,l=r.actVal,p=l._ACSSConvFunc(),d=!0,u=r.evScope?r.evScope:"main";if(labelData[u+l]){let r=labelData[u+l];_clearTimeouts(delayArr[r.del][r.func][r.pos][r.intID][r.loopRef]),_removeCancel(r.del,r.func,r.pos,r.intID,r.loopRef)}else{if(c=_getDelayRef(r),!c)return;if(delayArr[c])if("all"==l)for(a in delayArr[c])for(n in delayArr[c][a])for(s in delayArr[c][a][n])for(i in delayArr[c][a][n][s])_clearTimeouts(delayArr[c][a][n][s][i]),_removeCancel(c,a,n,s,i);else if(delayArr[c]&&delayArr[c][p])for(n in delayArr[c][p])for(s in delayArr[c][p][n])for(i in delayArr[c][p][n][s])_clearTimeouts(delayArr[c][p][n][s][i]),_removeCancel(c,p,n,s,i);else d=!1;else d=!1;if(!d){let a,n=[];if(Object.keys(delayArr).forEach((function(a){-1===a.indexOf("~")&&-1===a.indexOf("|")&&r.doc.querySelectorAll(a).forEach((function(r,a){n.push(_getActiveID(r))}))})),"object"==typeof r.secSel)a=_getActiveID(r.secSel),cancelIDArr[a]&&cancelIDArr[a][p]||!n.includes(a)||_addCancelAttr(r.secSel,p);else if(-1!==r.secSel.indexOf("~")||-1!==r.secSel.indexOf("|")){if(!(delayArr[c]&&delayArr[c][p]&&delayArr[c][p][r.actPos]&&delayArr[c][p][r.actPos][r.intID]&&delayArr[c][p][r.actPos][r.intID][r.loopRef]))return;cancelCustomArr.push([r.secSel][p][r.actPos][r.intID][r.loopRef])}else r.doc.querySelectorAll(r.secSel).forEach((function(r){a=_getActiveID(r),cancelIDArr[a]&&cancelIDArr[a][p]||!n.includes(a)||_addCancelAttr(r,p)}))}}},_a.CancelTimerAll=r=>{_unloadAllCancelTimer()},_a.ClickOnFirst=r=>{_focusOn(r)},_a.ClickOnLast=r=>{_focusOn(r,"l")},_a.ClickOnNext=r=>{_focusOn(r,"n")},_a.ClickOnNextCycle=r=>{_focusOn(r,"nc")},_a.ClickOnPrevious=r=>{_focusOn(r,"p")},_a.ClickOnPreviousCycle=r=>{_focusOn(r,"pc")},_a.ClickoutsideEvent=r=>{if(!_isConnected(r.secSelObj))return!1;let a=_getActiveID(r.secSelObj);-1!==r.actVal.indexOf("true")?(clickOutsideSels[a]=[],clickOutsideSels[a][0]=!0,clickOutsideSet=!0,-1!==r.actVal.indexOf("continue")&&(clickOutsideSels[a][1]=!0)):clickOutsideSels[a]&&(clickOutsideSels[a][0]=!1,clickOutsideSet=!1)},_a.Clone=r=>{let a=_getSel(r,r.actVal);if(a){let n=_getActiveID(a);if("IFRAME"==a.tagName){if("complete"!=a.contentWindow.document.readyState)return setTimeout(_a.Clone.bind(this,r),200),!1;a=a.contentWindow.document.body}mimicClones[n]=document.importNode(a,!0)}},_a.ConsoleLog=r=>{let a=r.actValSing,n=a._ACSSCapitalize()+":";switch(a){case"target":return void console.log(n,r);case"variables":return void console.log(n,scopedOrig);case"conditionals":return void console.log(n,conditionals);case"config":return void console.log(n,config);case"components":return void console.log(n,components);case"pages":return void console.log(n,pageList);case"trace":return void console.trace()}let s=-1!==a.indexOf("pars(")?a:"pars("+a+")";console.log.apply(null,_extractVarsFromPars(s,r))},_a.Continue=r=>{let a=r.actVal.trim();DIGITREGEX.test(a)?_continue["i"+r._imStCo]=a.trim():_err('Invalid continue parameter: "'+r.actVal+'"',r)},_a.CopyToClipboard=r=>{let a=_getSel(r,r.actVal);if(-1!==["INPUT","TEXTAREA"].indexOf(a.tagName)){let r="readonly"==a.getAttribute("readonly");a.removeAttribute("readonly"),a.select(),document.execCommand("copy"),r&&a.setAttribute("readonly","readonly")}else{let r=document.createElement("textarea");r.id="activecss-copy-field",r.innerHTML=a.innerText,document.body.appendChild(r);let n=document.getElementById("activecss-copy-field");n.select(),document.execCommand("copy"),ActiveCSS._removeObj(n)}},_a.CreateCommand=r=>{let a=r.actVal.split(" ")[0],n=r.actVal.replace(a,"").trim();if(a=a._ACSSConvFunc(),_a[a])return;let s='_activeVarScope = (o.varScope && privVarScopes[o.varScope]) ? o.varScope : "main";scopedProxy[_activeVarScope] = (scopedProxy[_activeVarScope] === undefined) ? {} : scopedProxy[_activeVarScope];_run(flyCommands[\''+a+"'], _activeVarScope, o);";flyCommands[a]="{=let actionName = o.actName,actionPosition = o.actPos,actionValue = o.actVal,actionValueUnEval = o.actValSing,actionValuesUnEval = o.origActVal,actionFunc = o.func,eventSelector = o.obj,eventSelectorName = o.primSel,carriedEventObject = o.ajaxObj,conditionals = o.passCond,targetSelector = o.secSelObj,targetSelectorName = o.origSecSel,activeID = o.activeID,doc = o.doc,e = o.e,eventName = o.event,configFile = o.file,configLine = o.line,rulesArray = o.rules,selectorRef = o.secSel,compDoc = o.compDoc,component = o.component,_loopRef = o.loopRef;"+n.substr(2),_a[a]=new Function("o","scopedProxy","privVarScopes","flyCommands","_run","escapeHTML","unEscapeHTML","getVar",s)},_a.CreateConditional=r=>{let a=r.actVal.split(" ")[0],n=r.actVal.replace(a,"").trim();if(a=a._ACSSConvFunc(),_c[a])return;let s='_activeVarScope = (o.varScope && privVarScopes[o.varScope]) ? o.varScope : "main";scopedProxy[_activeVarScope] = (scopedProxy[_activeVarScope] === undefined) ? {} : scopedProxy[_activeVarScope];return _run(flyConds[\''+a+"'], _activeVarScope, o);";flyConds[a]="{=let conditionalName = o.actName,conditionalFunc = o.func,conditionalValue = o.actVal,eventSelectorName = o.primSel,eventSelector = o.obj,e = o.e,doc = o.doc,component = o.component,compDoc = o.compDoc,carriedEventObject = o.ajaxObj;"+n.substr(2),_c[a]=new Function("o","scopedProxy","privVarScopes","flyConds","_run","escapeHTML","unEscapeHTML","getVar",s)},_a.CreateElement=r=>{let a,n,s,c,i,l,p,d,u=r.actVal,_="";d=u.split(" "),a=d[0],n=a.toUpperCase();let f=!1;if(customTags.includes(n)&&(f=!0),d[1]&&-1===d[1].indexOf("observe(")){p=d[1],void 0===config[a]&&(config[a]={}),void 0===config[a].draw&&(config[a].draw={}),void 0===config[a].draw[0]&&(config[a].draw[0]=[]),void 0===config[a].draw[0][0]&&(config[a].draw[0][0]=[]);let r=[];r["&"]=[],r["&"][0]={file:"",line:"",intID:intIDCounter++,name:"render-before-end",value:'"{|_acss-host_'+p+'}" after stack'},f&&void 0!==config[a].draw[0][0][0]&&void 0!==config[a].draw[0][0][0]["&"]&&void 0!==config[a].draw[0][0][0]["&"][0]&&"render-before-end"==config[a].draw[0][0][0]["&"][0].name&&config[a].draw[0][0][0]["&"][0].value=='"{|_acss-host_'+p+'}" after stack'||(config[a].draw[0][0].unshift(r),_setupEvent("draw",a))}if(!f){for(c of(s=_getParVal(u,"observe").split(" "),s))c&&(_+="'"+c.trim()+"',");customTags.push(n),i=a._ACSSConvFunc(),l="ActiveCSS.customHTMLElements."+i+" = class "+i+" extends HTMLElement {",_&&(l+="static get observedAttributes() {return ["+_.slice(0,-1)+"];}"),l+="constructor() {super();}connectedCallback() {let compDetails = _componentDetails(this);_handleEvents({ obj: this, evType: 'connectedCallback', component: compDetails.component, compDoc: compDetails.compDoc, varScope: compDetails.varScope, evScope: compDetails.evScope });}disconnectedCallback() {let compDetails = _componentDetails(this);_handleEvents({ obj: this, evType: 'disconnectedCallback', component: compDetails.component, compDoc: compDetails.compDoc, varScope: compDetails.varScope, evScope: compDetails.evScope, runButElNotThere: true });}",_&&(l+="attributeChangedCallback(name, oldVal, newVal) {if (!oldVal && oldVal !== '' || oldVal === newVal) return;this.setAttribute(name + '-old', oldVal); let ref = this._acssActiveID.replace('d-', '') + 'HOST' + name;ActiveCSS._varUpdateDom([{currentPath: ref, previousValue: oldVal, newValue: newVal, type: 'update'}]);let compDetails = _componentDetails(this);_handleEvents({ obj: this, evType: 'attrChange' + name._ACSSConvFunc(), component: compDetails.component, compDoc: compDetails.compDoc, varScope: compDetails.varScope, evScope: compDetails.evScope });if (this.shadowRoot) _handleObserveEvents(this.shadowRoot);}"),l+="};customElements.define('"+a+"', ActiveCSS.customHTMLElements."+i+");",Function("_handleEvents, _componentDetails, _handleObserveEvents, escapeHTML, unEscapeHTML, getVar",'"use strict";'+l)(_handleEvents,_componentDetails,_handleObserveEvents,escapeHTML,unEscapeHTML,getVar)}},_a.DocumentTitle=r=>{_setDocTitle(r.actVal._ACSSRepQuo())},_a.Empty=r=>{if(!_isConnected(r.secSelObj))return!1;let a=_getSels(r,r.actVal);a&&a.forEach(r=>{r.innerHTML=""})},_a.Eval=o=>{let evalContent=o.actVal.slice(2,-2);eval(evalContent)},_a.Exit=r=>{_immediateStop(r)},_a.ExitTarget=r=>_exitTarget(r);const _exitTarget=r=>{exitTarget["i"+r._imStCo]=!0};_a.FadeIn=r=>_fade(r),_a.FadeOut=r=>_fade(r),_a.FadeTo=r=>_fade(r),_a.FocusOff=r=>{if(!_isConnected(r.secSelObj))return!1;_a.Blur(r)},_a.FocusOn=r=>{_focusOn(r)};const _focusOn=(r,a,n=!1)=>{let s,c,i,l,p,d=!1,u=1,_=!1,f=r.actVal;-1!==f.indexOf(" end-of-field")&&(_=!0,f=f.replace(/ end-of-field/,""));let m=_getParVal(f,"starting-from");""!==m&&(f=f.substr(0,f.indexOf("starting-from")).trim()),"pcc"!=a&&"ncc"!=a||(-1!==f.indexOf(" click")&&(d=!0,f=f.replace(/ click/,"")),f=f.replace(/ ([\d]+)( |$)?/gm,(function(r,a){return u=a,""})),f=f.trim());if(-1!==["l","n","p","nc","pc","ncc","pcc"].indexOf(a))if("l"!=a)i=_getFocusedOfNodes(f,r,m),c=i[0],l=i[1],"pcc"!=a&&"ncc"!=a||u>c.length&&(u%=c.length);else if(c=_getSels(r,f),!c)return!1;switch(a){case"p":case"pc":case"pcc":if("p"==a){if(0===l)return}else l=u>l?c.length-u-l+1:l-u+1;s=c[l-1];break;case"n":case"nc":case"ncc":if("n"==a){if(l==c.length-1)return}else l=c.length<=u+l?u+l-c.length-1:l+u-1;s=c[l+1];break;case"l":s=c[c.length-1];break;default:s=_getSel(r,f)}if(s)return p="FORM"==s.tagName?s.elements[0]:s,d&&("pcc"==a||"ncc"==a)||!n&&"Click"==r.func.substr(0,5)?(ActiveCSS.trigger(p,"click"),setTimeout((function(){_&&_isTextField(s)?_placeCaretAtEnd(s):p.focus()}),0)):n||(_&&_isTextField(s)?_placeCaretAtEnd(s):s.focus()),p};_a.FocusOnFirst=r=>{_focusOn(r)},_a.FocusOnLast=r=>{_focusOn(r,"l")},_a.FocusOnNext=r=>{_focusOn(r,"n")},_a.FocusOnNextCycle=r=>{_focusOn(r,"nc")},_a.FocusOnPrevious=r=>{_focusOn(r,"p")},_a.FocusOnPreviousCycle=r=>{_focusOn(r,"pc")},_a.FormReset=r=>{let a=_getSel(r,r.actVal);a&&"FORM"==a.tagName&&a.reset()},_a.Fullscreen=r=>{let a,n={},s=r.actVal,c="";if(_endsWithAny([" hide"," show"," auto"],s)){let r=s.lastIndexOf(" ");n.navigationUI=s.substr(r+1),c=s.substr(0,r).trim()}else c=s;switch("body"==c||MEMAP.includes(c)&&"body"==origSecSel?a=document.documentElement:"close"!=c&&(a=_getSel(r,c)),c){case"close":document.fullscreenElement&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen());break;default:a.requestFullscreen?a.requestFullscreen(n):a.mozRequestFullScreen?a.mozRequestFullScreen(n):a.webkitRequestFullscreen?a.webkitRequestFullscreen(n):a.msRequestFullscreen&&a.msRequestFullscreen(n)}},_a.FullscreenExit=r=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},_a.FullscreenOn=r=>{let a=r.secSelObj;a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()},_a.Func=r=>{r.actValSing;let a=r.actValSing.split(" "),n=a.shift(),s=a.join(" ");-1===s.indexOf("pars(")&&(s="pars("+s+")");let c=_extractVarsFromPars(s,r);window[n]&&"function"==typeof window[n]||_err("Function "+n+" does not exist, is not a function, or is not in the window scope."),window[n](r,c)},_a.IframeReload=r=>{let a=r.secSelObj.cloneNode(!1);r.secSelObj.parentNode.insertBefore(a,r.secSelObj),ActiveCSS._removeObj(r.secSelObj)},_a.LoadAsAjax=r=>{let a=document.querySelector(r.actVal);if(a.isConnected)if(a)"object"==typeof r.secSelObj&&(r.res=a.innerHTML,""!=r.res&&(r.res=_escapeInline(r.res,"script"),r.res=_escapeInline(r.res,'style type="text/acss"')),_setHTMLVars({res:r.res}),_handleEvents({obj:r.obj,evType:"afterLoadAsAjax",eve:r.e,otherObj:r,varScope:r.varScope,evScope:r.evScope,compDoc:r.compDoc,component:r.component,_maEvCo:r._maEvCo}));else{r.actVal}},_a.LoadConfig=r=>{r.actVal=r.actVal._ACSSRepQuo(),_addActValRaw(r),configArr.includes(r.avRaw)?_handleEvents({obj:r.obj,evType:"afterLoadConfig",eve:r.e,varScope:r.varScope,evScope:r.evScope,compDoc:r.compDoc,component:r.component,_maEvCo:r._maEvCo}):(r.file=r.actVal,_getFile(r.actVal,"txt",r))},_a.LoadImages=r=>{let a=r.actVal;r.doc.querySelectorAll("img["+a+"], picture source["+a+"]").forEach((function(r,n){let s="IMG"==r.tagName?"src":"srcset";r.setAttribute(s,r.getAttribute(a)),r.removeAttribute(a)}))},_a.LoadScript=(r,a)=>{let n=r.actVal._ACSSRepQuo(),s=supportsShadow&&r.compDoc instanceof ShadowRoot,c=("style"==a&&s?r.varScope+"|":"")+_getBaseURL(n);if(!scriptTrack.includes(c)){let i="style"==a?"link":"script",l="style"==a?"href":"src",p=document.createElement(i);"style"==a&&(p.rel="stylesheet"),p[l]=n;let d="afterLoad"+("style"==a?"Style":"Script");p.onload=function(){_handleEvents({obj:r.obj,evType:d,eve:r.e,varScope:r.varScope,evScope:r.evScope,compDoc:r.compDoc,component:r.component,_maEvCo:r._maEvCo}),_syncRestart(r,r._subEvCo)},p.onerror=function(){_syncEmpty(r._subEvCo),_handleEvents({obj:r.obj,evType:d+"Error",eve:r.e,varScope:r.varScope,evScope:r.evScope,compDoc:r.compDoc,component:r.component,_maEvCo:r._maEvCo})},s?r.compDoc.appendChild(p):document.head.appendChild(p),scriptTrack.push(c)}},_a.LoadStyle=r=>{_a.LoadScript(r,"style")},_a.Location=r=>{let a=r.actVal._ACSSRepQuo();r.doc.contentWindow?r.doc.contentWindow.document.location.href=a:document.location.href=a},_a.MediaControl=r=>{if(!_isConnected(r.secSelObj))return!1;let a=r.secSelObj,n=r.actVal.split(" ");if(n[1])switch(n[1]=n[1]._ACSSRepQuo(),n[0]){case"load":a.setAttribute("src",n[1]);break;case"seek":a.currentTime=parseFloat(n[1]);break;case"volume":a.volume=parseFloat(n[1])}switch(n[0]){case"play":a.play();break;case"pause":a.pause();break;case"load":a.load()}},_a.MimicInto=r=>{if(!_isConnected(r.secSelObj))return!1;let a,n,s,c,i;if(a=r.secSelObj,"title"==r.actVal)i="title",n="title",s=currDocTitle;else{if(i=_getSel(r,r.actVal),!i)return;n="INPUT"==i.tagName||"TEXTAREA"==i.tagName?"input":"text"}c=_getFieldValType(a),"title"!=r.actVal&&(s=a[c]);var l,p=0,d=r.secSelObj.form||r.secSelObj.closest("form");switch(d&&(d.cjsReset||(d.cjsReset=[],d.addEventListener("reset",_mimicReset)),"title"==n?d.cjsReset.title||(d.cjsReset.title=a.getAttribute("value")):a.activeResetValueSet||(p=d.cjsReset.length,d.cjsReset[p]={},d.cjsReset[p].el=i,d.cjsReset[p].value=s,d.cjsReset[p].type=n,a.activeResetValueSet=!0)),l=r.secSelObj[c],n){case"input":i.value=l;break;case"text":i.innerText=l;break;case"title":_setDocTitle(l)}},_a.PreventDefault=r=>{r.e&&r.e.preventDefault&&r.e.preventDefault()},_a.Print=r=>{if("window"==r.actVal)window.print();else if("parent"==r.actVal)parent.print();else{let a=_getSel(r,r.actVal);a?"IFRAME"==a.tagName?a.contentWindow.print():_err("Printing cannot occur because element is not an iframe: "+r.actVal):_err("Printing cannot occur if iframe does not exist: "+r.actVal)}},_a.Remove=r=>{let a=_getSels(r,r.actVal);if(!a)return!1;a.forEach((function(r){ActiveCSS._removeObj(r)}))},_a.RemoveAttribute=r=>{if(!_isConnected(r.secSelObj))return!1;r.secSelObj.removeAttribute(r.actVal)},_a.RemoveClass=r=>!!_isConnected(r.secSelObj)&&(ActiveCSS._removeClassObj(r.secSelObj,r.actVal),!0),_a.RemoveClone=r=>{let a=_getSel(r,r.actVal),n=_getActiveID(a);n&&(mimicClones[n]=null)},_a.RemoveCookie=r=>{let a,n,s,c,i=r.actVal._ACSSRepAllQuo();a=encodeURIComponent(_getParVal(i,"name")),n=_getParVal(i,"domain"),s=_getParVal(i,"path"),c=a+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT;",c+=n?` domain=${n};`:"",c+=s?` path=${s};`:"",document.cookie=c},_a.RemoveHash=r=>{r._removeHash=!0,_a.UrlChange(r)},_a.RemoveProperty=r=>{if(!_isConnected(r.secSelObj))return!1;r.secSelObj.style.removeProperty(r.actVal)},_a.Render=r=>{if(!_isConnected(r.secSelObj))return!1;let a=_handleQuoAjax(r,r.actVal),n="",s="";if(r.secSelObj.nodeType===Node.ELEMENT_NODE){let c=r.secSelObj.cloneNode(!0);-1!==a.indexOf("{$SELF}")&&(n=c.outerHTML,r.renderPos="replace");let i=r.secSelObj.tagName.toUpperCase();customTags.includes(i)&&(s=c.innerHTML)}let c=_handleVars(["strings"],{str:a,o:r.ajaxObj});if(a=_resolveVars(c.str,c.ref),a=_replaceComponents(r,a),r.event.startsWith("__midComponentOpen_")&&"&"===r.origSecSel){r.renderPos&&_err('"render" is the only render command that is allowed in a component\'s HTML block event flow.');let n=r.event.substring(r.event.lastIndexOf("_")+1);compInnerEvResMap["res_"+n]=(compInnerEvResMap["res_"+n]||"")+a}else _renderIt(r,a,s,n)},_a.RenderAfterBegin=r=>{if(!_isConnected(r.secSelObj))return!1;r.renderPos="afterbegin",_a.Render(r)},_a.RenderAfterEnd=r=>{if(!_isConnected(r.secSelObj))return!1;r.renderPos="afterend",_a.Render(r)},_a.RenderBeforeBegin=r=>{if(!_isConnected(r.secSelObj))return!1;r.renderPos="beforebegin",_a.Render(r)},_a.RenderBeforeEnd=r=>{if(!_isConnected(r.secSelObj))return!1;r.renderPos="beforeend",_a.Render(r)},_a.RenderReplace=r=>{if(!_isConnected(r.secSelObj))return!1;r.renderPos="replace",_a.Render(r)},_a.RestoreClone=r=>{if(!_isConnected(r.secSelObj))return!1;let a=_getSel(r,r.actVal),n=_getActiveID(a);if(mimicClones[n])if("IFRAME"==a.tagName){if("complete"!=a.contentWindow.document.readyState)return!1;setTimeout((function(){a.contentWindow.document.body=mimicClones[n]}),0)}else setTimeout((function(){let s=a.parentNode;s.replaceChild(mimicClones[n],a),_a.Trigger({secSel:"",actVal:"draw",secSelObj:s,ajaxObj:r.ajaxObj,e:r.el||null})}),0)},_a.Run=r=>{_run(r.actVal,r.varScope,r)},_a.ScrollIntoView=r=>{if(!_isConnected(r.secSelObj))return!1;let a=r.actVal.split(" "),n="start",s="nearest",c=_optDef(a,"behaviour-smooth","smooth","auto");"true"==r.actVal||"false"==r.actVal&&(n="end"),n=_optDef(a,"block-center","center",n),n=_optDef(a,"block-end","end",n),n=_optDef(a,"block-nearest","nearest",n),s=_optDef(a,"inline-center","center",s),s=_optDef(a,"inline-end","end",s),s=_optDef(a,"inline-nearest","nearest",s);try{r.secSelObj.scrollIntoView({behaviour:c,block:n,inline:s})}catch(a){r.secSelObj.scrollIntoView({behaviour:c,inline:s})}},_a.ScrollX=r=>{if(!_isConnected(r.secSelObj))return!1;if("body"==r.origSecSel)"left"==r.actVal?window.scrollTo({left:0}):"right"==r.actVal?window.scrollTo({left:1e7}):window.scrollTo({left:r.actVal});else{let a=r.secSelObj;"left"==r.actVal?a.scrollLeft=0:"right"==r.actVal?a.scrollLeft=1e7:a.scrollLeft=r.actVal}},_a.ScrollY=r=>{if(!_isConnected(r.secSelObj))return!1;if("body"==r.origSecSel)"top"==r.actVal?window.scrollTo({top:0}):"bottom"==r.actVal?window.scrollTo({top:1e7}):window.scrollTo({top:r.actVal});else{let a=r.secSelObj;a&&("top"==r.actVal?a.scrollTop=0:"bottom"==r.actVal?a.scrollTop=a.scrollHeight:a.scrollTop=r.actVal)}},_a.SelectAll=r=>{requestAnimationFrame(()=>document.execCommand("selectAll"))},_a.SelectNone=r=>{getSelection().removeAllRanges()},_a.SetAttribute=r=>{if(!_isConnected(r.secSelObj))return!1;let a=!1,n=r.actVal;n.endsWith(" html-entity-decode")&&(a=!0,n=n.substr(0,n.length-19).trim());let s=n.split(" "),c=s.shift(),i=s.join(" ")._ACSSRepQuo(),l=a?_unHtmlEntities(i):i;"SetProperty"==r.func?r.secSelObj[c]="true"==l||"false"!=l&&l:r.secSelObj.setAttribute(c,l)},_a.SetClass=r=>{if(!_isConnected(r.secSelObj))return!1;let a=r.actVal.replace(/\./g,"")._ACSSRepQuo();_setClassObj(r.secSelObj,a)},_a.SetCookie=r=>{let a,n,s,c,i,l,p,d,u,_,f=r.actVal;if(f=f.replace(/\\\"/g,"_ACSS_escaped_quote"),f=f._ACSSSpaceQuoIn(),f=f.replace(/_ACSS_escaped_quote/g,'\\"'),a=encodeURIComponent(_getParVal(f,"name")._ACSSRepQuo()),n=encodeURIComponent(_getParVal(f,"value")._ACSSSpaceQuoOut()._ACSSRepQuo()),s=_getParVal(f,"expires")._ACSSSpaceQuoOut()._ACSSRepQuo(),"Infinity"==s)s="Fri, 31 Dec 9999 23:59:59 GMT";else{let r=_getPastFutureDate(s);s=r instanceof Date?r.toUTCString():s}c=_getParVal(f,"maxAge")._ACSSRepQuo(),c&&(DIGITREGEX.test(c)||_warn("set-cookie maxAge is not a number",r)),i=_getParVal(f,"domain")._ACSSRepQuo(),l=_getParVal(f,"path")._ACSSRepQuo(),_=_getParVal(f,"sameSite")._ACSSCapitalize()._ACSSRepQuo();let m=f.split(" ");p=_optDef(m,"httponly",!0,!1),u=_optDef(m,"secureIfHttps",!0,!1),d=u?"https:"==window.location.protocol:_optDef(m,"secure",!0,!1);let S=`${a}=${n};`;S+=s?` Expires=${s};`:"",S+=c?` Max-Age=${c};`:"",S+=i?` Domain=${i};`:"",S+=l?` Path=${l};`:"",S+=d?" Secure;":"",S+=_?` SameSite=${_};`:"",S+=p?" HttpOnly;":"",S=S._ACSSSpaceQuoOut(),document.cookie=S},_a.SetProperty=r=>{if(!_isConnected(r.secSelObj))return!1;_a.SetAttribute(r),_handleObserveEvents(r.doc)},_a.SlideDown=r=>_slide(r,"down"),_a.SlideUp=r=>_slide(r,"up"),_a.StopEventPropagation=r=>_stopEventPropagation(r);const _stopEventPropagation=r=>{void 0!==maEv[r._maEvCo]&&(maEv[r._maEvCo]._acssStopEventProp=!0)};_a.StopImmediateEventPropagation=r=>_stopImmediateEventPropagation(r);const _stopImmediateEventPropagation=r=>{void 0!==taEv[r._taEvCo]&&(taEv[r._taEvCo]._acssStopImmedEvProp=!0),_stopEventPropagation(r)};_a.StopImmediatePropagation=r=>{r.e&&r.e.stopImmediatePropagation&&r.e.stopImmediatePropagation(),_a.StopImmediateEventPropagation(r)},_a.StopPropagation=r=>{r.e&&r.e.stopPropagation&&r.e.stopPropagation(),_a.StopEventPropagation(r)},_a.Style=r=>{if(!_isConnected(r.secSelObj))return!1;let a=_handleQuoAjax(r,r.actVal).split(" "),n=a.shift();r.secSelObj.style[n]=a.join(" ")},_a.TakeClass=r=>_takeClass(r),_a.ToggleAttribute=r=>{if(!_isConnected(r.secSelObj))return!1;let a=r.actVal.split(" "),n=a[0],s=a[1]?a[1].trim():null;s&&(s="true"===s||"false"!==s&&null),null!==s?r.secSelObj.toggleAttribute(n,s):r.secSelObj.toggleAttribute(n)},_a.ToggleClass=r=>{if(!_isConnected(r.secSelObj))return!1;let a=r.actVal.replace(/\./g,"");_toggleClassObj(r.secSelObj,a)},_a.ToggleTakeClass=r=>_takeClass(r,!0),_a.Trigger=r=>{let a=_clone(r);if("string"==typeof r.secSel&&-1!==r.secSel.indexOf("~")){let n=r.secSel.indexOf(":"),s=-1!==n?r.secSel.substr(n+1):r.secSel;_handleEvents({obj:s,evType:a.actVal,primSel:a.primSel,origO:a,otherObj:a.ajaxObj,eve:r.e,origObj:a.obj,varScope:a.varScope,evScope:a.evScope,compDoc:a.compDoc,component:a.component,_maEvCo:a._maEvCo})}else if("draw"==r.actVal)_runInnerEvent(r,r.secSelObj,"draw");else if("body"==r.origSecSel||"window"==r.origSecSel){_handleEvents({obj:"body",evType:a.actVal,origO:a,compDoc:document});let n=_clone(r);_handleEvents({obj:"window",evType:n.actVal,origO:n,eve:r.e,compDoc:document})}else _handleEvents({obj:a.secSelObj,evType:a.actVal,primSel:a.primSel,origO:a,otherObj:a.ajaxObj,eve:r.e,varScope:a.varScope,evScope:a.evScope,compDoc:a.compDoc,component:a.component,_maEvCo:a._maEvCo})},_a.TriggerFresh=r=>{ActiveCSS.triggerFresh(r.secSelObj,r.actVal)},_a.TriggerReal=r=>{if(!_isConnected(r.secSelObj))return _a.StopPropagation(r),!1;try{r.secSelObj.addEventListener(r.actVal,(function(r){}),{capture:!0,once:!0}),r.secSelObj[r.actVal]()}catch(a){_err("Only DOM events support trigger-real",r)}},_a.UrlChange=r=>{let a=r.actVal;-1!==a.indexOf("remove-last-hash")&&(a=a.replace(/remove\-last\-hash/g,"").trim(),r._removeLastHash=!0);let n=a.split(" ")[0],s=a.replace(n,"").trim();""==s&&(s=document.title),_urlTitle(n,s,r,void 0)},_a.UrlReplace=r=>{r._urlReplace=!0,_a.UrlChange(r)},_a.Var=r=>{let a,n,s,c=r.actValSing;c.endsWith(" session-storage")?(n=!0,c=c.substr(0,c.length-16)):c.endsWith(" local-storage")&&(a=!0,c=c.substr(0,c.length-14));let i=c._ACSSSpaceQuoIn().split(" "),l=i.shift()._ACSSSpaceQuoOut();l.endsWith("[]")&&(s=!0,l=l.slice(0,-2));let p=_handleVars(["rand","expr","attrs","strings"],{str:l,func:r.func,o:r,obj:r.obj,secSelObj:r.secSelObj,varScope:r.varScope});l=_resolveVars(p.str,p.ref);let d=i.join(" ")._ACSSSpaceQuoOut();d||(l.endsWith("++")?(l=l.slice(0,-2),d="{"+l+"}+1"):l.endsWith("--")?(l=l.slice(0,-2),d="{"+l+"}-1"):d="null");let u=_evalVarString(d,r);if("string"==typeof u&&(u=_escNoVars(u)),s){let a=_getScopedVar(l,r.varScope);if(_isArray(a.val)){let r=a.val.length;_set(scopedProxy,a.name+"["+r+"]",u)}else _err("Cannot push value to "+l+" as it is not an array. typeof "+l+' = "'+typeof a.val+'"');return}let _=l,f=l.indexOf("."),m=l.indexOf("[");-1!==f?_=l.substr(0,f):-1!==m&&(_=l.substr(0,m)),n||!0===sessionStoreVars[_]?(sessionStoreVars[_]=!0,l="scopedProxy.session."+l):(a||!0===localStoreVars[_])&&(localStoreVars[_]=!0,l="scopedProxy.local."+l),l=_resolveInnerBracketVars(l,r.varScope),l=_prefixScopedVars(l,r.varScope);let S,g=!1;if(l.toLowerCase().startsWith("window."))g=!0,S=l.substr(7);else if(l.startsWith("scopedProxy."))S=l,S=S.replace("scopedProxy.","");else{S=_getScopedVar(l,r.varScope).name}g?_set(window,S,u):(_set(scopedProxy,S,u),_allowResolve(S))},_a.VarDelete=r=>{let a=_handleVars(["rand","expr","attrs","strings"],{str:r.actValSing,func:r.func,o:r,obj:r.obj,secSelObj:r.secSelObj,varScope:r.varScope}),n=_resolveVars(a.str,a.ref),s=_getScopedVar(n,r.varScope),c=s.winVar?window:scopedProxy;_unset(c,s.name)},ActiveCSS.first=r=>_focusOn({actVal:r},null,!0),ActiveCSS.last=r=>_focusOn({actVal:r},"l",!0),ActiveCSS.next=r=>_focusOn({actVal:r},"n",!0),ActiveCSS.nextCycle=r=>_focusOn({actVal:r},"ncc",!0),ActiveCSS.previous=r=>_focusOn({actVal:r},"p",!0),ActiveCSS.previousCycle=r=>_focusOn({actVal:r},"pcc",!0),ActiveCSS.trigger=(r,a,n,s,c,i,l)=>{if("object"==typeof r){let n=r.hasAttribute("data-active-scoped")?_getComponentDetails(r):_componentDetails(r);_handleEvents({obj:r,evType:a,varScope:n.varScope,evScope:n.evScope,compDoc:n.compDoc,component:n.component,eve:l})}else _a.Trigger({secSel:r,actVal:a,varScope:n,evScope:i,compDoc:s,component:c,eve:l})},ActiveCSS.triggerFresh=(r,a)=>{setTimeout(()=>{let n=r.hasAttribute("data-active-scoped")?_getComponentDetails(r):_componentDetails(r);_handleEvents({obj:r,evType:a,varScope:n.varScope,evScope:n.evScope,compDoc:n.compDoc,component:n.component})},0)},ActiveCSS.triggerReal=(r,a,n,s,c)=>{"string"==typeof r&&(r=document.querySelector(r)),r?_a.TriggerReal({secSelObj:r,actVal:a,varScope:n,compDoc:s,component:c}):_err("No object found in document to triggerReal",o)},_c.IfChecked=r=>_selCompare(r,"iC"),_c.IfCompletelyVisible=r=>ActiveCSS._ifVisible(r,!0),_c.IfCompletelyVisibleX=r=>ActiveCSS._ifVisible(r,!0,"x"),_c.IfCompletelyVisibleY=r=>ActiveCSS._ifVisible(r,!0,"y"),_c.IfCookieEquals=r=>{let a=r.actVal.split(" ");if(!_cookieExists(a[0]))return!1;let n=a[0];return a.shift(),a=a.join(" "),_getCookie(n)==a._ACSSRepQuo()},_c.IfCookieExists=r=>_cookieExists(r.actVal),_c.IfDefined=r=>void 0!==_getScopedVar(r.actVal,r.varScope).val,_c.IfDisplay=r=>{let a=_getSel(r,r.actVal);return a&&"none"!==getComputedStyle(a,null).display},_c.IfEmpty=r=>_selCompare(r,"eM"),_c.IfEmptyTrimmed=r=>_selCompare(r,"eMT"),_c.IfExists=r=>!!_getSel(r,r.actVal),_c.IfFocusFirst=r=>_ifFocus(r),_c.IfFocusLast=r=>_ifFocus(r,!1),_c.IfFormChanged=r=>_checkForm(_getSel(r,r.actVal),"check"),_c.IfFullscreen=r=>document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen,_c.IfFunc=r=>{if("true"==r.actVal)return!0;if("false"==r.actVal)return!1;try{return window[r.actVal](r)}catch(a){_err("Function "+r.actVal+" does not exist",r)}},_c.IfHas=r=>{let a=_extractBracketPars(r.actVal,["scope"],r),n=a.scope?_getSel(r,a.scope.trim()):r.secSelObj;return!(!n||!_isConnected(n))&&!!n.querySelector(a.action)},_c.IfHasClass=r=>{let a=_actValSelItem(r);return a[0]&&ActiveCSS._hasClassObj(a[0],a[1].substr(1))},_c.IfInnerHtml=r=>_selCompare(r,"iH"),_c.IfInnerText=r=>_selCompare(r,"iT"),_c.IfMaxHeight=r=>_selCompare(r,"maH"),_c.IfMaxLength=r=>_selCompare(r,"maL"),_c.IfMaxWidth=r=>_selCompare(r,"maW"),_c.IfMediaMaxWidth=r=>_checkMedia("all and (max-width: "+r.actVal+")"),_c.IfMediaMinWidth=r=>_checkMedia("all and (min-width: "+r.actVal+")"),_c.IfMinHeight=r=>_selCompare(r,"miH"),_c.IfMinLength=r=>_selCompare(r,"miL"),_c.IfMinWidth=r=>_selCompare(r,"miW"),_c.IfScrolltopGreater=r=>"body"==r.obj?(window.pageYOffset||document.documentElement.scrollTop)>r.actVal:r.obj.scrollTop>r.actVal,_c.IfScrolltopLess=r=>"body"==r.obj?(window.pageYOffset||document.documentElement.scrollTop)<r.actVal:r.obj.scrollTop<r.actVal,_c.IfSelection=r=>{let a=window.getSelection();return r.actVal=r.actVal._ACSSRepQuo().trim(),a.toString()==r.actVal},_c.IfValue=r=>_selCompare(r,"iV"),_c.IfVar=r=>{let a,n,s=r.actVal._ACSSSpaceQuoIn().split(" ");n=s.shift(),a=s.join(" ")._ACSSSpaceQuoOut(),a="true"==a||"false"!=a&&a;let c=_getScopedVar(n,r.varScope).val;if("boolean"!=typeof a)if("string"==typeof a&&-1===a.indexOf('"'))if(_isArray(c)){if(""==a)return c.length>0}else{if(""==a)return!!c;a=Number(a._ACSSRepQuo())}else if(_isArray(c))try{a=JSON.stringify(JSON.parse(a)),c=JSON.stringify(c)}catch(r){return!1}else a=a._ACSSRepQuo();return typeof c==typeof a&&c==a},_c.IfVarTrue=r=>(r.actVal+=" true",_c.IfVar(r)),_c.IfVisible=r=>ActiveCSS._ifVisible(r),_c.MqlTrue=r=>mediaQueries[r.actVal].val;const _addCancelAttr=(r,a)=>{let n=_getActiveID(r);cancelIDArr[n]||(cancelIDArr[n]=[]),cancelIDArr[n][a]=!0},_clearTimeouts=r=>{clearTimeout(r),clearInterval(r),_syncEmpty(delaySync[r]),delete delaySync[r]},_delaySplit=(r,a,n)=>{let s,c,i;return s=new RegExp("(?:^| )("+a+' (0|stack|(\\{\\=[\\s\\S]*?\\=\\}|[\\{\\@\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w\\=\\$\\-\\.\\:\\[\\]]+[\\}]?)(s|ms)?))(?=([^"\\\\]*(\\\\.|"([^"\\\\]*\\\\.)*[^"\\\\]*"))*[^"]*$)',"gm"),{str:(r=(r=r.replace(s,(function(r,a,s,i,l){return c=i&&-1!==i.indexOf("{")?_basicOVarEval(i,n,n.func)+(l||""):s,c=_convertToMS(c,"Invalid delay number format: "+a),""}))).replace(/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w\{\}\@\-]+)(?=([^\\]*(\\.|([^\\]*\\.)*[^\\]*"))*[^"]*$)/gm,(function(r,s){i=s.split(" ")[1];let c=_handleVars(["attrs"],{str:i,o:n,obj:n.obj,secSelObj:n.secSelObj,varScope:n.varScope});return i=_resolveVars(c.str,c.ref),"every"==a?"":s}))).trim(),tim:c,lab:i}},_getDelayRef=r=>{let a;return a="string"==typeof r.secSel&&["~","|"].includes(r.secSel.substr(0,1))?(r.evScope?r.evScope:"doc")+r.secSel:_getActiveID(r.secSelObj),a},_removeCancel=(r,a,n,s,c)=>{if(delayArr[r]&&delayArr[r][a]&&delayArr[r][a][n]&&delayArr[r][a][n][s]){let i=delayArr[r][a][n][s][c];if(i&&labelByIDs[i]){let r=labelByIDs[i];labelByIDs.splice(labelByIDs.indexOf[i]),delete labelData[r.lab]}delete delayArr[r][a][n][s][c],delete delaySync[i]}["~","|"].includes(r.substr(0,1))?cancelCustomArr[r]&&cancelCustomArr[r][a]&&cancelCustomArr[r][a][n]&&cancelCustomArr[r][a][n][s]&&delete cancelCustomArr[r][a][n][s][c]:cancelIDArr[r]&&cancelIDArr[r][a]&&delete cancelIDArr[r][a]},_setupLabelData=(r,a,n,s,c,i,l,p)=>{delayArr[a][n][s][c][i]=p,delaySync[p]=l,r&&(labelData[r]={del:a,func:n,pos:s,intID:c,loopRef:i,tid:p},labelByIDs[p]={del:a,func:n,pos:s,intID:c,loopRef:i,lab:r})},_unloadAllCancelTimer=()=>{let r;for(r in delayArr)_unloadAllCancelTimerLoop(r);delayArr=[],cancelIDArr=[],labelData=[],labelByIDs=[]},_unloadAllCancelTimerLoop=r=>{let a,n,s,c;for(a in delayArr[r])for(n in delayArr[r][a])for(s in delayArr[r][a][n])for(c in delayArr[r][a][n][s])_clearTimeouts(delayArr[r][a][n][s][c])},_actionValLoop=(r,a,n,s)=>{_actionValLoopDo(r,a,n,s,0)},_actionValLoopDo=(r,a,n,s,c)=>{let i=_clone(r);i.actVal=a.actVals[c].trim(),i.actPos=c,i.secSelObj=n,i._tgEvCo="i"+targetCounter++,i._tgResPos=i._subEvCo+i._tgEvCo,i._funcObj={oCopy:r,pars:a,obj:n,counter:c,runButElNotThere:s},_handleFunc(i,null,s)},_addInlinePriorToRender=r=>{if(-1!==(r=r.replace(/_ACSS_later_brace_start/g,"{")).indexOf("<style ")&&-1!==r.indexOf('"text/acss"')){let a=document.createElement("div");a.innerHTML=r;let n=a.querySelectorAll('style[type="text/acss"]');n&&_getInline(n),r=a.innerHTML}return r},_checkCond=r=>{let a,n,s,{commandName:c,evType:i,aV:l,el:p,varScope:d,ajaxObj:u,func:_,sel:f,eve:m,doc:S,component:g,compDoc:v,actionBoolState:b}=r,h=_handleVars(["rand","expr","attrs"],{evType:i,str:l,obj:p,varScope:d});for(h=_handleVars(["strings","scoped"],{str:h.str,varScope:d},h.ref),l=_resolveVars(h.str,h.ref),a=l.replace(/_ACSSEscComma/g,",").split("_ACSSComma"),n=a.length,s=0;s<n;s++){let r={func:_,actName:c,secSel:"conditional",secSelObj:p,actVal:a[s].trim(),primSel:f,obj:p,e:m,doc:S,ajaxObj:u,component:g,compDoc:v,varScope:d};if(_c[_](r,scopedProxy,privVarScopes,flyConds,_run)!==b)return!1}return!0},_checkScopeForEv=r=>{let a=compParents[r];return!(!a||!a.evScope||a.evScope==r)&&{compDoc:a.compDoc,topVarScope:a.varScope,evScope:a.evScope,component:a.component?"|"+a.component:null,strictPrivateEvs:a.strictPrivateEvs,privateEvs:a.privateEvs}},_cleanUpAfterPause=r=>{pauseCleanTimers[r]=setTimeout(()=>{delete pauseCleanTimers[r],delete condTrack[r],delete elTrack[r]},5e3)},_cloneAttrs=(r,a)=>{let n,s=Array.prototype.slice.call(a.attributes),c="SELECT"===r.tagName;for(n of s)("href"!=n.nodeName||c)&&("class"==n.nodeName?c?r.className=n.nodeValue:ActiveCSS._addClassObj(r,n.nodeValue):r.getAttribute(n.nodeName)&&!c||r.setAttribute(n.nodeName,n.nodeValue));r.__acssNavSet=1},_deleteIDVars=r=>{delete clickOutsideSels[r],delete idMap[r],delete varInStyleMap[r],delete elObserveTrack[r],delete pauseTrack[r]},_deleteScopeVars=r=>{let a,n=r+".",s=r.substr(1);for(a in delete scopedProxy[r],delete scopedData[r],scopedData)a.startsWith("i"+s+"HOST")&&delete scopedData[a];for(a in delete actualDoms[r],delete compPending[r],delete compParents[r],delete compPrivEvs[r],delete privVarScopes[r],delete strictCompPrivEvs[r],delete strictPrivVarScopes[r],shadowObservers[r]&&shadowObservers[r].disconnect(),delete shadowObservers[r],varMap)a.startsWith(n)&&delete varMap[a];delete varStyleMap[r]},_escapeInline=(r,a)=>{let n=a.split(" ")[0],s=new RegExp("<"+a+"([\\s\\S]*?)>([\\s\\S]*?)</"+n+">","gmi");return r=r.replace(s,(function(r,s,c){return"<"+a+s+">"+c.replace(/\{/g,"_ACSS_later_brace_start")+"</"+n+">"}))},_handleClickOutside=(r,a)=>{let n,s;for(n in clickOutsideSels)if(void 0!==clickOutsideSels[n][0]&&!0===clickOutsideSels[n][0]){if(s=idMap[n],!s||supportsShadow&&r.shadowRoot||r.isSameNode(s))continue;if(!s.contains(r)){let c=_componentDetails(s);if(_handleEvents({obj:s,evType:"clickoutside",eve:a,component:c.component,compDoc:c.compDoc,varScope:c.varScope,evScope:c.evScope,otherObj:r})&&!clickOutsideSels[n][1])return!1}}return!0},_handleCompInnerHTMLEvents=(r,a)=>r.replace(/__acssInnerHTMLEv_([\d]+)__/gi,(function(r,n){a.evType="__midComponentOpen_"+n,_handleEvents(a);let s="";return compInnerEvResMap["res_"+n]&&(s=compInnerEvResMap["res_"+n],delete compInnerEvResMap["res_"+n]),s})),_handleCompIO=r=>{r.forEach(r=>{if(r.isIntersecting){let a=r.target,n=a._acssCompIO;a.removeAttribute("data-pending-visible"),_renderCompDomsDo(n.o,n.obj,n.childTree,n.numTopNodesInRender,n.numTopElementsInRender)}})},_handleDrawScope=r=>{let a=r.obj;compPreRendered.length>0&&_isComponentable(a)&&!a._acssComponent&&compPreRendered.forEach(r=>{a.matches(r.substring(1).replace("%%",":"))&&_renderCompDomsDo({},a,a.children,0,0,r)}),_handleEvents(r)},_handleEvents=r=>{let a,{obj:n,evType:s,onlyCheck:c,otherObj:i,eve:l,afterEv:p,origObj:d,origO:u,runButElNotThere:_,evScope:f,compDoc:m,_maEvCo:S,compInCompArr:g}=r;a=m||document;let v=r.varScope,b=r.component?"|"+r.component:null;if(g=g||[],void 0===s)return!1;if("string"!=typeof n){if(!n)return!1;"draw"==s&&(n._acssDrawn=!0)}if(!selectors[s])return;let h,C,E,y,A,O=[],T=selectors[s].length,x={compDoc:m,topVarScope:v,evScope:f,component:b,strictPrivateEvs:strictCompPrivEvs[f],privateEvs:compPrivEvs[f]},D=x,j=!0;if(y="string"==typeof n?n.substr(1):_getActiveID(n),b&&("string"==typeof n||"draw"!=s&&"observe"!=s||-1===customTags.indexOf(n.tagName)))for(;;){for(h=0;h<T;h++){let r=selectors[s][h];if(E=r.indexOf(":"),!(r.substr(0,E)!==x.component&&-1===g.indexOf(r.substr(0,E))||(C=r.substr(E+1),"string"!=typeof n&&"~"==C.substr(0,1)||(p&&d&&(C=_replaceEventVars(C,d)),-1!==C.indexOf("<")||O.includes(r)))))if("&"==C)O.push({primSel:r,componentRefs:x});else if("string"!=typeof n)try{n.matches(C)?O.push({primSel:r,componentRefs:x}):(g.push(x.component),_setUpForObserve(y,"i"+r,0),elObserveTrack[y]["i"+r][0].ran=!1)}catch(r){_warn(C+" is not a valid CSS selector, skipping. (err: "+r+")")}else n==C&&O.push({primSel:r,componentRefs:x})}if(x.strictPrivateEvs||-1!==["beforeComponentOpen","componentOpen"].indexOf(s)||s.startsWith("__midComponentOpen"))j=!1;else if(x=_checkScopeForEv(x.evScope),!1!==x)continue;break}if(j)for(x=!1!==x&&x.compDoc?D:{compDoc:null,topVarScope:null,evScope:null,component:null,strictPrivateEvs:null,privateEvs:null},h=0;h<T;h++){let r=selectors[s][h];if("|"!=r.substr(0,1)&&("string"==typeof n||"~"!=r.substr(0,1))&&(C=p&&d?_replaceEventVars(r,d):r,-1===C.indexOf("<")&&!O.includes(r)))if("string"!=typeof n)try{n.matches(C)?O.push({primSel:r,componentRefs:x}):(_setUpForObserve(y,"i"+r,0),elObserveTrack[y]["i"+r][0].ran=!1)}catch(r){_warn(C+" is not a valid CSS selector, skipping. (err: "+r+")")}else n==C&&O.push({primSel:r,componentRefs:x})}"string"==typeof n&&(n=d||n),y||(y=n),T=O.length;let V,w,I=0,P=[];for(A=0;A<T;A++){let r=O[A].primSel,{compDoc:p,topVarScope:d,evScope:u,component:_}=O[A].componentRefs;if(_=_?_.substr(1):null,config[r]&&config[r][s]){if(c)return!0;for(w in config[r][s]){I++;let c={el:n,sel:A,clause:w,evType:s,ajaxObj:i,doc:a,varScope:d,component:_,eve:l,compDoc:p},u=!0;"0"!=w&&(u=_passesConditional(c)),"observe"==s&&("0"==w&&"string"==typeof n&&"~"==r.substr(0,1)&&_err("Cannot run an observe event on a custom selector that has no conditional: "+r+":observe"),_setUpForObserve(y,"i"+r,w),u||(elObserveTrack[y]["i"+r][w].ran=!1)),u&&(P[I]=w)}}}I=0;e:for(A=0;A<T;A++){let a=O[A].primSel,{compDoc:c,topVarScope:p,evScope:d,component:f}=O[A].componentRefs;if(f=f?f.substr(1):null,config[a]&&config[a][s]){let m="i"+a;for(w in config[a][s]){if(I++,subEventCounter++,V="","0"!=w){if(void 0===P[I])continue;V=P[I]}if("observe"==s){if(!0===elObserveTrack[y][m][w].ran)continue;elObserveTrack[y][m][w].ran=!0}let g={primSel:a,chilsObj:config[a][s][w],obj:n,compDoc:c,evType:s,varScope:p,evScope:d,evObj:r,otherObj:i,origO:u,passCond:V,component:f,eve:l,_maEvCo:S,_subEvCo:"i"+subEventCounter,runButElNotThere:_},v=_clone(g);if(g.origLoopObj=v,!1===_performEvent(g))break e}}}return!0},_handleFunc=function(r,a=null,n=!1){let s=_isSyncQueueSet(r._subEvCo);r.isAsync=-1!==ASYNCCOMMANDS.indexOf(r.func),r.isTimed=r.actVal.match(TIMEDREGEX);let c,i=-1!==CONTROLCOMM.indexOf(r.func);if(n=r.elNotThere||n,!i){if(_syncStore(r,a,s,n))return;_syncCheckAndSet(r,s)}if("Pause"==r.func){r.actValSing=ActiveCSS._sortOutFlowEscapeChars(r.actVal).trim();let a=_handleVars(["rand","expr","attrs","strings","scoped"],{str:r.actValSing,func:r.func,o:r,obj:r.obj,secSelObj:r.secSelObj,varScope:r.varScope});return r.actVal=_resolveVars(a.str,a.ref,r.func),void _pauseHandler(r)}if(c="string"==typeof r.secSel&&["~","|"].includes(r.secSel.substr(0,1))?(r.evScope?r.evScope:"doc")+r.secSel:_getActiveID(r.secSelObj),r.isTimed){let a,s,i,l=_clone(r),p=["after","every"];for(a of p)if(s=_delaySplit(l.actVal,a,r),i=r.evScope?r.evScope:"main",s.lab&&(s.lab=i+s.lab),"number"==typeof s.tim&&s.tim>=0){if(l.actVal=s.str,l.actValSing=l.actVal,delayArr[c]=void 0!==delayArr[c]?delayArr[c]:[],delayArr[c][l.func]=void 0!==delayArr[c][l.func]?delayArr[c][l.func]:[],delayArr[c][l.func][l.actPos]=void 0!==delayArr[c][l.func][l.actPos]?delayArr[c][l.func][l.actPos]:[],delayArr[c][l.func][l.actPos][l.intID]=void 0!==delayArr[c][l.func][l.actPos][l.intID]?delayArr[c][l.func][l.actPos][l.intID]:[],delayArr[c][l.func][l.actPos][l.intID][l.loopRef]&&(_clearTimeouts(delayArr[c][l.func][l.actPos][l.intID][l.loopRef]),_removeCancel(c,l.func,l.actPos,l.intID,l.loopRef)),l.delayed=!0,"after"==a)return _setupLabelData(s.lab,c,l.func,l.actPos,l.intID,l.loopRef,r._subEvCo,setTimeout(_handleFunc.bind(this,l,c,n),s.tim)),void _nextFunc(r);l.interval=!0,l.origActValSing=l.actValSing,_setupLabelData(s.lab,c,l.func,l.actPos,l.intID,l.loopRef,r._subEvCo,setInterval(_handleFunc.bind(this,l,c,n),s.tim)),r.interval=!0,r.actValSing=s.str}}else r.actValSing=r.actVal;if(-1!==r.actValSing.indexOf(" label ")&&(r.actValSing=r.actValSing.replace(LABELREGEX,"")),"string"==typeof r.secSel&&["~","|"].includes(r.secSel.substr(0,1))&&cancelCustomArr[c]&&cancelCustomArr[c][r.func]&&cancelCustomArr[c][r.func][r.actPos]&&cancelCustomArr[c][r.func][r.actPos][r.intID]&&cancelCustomArr[c][r.func][r.actPos][r.intID][r.loopRef])return _removeCancel(c,r.func,r.actPos,r.intID,r.loopRef),void _nextFunc(r);if(r.delayed&&cancelIDArr[c]&&cancelIDArr[c][r.func])return void _nextFunc(r);r.actValSing=ActiveCSS._sortOutFlowEscapeChars(r.actValSing).trim();let l="function"==typeof _a[r.func];if(r.isCSSCommand=!(l||r.isDollarVar),-1!==["Var","VarDelete","Func","ConsoleLog"].indexOf(r.func)||r.isDollarVar)r.actValSing=_unEscNoVars(r.actValSing.replace(/__ACSS_int_com/g,","));else if(-1!==["Run","Eval"].indexOf(r.func))r.actVal=_unEscNoVars(r.actValSing);else{let a=_handleVars(["rand",["CreateCommand","CreateConditional"].includes(r.func)?null:"expr","attrs","strings","scoped"],{str:r.actValSing,func:r.func,o:r,obj:r.obj,secSelObj:r.secSelObj,varScope:r.varScope});r.actVal=_resolveVars(a.str,a.ref,r.func),r.func.startsWith("Render")||(r.actVal=_unEscNoVars(r.actVal)),a=_handleVars(["attrs"],{str:r.actVal,func:r.func,o:r,obj:r.obj,secSelObj:r.secSelObj,varScope:r.varScope}),r.actVal=_resolveVars(a.str,a.ref,r.func)}if(r.actVal=r.actVal.replace(/_ACSS_later_escbrace_start/gm,"{"),r.actVal=r.actVal.replace(/_ACSS_later_escbrace_end/gm,"}"),(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput(r),!r.isCSSCommand){let a=r.varScope&&privVarScopes[r.varScope]?r.varScope:"main";r.vars=scopedProxy[a]}l?_a[r.func](r,scopedProxy,privVarScopes,flyCommands,_run):r.isDollarVar?_setACSSVariable(r):r.func.startsWith("--")?_setCSSVariable(r):_setCSSProperty(r),r.interval?(r.actVal=r.origActValSing,r.actValSing=r.actVal):!r.interval&&a&&_removeCancel(c,r.func,r.actPos,r.intID,r.loopRef),i||r.isAsync||!r.isAwait||!_isSyncQueueSet(r._subEvCo)?_nextFunc(r):_syncRestart(r,r._subEvCo)},_handleObserveEvents=r=>{_isDOMObj(r)||(r=document),observeMidDom.find(a=>a.isSameNode(r))||(observeMidDom.push(r),setTimeout(()=>{let a,n,s,c,i="observe";if(!selectors[i])return;let l=selectors[i].length;for(a=0;a<l;a++)if(n=selectors[i][a],s=n.indexOf(":"),c=n.substr(s+1),"~"==c.substr(0,1))_handleEvents({obj:c,evType:i});else{let a,s="|"==n.substr(0,1)?c:n;r.querySelectorAll(s).forEach(r=>{r===document.body?_handleEvents({obj:r,evType:i}):(a=_componentDetails(r),_handleEvents({obj:r,evType:i,component:a.component,compDoc:a.compDoc,varScope:a.varScope,evScope:a.evScope}))})}let p=observeMidDom.findIndex(a=>a.isSameNode(r));observeMidDom.splice(p,1)},0))},_handleShadowSpecialEvents=r=>_handleObserveEvents(r),_handleSpaPop=(r,a)=>{let n,s,c,i,l,p,d=!1,u="",_=!1;if((a||!a&&!r.state)&&(p=!0),hashEventTrigger=!1,n=window.location,s=p?n.href:r.state.url,"file:"==n.protocol){if(c=s,""!=n.hash){l=n.hash.substr(1);let r=l.indexOf("#");-1!==r&&(u=l.substr(r),l=l.substr(0,r),_=!0)}else l="/";i=_getPageFromList(l),d=!0}else{if(p){let r=new URL(s);c=r.pathname+r.search,i=_getPageFromList(c)}else i=r.state,c=r.state.url;u=n.hash}_setHashEvent(u);let f={url:c};i&&(f.attrs=i.attrs),p&&(window.history.replaceState(f,document.title,s),_setUnderPage()),d&&(f.attrs+=' href="'+l+'"'),p&&hashEventTrigger&&!_&&_trigHashState(r);let m=document.querySelector("#data-acss-route");if((!a||a&&(hashEventTrigger||d)&&"#/"!=window.location.href.slice(-2)&&(d||!d&&currUnderPage!=window.location.pathname+window.location.search))&&m&&f.attrs)m.removeChild(m.firstChild),m.insertAdjacentHTML("beforeend","<a "+f.attrs+">"),ActiveCSS.trigger(m.firstChild,"click",null,null,null,null,r),_trigHashState(r);else if(!f.attrs)try{new URL(s).href!=s&&(window.location.href=s)}catch(r){}},_handleVarsInJS=function(r,a){let n={},s={},c=!1;return r=r.replace(/[\s]*vars[\s]*([\u00BF-\u1FFF\u2C00-\uD7FF\w\, \$]+)[\s]*\;/gi,(function(r,i){let l,p,d=i.split(",");d=[...new Set(d)];for(l of(c=!0,d)){l=l.trim();let r=l.startsWith("$")?"(\\B)":"(\\b)",c=l.endsWith("$")?"(\\B)":"(\\b)",i=l.replace(/\$/gm,"\\$");n[r+"("+i+")"+c]="",p=_getScopedVar(l,a),s[l]=p.fullName}return""})),c&&(r=(r=r.replace(/\\"/g,"cjs_tmp-dq")).replace(/\\'/g,"cjs_tmp-sq"),r=(r=(r=(r=ActiveCSS._mapRegexReturn(n,r,s,!0)).replace(/(["|'][\s\S]*?["|'])/gim,(function(r,a){return a.replace(/scopedProxy\.[\u00BF-\u1FFF\u2C00-\uD7FF\w\$]+\./g,"")}))).replace(/cjs_tmp\-dq"/g,'\\"')).replace(/cjs_tmp\-sq/g,"\\'")),r},_mainEventLoop=(r,a,n,s,c)=>{if("cause-js-elements-ext"==a.target.id)return;let i,l,p=a.target==self||a.target.body;if("click"!=r&&p)return _handleEvents({obj:"body",evType:r,eve:a}),void _handleEvents({obj:"window",evType:r,eve:a});if(a.primSel)i=a.secSelObj;else{if("click"==r&&0!==a.button)return;i=a.target}if("click"==r&&"bypass"!=a.primSel&&clickOutsideSet&&!_handleClickOutside(i,a))return a.primSel||a.preventDefault(),!1;l=_composedPath(a);let d=++mainEventCounter;maEv[d]={};let u=l[0];if(_getRootNode(u).isSameNode(document)||a.target.isSameNode(u)){let n,s=!1,c=!1,u=[];for(i of l)if(1===i.nodeType){if(n=_componentDetails(i),c&&n.evScope!=c){maEv[d]._acssStopEventProp=!0;break}if(s||(1!==i.__acssNavSet&&"mouseover"==r&&!p&&"A"==i.tagName||1!==i.__acssNavSet&&"click"==r&&"A"==i.tagName||"change"==r&&"SELECT"==i.tagName)&&(_setUpNavAttrs(i,i.tagName),s=!0),i.__acssNavHash&&("click"==r&&"A"==i.tagName||"change"==r&&"SELECT"==i.tagName)&&(_setHashEvent(i.__acssNavHash),i.__acssFromLink=!0),_handleEvents({obj:i,evType:r,eve:a,component:n.component,compDoc:n.compDoc,varScope:n.varScope,evScope:n.evScope,_maEvCo:d,compInCompArr:u}),!i||!a.bubbles||"BODY"==i.tagName||maEv[d]._acssStopEventProp)break;n.strictPrivateEvs&&(c=n.evScope)}!maEv[d]._acssStopEventProp&&document.parentNode&&_handleEvents({obj:window.frameElement,evType:r,eve:a})}setTimeout((function(){delete maEv[d]}),1e4)},_nextFunc=r=>{let a=r.actPos+1;if(a<r._funcObj.pars.actValsLen){let n=_clone(r._funcObj.oCopy),s=_clone(r._funcObj.pars);_actionValLoopDo(n,s,r._funcObj.obj,r._funcObj.runButElNotThere,a)}};ActiveCSS._nodeMutations=function(r,a,n=document,s=!1){if("attributes"==r[0].type&&"data-activeid"==r[0].attributeName)return;selectors.observe&&_handleObserveEvents(n);r.forEach(r=>{const a=r.type,n=r.target,c=r.addedNodes,i=r.removedNodes;if(DEVCORE)if("childList"==a)c&&c.forEach(r=>{r instanceof HTMLElement&&(!_isACSSStyleTag(r)||r._acssActiveID||_isInlineLoaded(r)?s||r.querySelectorAll('style[type="text/acss"]').forEach((function(a,n){r._acssActiveID||_isInlineLoaded(r)||_regenConfig(a,"addDevTools")})):_regenConfig(r,"addDevTools"))});else if("characterData"==a&&!s){let r=n;r.nodeType==Node.TEXT_NODE&&_isACSSStyleTag(r.parentElement)&&setTimeout((function(){let a=r.parentElement,n='<style type="text/acss">'+a.innerText+"</style>";_regenConfig(a,"remove"),a.insertAdjacentHTML("beforebegin",n),a.type="text/dummy",a.remove()}),0)}if(i&&i.forEach(r=>{r instanceof HTMLElement&&setTimeout((function(){let a=r._acssActiveID;a&&(_deleteIDVars(a),_deleteScopeVars("_"+a.substr(3))),_recursiveScopeCleanUp(r)}),0)}),selectors.innerhtmlchange&&_isConnected(n)&&("characterData"==a||"childList"==a&&(c.length||i.length))){let r;n.nodeType===Node.TEXT_NODE?r=n.parentElement:(r=n,r.querySelectorAll("*:not(template *)").forEach((function(r){_handleEvents({obj:r,evType:"innerhtmlchange"})}))),ActiveCSS._theEventFunction({type:"innerhtmlchange",target:r,bubbles:!0})}})};const _passesConditional=r=>{let a,n,s,{el:c,sel:i,clause:l,evType:p,ajaxObj:d,doc:u,varScope:_,component:f,eve:m,compDoc:S}=r;l=l.replace(/(\(.*?\)|\{.*?\})/g,(function(r){return r.replace(/ /g,"_ACSSspace").replace(/,/g,"_ACSSEscComma")}));let g,v,b=l.split(/ (?![^\(\[]*[\]\)])/),h=!0;for(g of b){g=g.replace(/_ACSSspace/g," ").replace(/__ACSSDBQuote/g,'"');let r=g.indexOf("(");if(-1===r&&_condDefSelf(g)&&(r=g.length,g+="(self)"),-1===r){if(f&&(g="|"+f+"|"+g,void 0===conditionals[g])){let r=g.substr(f.length+2);_err("Conditional "+r+" not found in config for component "+f)}if(v=conditionals[g],v){for(a in v)if(v.hasOwnProperty(a)&&(n=v[a],"!"==n.name.substr(0,1)?(h=!1,s=n.name.substr(1)):(h=!0,s=n.name),s=s._ACSSConvFunc(),_isCond(s))){let r=n.value.replace(/"[^"]*"|(\,)/g,(function(r,a){return a?"_ACSSComma":r}));if(!_checkCond({commandName:n.name,evType:p,aV:r,el:c,varScope:_,ajaxObj:d,func:s,sel:i,eve:m,doc:u,component:f,compDoc:S,actionBoolState:h}))return!1}}else _err("Conditional "+g+" not found in config for document scope.")}else{let a=g.substr(0,r);if(h=!1,"not-"==a.substr(0,4)?s=a.substr(4):"!"==a.substr(0,1)?s=a.substr(1):(h=!0,s=a),s=s._ACSSConvFunc(),_isCond(s)){let n=g.slice(r+1,-1).trim().replace(/"[^"]*"|(\,)/g,(function(r,a){return a?"_ACSSComma":r})),l=_handleVars(["rand","expr","attrs","scoped","html"],{str:n,func:"Var",obj:c,secSelObj:c,varScope:_});if(n=_resolveVars(l.str,l.ref),!_checkCond({commandName:a,evType:p,aV:n,el:c,varScope:_,ajaxObj:d,func:s,sel:i,eve:m,doc:u,component:f,compDoc:S,actionBoolState:h}))return!1}}}return!0},_performAction=(r,a=!1)=>r.doc.readyState&&"complete"!=r.doc.readyState?(setTimeout(_performAction.bind(this,r),200),!1):_performActionDo(r,null,a),_performActionDo=(r,a=null,n=!1)=>{let{_imStCo:s,secSelEls:c}=r;if(!r.secSel&&!n)return;let i=r.actVal;r.isDollarVar=r.func.startsWith("$")||r.func.startsWith("Window.$");let l,p,d="Transition"==r.func,u=r.isDollarVar||d;u||-1===r.actVal.indexOf(",")||(i=i.replace(/\(.*?\)/g,(function(r,a){return r.replace(/,/g,"_ACSStmpcomma_")})),i=i.replace(/"[^"]*"|(\,)/g,(function(r,a){return a?"_ACSSComma":r})),i=i.replace(/_ACSStmpcomma_/g,",")),-1!==["Var","VarDelete","Func","ConsoleLog"].indexOf(r.func)&&(i=ActiveCSS._sortOutFlowEscapeChars(i),i=_escCommaBrack(i,r)),p=u?[i]:i.split("_ACSSComma"),l=p.length;let _={loopI:a,actVals:p,actValsLen:l};if("string"!=typeof r.secSel||["~","|"].includes(r.secSel.substr(0,1))){let a=_clone(r);"object"==typeof a.secSel?_actionValLoop(a,_,a.secSel):(n||["~","|"].includes(a.secSel.substr(0,1)))&&_actionValLoop(a,_,{},n)}else{let a=!1;"#"==r.secSel&&_err(r.primSel+" "+r.event+", "+r.actName+': "'+r.origSecSel+'" is being converted to "#". Attribute or variable is not present.');let n=c,s=n.length,i=0;if(!1!==n&&n.forEach(n=>{i++,a=!0;let c=_clone(r);c._elsTotal=s,c._elsCo=i,_actionValLoop(c,_,n)}),!a){if(!0!==r.ranAction)return!1;{let a=_clone(r);_actionValLoop(a,_,{},!0)}}}return!(void 0!==imSt[s]&&imSt[s]._acssImmediateStop||_decrBreakContinue(s,"break")||_decrBreakContinue(s,"continue"))||void 0},_performEvent=r=>{let a=!1,n=_clone(r);if(r=null,!1!==n.chilsObj){let r,s=++immediateStopCounter;imSt[s]={},n._condCo=-1,n._targCo=-1;let c=-1;for(r in n.chilsObj){let i=_clone(n);if(c++,i._subSubEvCo=c,i.fullStatement=r,i.secSelLoops=r,i._imStCo=s,_performSecSel(i),void 0!==maEv[i._maEvCo]&&maEv[i._maEvCo]._acssStopImmedEvProp)return a=!0,!1}delete imSt[s],delete _break["i"+s],_cleanUpAfterPause(n._subEvCo,n.obj._acssActiveID),_resetContinue(s),_resetExitTarget(s)}},_performSecSel=r=>{let{chilsObj:a,secSelLoops:n,varScope:s,evObj:c}=r,i=r.compDoc||document,l=r.loopRef?r.loopRef:0;s=supportsShadow&&i instanceof ShadowRoot?"_"+i.host._acssActiveID.replace(/id\-/,""):i&&!i.isSameNode(document)&&i.hasAttribute("data-active-scoped")?"_"+i._acssActiveID.replace(/id\-/,""):r.varScope&&c.varScope?c.varScope:null;let p=i._acssInheritEvDoc;targetEventCounter++,taEv[targetEventCounter]={},_performSecSelDo(a[n],r,i,l,s,p,targetEventCounter,0)},_performSecSelDo=(r,a,n,s,c,i,l,p)=>{_performTargetOuter(r,a,n,s,c,i,l,p,0);let d=a._imStCo;if(void 0!==imSt[d]&&imSt[d]._acssImmediateStop||_decrBreakContinue(d,"break")||_decrBreakContinue(d,"continue")||_checkExitTarget(d))return;p++;let u=l;if(r[p]){_performSecSelDo(r,a,n,s,c,i,l,p)}1==p&&setTimeout((function(){delete taEv[u]}),1e4)},_performTarget=(r,a)=>{let n,s,c,{targ:i,obj:l,compDoc:p,evType:d,varScope:u,evScope:_,evObj:f,otherObj:m,origO:S,passCond:g,component:v,primSel:b,secSelEls:h,eve:C,inheritedScope:E,_maEvCo:y,_subEvCo:A,_subSubEvCo:O,_targCo:T,_condCo:x,_imStCo:D,_taEvCo:j,loopRef:V,runButElNotThere:w,passTargSel:I,activeTrackObj:P,targetSelector:R,doc:F,chilsObj:k,origLoopObj:N,ifObj:L}=r;if(!i||void 0!==imSt[D]&&imSt[D]._acssImmediateStop||_decrBreakContinue(D,"break")||_decrBreakContinue(D,"continue")||_checkExitTarget(D)||!1===r.allowMoreActions)return;let M=Object.keys(i)[a];if(void 0===i[M])return;let H=i[M].value,B=i[M].name,U=_checkRunLoop(r,H,B,M,"action");void 0!==imSt[D]&&imSt[D]._acssImmediateStop||_decrBreakContinue(D,"break")||_decrBreakContinue(D,"continue")||_checkExitTarget(D)||(U.atIf||(delete r.previousIfRes,s=B.startsWith("$")?B:B._ACSSConvFunc(),c=H,n={event:d,func:s,actName:B,secSel:I,secSelEls:h,origSecSel:R,actVal:c,origActVal:c,primSel:b,rules:i,obj:l,doc:F,ajaxObj:m,e:C,inheritedScope:E,_maEvCo:y,_subEvCo:A,_subSubEvCo:O,_targCo:T,_condCo:x,_imStCo:D,_taEvCo:j,passCond:g,file:i[M].file,line:i[M].line,intID:i[M].intID,activeID:P,varScope:u,evScope:_,evObj:f,origO:S,compDoc:p,component:v,loopRef:V,evDeclObj:k,ranAction:r.allowMoreActions,runPerm:w,origLoopObj:N,ifObj:L},r.allowMoreActions=_performAction(n,w)),i[++a]&&!1!==r.allowMoreActions&&_performTarget(r,a))},_performTargetOuter=(r,a,n,s,c,i,l,p,d)=>{let u,_,f,{chilsObj:m,secSelLoops:S,obj:g,evType:v,evScope:b,evObj:h,otherObj:C,origO:E,sel:y,passCond:A,component:O,primSel:T,eve:x,_maEvCo:D,_subEvCo:j,_subSubEvCo:V,_targCo:w,_condCo:I,_imStCo:P,runButElNotThere:R,origLoopObj:F}=a,k="";if(a._targCo++,!r[p])return;if(u=Object.keys(r[p])[d],void 0!==taEv[l]&&taEv[l]._acssStopImmedEvProp||_decrBreakContinue(P,"break")||_decrBreakContinue(P,"continue"))return;if("conds"==u)return;if(_checkRunLoop(a,r[p][u],u,l).atIf||void 0!==taEv[l]&&taEv[l]._acssStopImmedEvProp||_decrBreakContinue(P,"break")||_decrBreakContinue(P,"continue"))return;let N,L=u;if(L.endsWith(" parallel")&&(N=!0,L=L.slice(0,-9).trim()),i&&!n.isConnected&&(n=i),MEMAP.includes(L)){-1!==T.indexOf("~")?L=T:"string"==typeof g?L="window"==g?window:"body"==g?document.body:g:(k=_getActiveID(g),L=k?idMap[k]:g),_=n;let a={targ:r[p][u],targetSelector:u,secSelEls:[L],obj:g,compDoc:n,evType:v,varScope:c,evScope:b,evObj:h,otherObj:C,origO:E,passCond:A,component:O,primSel:T,eve:x,inheritedScope:i,_maEvCo:D,_subEvCo:j,_subSubEvCo:V,_targCo:w,_condCo:I,_imStCo:P,_taEvCo:l,loopRef:s,runButElNotThere:R,passTargSel:L,activeTrackObj:k,flowTargetSelector:L,doc:_,chilsObj:m,origLoopObj:F};_performTarget(a,0),_resetExitTarget(P)}else{let a;if(L=_sortOutTargSelectorVars(L,g,c,C),elTrack[j]&&elTrack[j].resArr[s+I+"_"+V+"_"+w]?a=elTrack[j].resArr[s+I+"_"+V+"_"+w]:(a=_getSelector({obj:g,component:O,primSel:T,origO:E,compDoc:n},L,!0),elTrack[j]||(elTrack[j]=[],elTrack[j].resArr=[]),elTrack[j].resArr[s+I+"_"+V+"_"+w]=a),!a.obj)return;_=a.doc,f=L;let d={targ:r[p][u],targetSelector:u,secSelEls:a.obj,obj:g,compDoc:n,evType:v,varScope:c,evScope:b,evObj:h,otherObj:C,origO:E,passCond:A,component:O,primSel:T,eve:x,inheritedScope:i,_maEvCo:D,_subEvCo:j,_subSubEvCo:V,_targCo:w,_condCo:I,_imStCo:P,_taEvCo:l,loopRef:s,runButElNotThere:R,passTargSel:f,activeTrackObj:k,flowTargetSelector:L,chilsObj:m,doc:_,origLoopObj:F};if(N||"string"!=typeof f||["~","|"].includes(f.substr(0,1)))_performTarget(d,0),_resetExitTarget(P);else{let r=a.obj,n=r.length,s=0;r.forEach(r=>{s++,d.passTargSel=r,d._elsTotal=n,d._elsCo=s,_performTarget(d,0),_resetExitTarget(P)})}}d++,r[p][d]&&_performTargetOuter(r,a,n,s,c,i,l,p,d)},_sortOutTargSelectorVars=(r,a,n,s)=>{r=ActiveCSS._sortOutFlowEscapeChars(r);let c=_handleVars(["rand","expr","attrs"],{str:r,obj:a,varScope:n});return c=_handleVars(["strings","scoped"],{obj:null,str:c.str,varScope:n},c.ref),c=_handleVars(["attrs"],{str:c.str,obj:s,varScope:n},c.ref),_resolveVars(c.str,c.ref)},_recursiveScopeCleanUp=r=>{let a;r.querySelectorAll("*").forEach((function(r,n){a=r._acssActiveID,a&&(_deleteIDVars(a),_deleteScopeVars("_"+a.substr(3))),supportsShadow&&r.shadowRoot&&_recursiveScopeCleanUp(r.shadowRoot)}))},_renderCompDoms=(r,a=r.doc,n="",s=0,c=0)=>{a.querySelectorAll("data-acss-component:not([data-pending-visible])").forEach((function(i,l){if(!_isPendingAjaxForComponents(i)){if(i.hasAttribute("data-html-file")||i.hasAttribute("data-css-file")||i.hasAttribute("data-json-file")||i.hasAttribute("data-html-template")||i.hasAttribute("data-css-template")){if(!function(r,a,n,s,c,i,l){let p=!0;return a.forEach(a=>{if(a.endsWith("template")&&r.hasAttribute(a)){let s=_getSelector(n,r.getAttribute(a));if(s.obj){let n=s.obj.cloneNode(!0).innerHTML;_insertResForComponents(r,a,n)}else _warn("Could not find template "+r.getAttribute(a)+' in this scope. If the template tag is in the document scope, prefix with "document ->".')}else{let d=a+"Pending";if(r.classList.contains(d))return;let u="data-"+a+"-file";if(r.hasAttribute(u)){p=!1,r.classList.add(d);let _=unEscQuotes(r.getAttribute(u));r.removeAttribute(u),-1!==_.indexOf(" json ")?_=_.replace(/ json /," html "):-1===_.indexOf(" html ")&&(_+=" html");let f=r.getAttribute("data-name"),m=_handleVars(["rand","expr","attrs","scoped"],{str:_,func:n.func,o:n,obj:n.obj,secSelObj:n.secSelObj,varScope:n.varScope});_=_resolveVars(m.str,m.ref),_a.Ajax({actVal:_,doc:n.doc,renderComp:!0,renderObj:{renderO:n,typ:a,obj:r,compName:f,compDoc:s,childTree:c,numTopNodesInRender:i,numTopElementsInRender:l}})}}}),p}(i,["html","css","json","data-html-template","data-css-template"],r,a,n,s))return}_renderCompDomsDo(r,i,n,s,c)}}))},_renderCompDomsClean=r=>{let a,n;for([a,n]of(delete compPending[r],Object.entries(shadowDoms)))n.isConnected||delete scopedProxy[a]},_renderCompDomsDo=(r,a,n,s,c,i)=>{let l,p,d,u,_,f,m,S,g,v,b,h,C,E,y;if(i?(g=i,l=a):(g=a.getAttribute("data-name"),l=a.parentNode,f=a.getAttribute("data-ref")),u=_componentDetails(l),i&&(r={varScope:u.varScope,doc:u.compDoc}),components[g].renderWhenVisible&&!i)if("IntersectionObserver"in window){if(!l._acssCompIO){l._acssCompIO={};let i=l._acssCompIO;return i.o=r,i.obj=a,i.childTree=n,i.numTopNodesInRender=s,i.numTopElementsInRender=c,a.setAttribute("data-pending-visible",""),void compIO.observe(l)}compIO.unobserve(l),delete l._acssCompIO}else _warn('Browser does not support intersection observer. "render-when-visible" option is being skipped.');if(p=components[g].strictPrivEvs,d=components[g].privEvs,_=components[g].shadow,h=components[g].strictVars,C=components[g].privVars,E=components[g].acceptVars,!i&&!_&&(d||p||C)&&(s>0&&c>1||s>1&&c>0)?(y=document.createElement("acss-scope"),l.replaceChild(y,a),l=y):i||a.remove(),_&&l.shadowRoot)return void(i||_renderCompDomsClean(f));m=_getActiveID(l).replace("id-","_"),void 0===scopedProxy[m]&&(scopedProxy[m]={}),S=m,privVarScopes[m]=!!C;let A=privVarScopes[m]?m:r.varScope?r.varScope:null;if(r.varScope=A,compParents[S]=u,strictCompPrivEvs[S]=p,compPrivEvs[S]=d,i||-1===compPending[f].indexOf("{$CHILDREN}")||(compPending[f]=_renderRefElements(compPending[f],n,"CHILDREN")),strictPrivVarScopes[S]=h,l._acssComponent=g,l._acssVarScope=A,l._acssStrictPrivEvs=p,l._acssPrivEvs=d,l._acssStrictVars=h,l._acssEvScope=S,!i&&void 0!==compPendingJSON[f]){let a=privVarScopes[A]?A:"main";for(const n in compPendingJSON[f]){let s=JSON.parse(compPendingJSON[f][n]);_resolveAjaxVarsDecl({res:s,obj:l,evType:"beforeComponentOpen",eve:r.e,varScope:A,evScope:S,compDoc:void 0,component:g,_maEvCo:r._maEvCo},a)}delete compPendingJSON[f]}if(_handleEvents({obj:l,evType:"beforeComponentOpen",eve:r.e,varScope:A,evScope:S,compDoc:void 0,component:g,_maEvCo:r._maEvCo}),!i){if(E&&(compPending[f]=_resolveComponentAcceptedVars(compPending[f],r,A,l)),void 0!==compPendingHTML[f]){for(const a in compPendingHTML[f]){let n=_resolveComponentAcceptedVars(compPendingHTML[f][a],r,A,l);compPending[f]=compPending[f].replace("_acssIntCompVarRepl"+a+"_",n)}delete compPendingHTML[f]}-1!==compPending[f].indexOf("__acssInnerHTMLEv_")&&(compPending[f]=_handleCompInnerHTMLEvents(compPending[f],{obj:l,eve:r.e,varScope:A,evScope:S,compDoc:void 0,component:g,_maEvCo:r._maEvCo})),compPending[f]=_replaceComponents(r,compPending[f]),compPending[f]=_unEscNoVars(compPending[f]),v=document.createElement("template"),v.innerHTML=compPending[f],_renderCompDomsClean(f)}if(_)try{b=l.attachShadow({mode:components[g].mode}),shadowObservers[S]=new MutationObserver(ActiveCSS._shadowNodeMutations),shadowObservers[S].observe(b,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}catch(a){_err("Error attaching a shadow DOM object. Ensure the shadow DOM has a valid parent *tag*. The error is: "+a,r)}else b=l,b.setAttribute("data-active-scoped",""),b._acssScoped=!0;if(_?l._acssTopEvDoc=b:d||p?l._acssTopEvDoc=l:u.topEvDoc?l._acssTopEvDoc=u.topEvDoc:l._acssTopEvDoc=document,d&&(u.topEvDoc?l._acssInheritEvDoc=u.topEvDoc:l._acssInheritEvDoc=document),shadowDoms[m]=b,actualDoms[m]=_?b:b.getRootNode(),!i){if(_||-1!==r.origActVal.indexOf("|_acss-host_")||d||p||C||!r.renderPos)b.replaceChildren(v.content);else switch(r.renderPos){case"beforebegin":b.before(v.content);break;case"beforeend":b.append(v.content);break;case"afterbegin":b.prepend(v.content);break;case"afterend":b.after(v.content);break;default:return void _warn(r.func+" not supported for component - contact support")}b.querySelectorAll("[data-activeid]").forEach((function(r){_replaceTempActiveID(r)}))}let O=_||p||d?b:r.doc;if(setTimeout((function(){i||_removeVarPlaceholders(b),_handleEvents({obj:l,evType:"componentOpen",eve:r.e,varScope:A,evScope:S,compDoc:O,component:g,_maEvCo:r._maEvCo}),b.querySelectorAll("*:not(template *)").forEach((function(a){_isConnected(a)&&("DATA-ACSS-COMPONENT"!=a.tagName?i||a._acssDrawn||_handleDrawScope({obj:a,evType:"draw",eve:r.e,otherObj:r.ajaxObj,varScope:A,evScope:S,compDoc:O,component:g,_maEvCo:r._maEvCo}):_renderCompDomsDo(r,a))})),i||_&&_runInnerEvent(null,"*:not(template *)","observe",b,!0)}),0),_){let r;if(0==allEvents.length)Object.keys(window).forEach(a=>{/^on/.test(a)&&(r=a.slice(2),allEvents.push(r),_attachListener(b,r,!1,!0))});else for(r of allEvents)_attachListener(b,r,!1,!0);b.addEventListener("input",_handleShadowSpecialEvents),b.addEventListener("click",()=>{setTimeout(_handleShadowSpecialEvents,0)})}},_resolveComponentAcceptedVars=(r,a,n,s)=>{let c=_handleVars(["rand","expr","attrs","scoped"],{str:r,func:a.func,o:a,obj:a.obj,secSelObj:a.secSelObj,varScope:n,shadowParent:s});c=_handleVars(["strings","html"],{str:c.str,varScope:n},c.ref),c=_handleVars(["strings"],{str:c.str,o:a.ajaxObj,varScope:n},c.ref);let i=_resolveVars(c.str,c.ref);return i=i.replace(/\\{/gm,"{").replace(/\\}/gm,"}"),i},_renderIt=(r,a,n,s)=>{let c,i=[];c="IFRAME"==r.secSelObj.tagName;let l=document.createElement("div"),p=[];if(-1!==a.indexOf("<iframe")){let r=_sortOutDynamicIframes(a);a=r.str,p=r.iframes}let d=!1;TABLEREGEX.test(a)&&(d=!0,a=a.replace(/\/tr>/gim,"/acssTrTag>").replace(/\/td>/gim,"/acssTdTag>").replace(/\/table>/gim,"/acssTableTag>").replace(/\/tbody>/gim,"/acssTbodyTag>").replace(/\/th>/gim,"/acssThTag>").replace(/<tr/gim,"<acssTrTag").replace(/<td/gim,"<acssTdTag").replace(/<table/gim,"<acssTableTag").replace(/<tbody/gim,"<acssTbodyTag").replace(/<th/gim,"<acssThTag")),a=_escapeInnerQuotes(a),l.innerHTML=a;let u,_,f,m=l.childElementCount,S=l.childNodes.length;if(l.childNodes.forEach((function(r){r.nodeType===Node.ELEMENT_NODE&&"DATA-ACSS-COMPONENT"!=r.tagName&&(u=_getActiveID(r),i.push(u))})),a=l.innerHTML,d&&(a=a.replace(/acssTrTag/gim,"tr").replace(/acssTdTag/gim,"td").replace(/acssTableTag/gim,"table").replace(/acssTbodyTag/gim,"tbody").replace(/acssThTag/gim,"th")),!r.component){let n=!0;r.renderPos&&!c&&("replace"==r.renderPos?_isACSSStyleTag(r.secSelObj)&&_regenConfig(r.secSelObj,"remove"):n=!1),n&&r.secSelObj.querySelectorAll('style[type="text/acss"]').forEach((function(r,a){_regenConfig(r,"remove")})),a=_addInlinePriorToRender(a)}if(""!=n&&(a=_renderRefElements(a,n,"CHILDREN")),""!=s&&(a=_renderRefElements(a,s,"SELF")),a=_unEscNoVars(a),r.renderPos&&!c?"replace"==r.renderPos?(r.secSelObj.insertAdjacentHTML("beforebegin",a),r.secSelObj.remove()):r.secSelObj.insertAdjacentHTML(r.renderPos,a):r.secSelObj.innerHTML=a,p.length>0&&_resolveDynamicIframes(p,r),c)return;0==i.length&&r.secSelObj.parentNode&&_removeVarPlaceholders(r.secSelObj.parentNode);let g=!1===_checkScopeForEv(r.evScope)?document:r.doc;for(_ of i)f=g.querySelector('[data-activeid="'+_+'"]'),f&&("IFRAME"!=f.tagName&&(_removeVarPlaceholders(f),_replaceTempActiveID(f)),f.querySelectorAll("[data-activeid]").forEach((function(r){"IFRAME"!=r.tagName&&_replaceTempActiveID(r)})),!f||f.shadow||f.scoped||"IFRAME"==f.tagName||(_handleDrawScope({obj:f,evType:"draw",eve:r.e,otherObj:r.ajaxObj,varScope:r.varScope,evScope:r.evScope,compDoc:r.compDoc,component:r.component,_maEvCo:r._maEvCo}),f.querySelectorAll("*:not(template *)").forEach((function(a){a._acssDrawn||-1!==["DATA-ACSS-COMPONENT","IFRAME"].indexOf(a.tagName)||_handleDrawScope({obj:a,evType:"draw",eve:r.e,otherObj:r.ajaxObj,varScope:r.varScope,evScope:r.evScope,compDoc:r.compDoc,component:r.component,_maEvCo:r._maEvCo})}))));_renderCompDoms(r,void 0,n,S,m)},_renderRefElements=(r,a,n)=>{if(-1!==r.indexOf("{$"+n+"}")){let s="CHILDREN"==n?CHILDRENREGEX:SELFREGEX;r=r.replace(s,a)}return r},_replaceEventVars=(r,a)=>{let n=ActiveCSS._sortOutFlowEscapeChars(r),s=_handleVars(["rand","expr","attrs"],{str:n,obj:a});return s=_handleVars(["strings","scoped","html"],{str:s.str},s.ref),_resolveVars(s.str,s.ref)},_replaceHTMLVars=(r,a,n=-1)=>a=a.replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-\:]+)\}/gi,(function(a,s){let c,i,l,p;-1!==s.indexOf(":NOVARS")&&(i=!0,s=s.replace(/\:NOVARS/,"")),-1!==s.indexOf(":ESCAPED")&&(l=!0,s=s.replace(/\:ESCAPED/,"")),-1!==s.indexOf(":UNESCAPED")&&(p=!0,s=s.replace(/\:UNESCAPED/,"")),void 0===r?c=document:s.startsWith("document:")?(s=s.substr(9),c=document):c=_resolveDocObj(r.doc);let d=c.getElementById(s);if(d){let r;switch(d.tagName){case"INPUT":case"TEXTAREA":r=d.value;break;default:r=d.innerHTML}return i&&(r=_escNoVars(r)),l&&(r=_safeTags(r)),p&&(r=_unSafeTags(r)),_preReplaceVar(r,n)}return"{#"+s+"}"})),_replaceIframeEsc=r=>r.replace(/_ACSS_lt/gm,"<").replace(/_ACSS_gt/gm,">"),_resolveDocObj=r=>r.nodeType!==Node.DOCUMENT_NODE?r.getRootNode():r,_resolveDynamicIframes=(r,a)=>{a.doc.querySelectorAll("data-acss-iframe").forEach((function(a){_resolveDynamicIframesDo(a,r)}))},_resolveDynamicIframesDo=(r,a)=>{let n=document.createElement("div"),s=r.getAttribute("data-ref");n.innerHTML=_unEscNoVars(a[s].mainTag);let c=n.firstChild;a[s].innards=_unEscNoVars(a[s].innards),c.srcdoc=a[s].innards,r.parentNode.replaceChild(c,r)},_run=(r,a,n)=>{let s,c='"use strict";'+r.replace(/\{\=([\s\S]*?)\=\}/m,(function(r,n){return s=_handleVarsInJS(n,a),s}));try{return Function("scopedProxy, o, _safeTags, _unSafeTags, _escNoVars, escapeHTML, unEscapeHTML, getVar",c)(scopedProxy,n,_safeTags,_unSafeTags,_escNoVars,escapeHTML,unEscapeHTML,getVar)}catch(r){_err("Function syntax error ("+r+"): "+c,n)}},_runInnerEvent=(r,a,n,s=document,c=!1)=>{let i="draw"==n&&c;if(r=r||{},"string"==typeof a)s.querySelectorAll(a).forEach((function(a){let s={obj:a,evType:n,primSel:r.primSel,origO:r,otherObj:r.ajaxObj,eve:r.e,varScope:r.varScope,evScope:r.evScope,compDoc:r.compDoc,component:r.component,_maEvCo:r._maEvCo};"draw"==n?a._acssDrawn&&i||_handleDrawScope(s):_handleEvents(s)}));else{let a={obj:r.secSelObj,evType:n,primSel:r.primSel,origO:r,otherObj:r.ajaxObj,eve:r.e,varScope:r.varScope,evScope:r.evScope,compDoc:r.compDoc,component:r.component,_maEvCo:r._maEvCo};"draw"!=n||r.secSelObj._acssDrawn&&i?_handleEvents(a):_handleDrawScope(a),_runInnerEvent(r,"*:not(template *)",n,r.secSelObj)}},_setHashEvent=r=>{if(""!=r){let a,n=r.split("#"),s=n.length;for(a=0;a<s;a++)""!=n[a]&&(hashEvents.push(n[a]),hashEventTrigger=!0)}},_setUpForObserve=(r,a,n)=>{void 0===elObserveTrack[r]&&(elObserveTrack[r]=[]),void 0===elObserveTrack[r][a]&&(elObserveTrack[r][a]={}),void 0===elObserveTrack[r][a][n]&&(elObserveTrack[r][a][n]={})},_setupIntersectionObserver=()=>{initIntersectionObserver||(initIntersectionObserver=!0,window._acssIntersectionObserver=new IntersectionObserver((function(r,a){r.forEach((function(r){r.isIntersecting&&(ActiveCSS.trigger(r.target,"intersect"),window._acssIntersectionObserver.unobserve(r.target))}))})))},_setUpNavAttrs=(r,a)=>{let n="SELECT"==a?r.options[r.selectedIndex].getAttribute("data-page"):r.getAttribute("href");if(n){let a=n.indexOf("#"),s=-1!==a?n.substring(0,a):n,c=_getPageFromList(s);if(c){let s=document.createElement("div");s.insertAdjacentHTML("beforeend",'<a href="'+c.url+'" '+c.attrs+">"),_cloneAttrs(r,s.firstChild),-1!==a&&(r.__acssNavHash=n.substring(a)),r.__acssNavHrf=n}}};ActiveCSS._shadowNodeMutations=r=>ActiveCSS._nodeMutations(r,null,r[0].target.getRootNode(),!0);const _sortOutDynamicIframes=r=>{let a,n,s,c,i,l,p,d,u,_=[],f=0,m=(r=(r=r.replace(/\r|\n/gm,"").replace(/\t/gm," ")).replace(/"((?:\\.|[^"\\])*)"/gm,(function(r,a){return'"'+(a=a.replace(/</gm,"_ACSS_lt").replace(/>/gm,"_ACSS_gt"))+'"'}))).split("<iframe"),S="",g=0,v=m.length,b=0,h="",C="",E=!1;for(;g<v;g++)if(""!=m[g].trim())if(a=m[g].indexOf("</iframe>"),0==b&&-1!==a){if(0==g&&(S+=m[0].substr(0,a)),i=m[g].indexOf(">"),""==m[g].substr(i+1,a-i-1).trim())continue;E=!0,S+='<data-acss-iframe data-ref="'+f+'"></data-acss-iframe>',c=""!=C?C:m[g].substr(0,i+1),n="<iframe "+c,s=h+m[g].substr(i+1,a-i-1),c="",S+=m[g].substr(a+10),_[f]={mainTag:_replaceIframeEsc(n),innards:_replaceIframeEsc(s)},h="",f++}else if(-1!==a){for(h+="<iframe ",l=m[g].split("</iframe>"),p=l.length,d=0;d<p;d++)if(""!=l[d].trim()){if(0==b){if(i=l[d].indexOf(">"),u=l[d].indexOf("<"),""==m[g].substr(i+1,a-i-1).trim())continue;E=!0,S+='<data-acss-iframe data-ref="'+f+'"></data-acss-iframe>',n="<iframe "+C,C="",s=u<i?h+l[d]:h+l[d].substr(i+1),_[f]={mainTag:_replaceIframeEsc(n),innards:_replaceIframeEsc(s)},h="",f++}else h+=l[d],d<p-1&&(h+="</iframe>");b--}else h+="</iframe>";S+=h,h=""}else 0==b&&0==g?S+=m[0]:(i=m[g].indexOf(">"),C=m[g].substr(0,i+1),h+=m[g].substr(i+1),b++);return{str:r=_replaceIframeEsc(r=E?S:r),iframes:_}},_trigHashState=r=>{if(hashEventAjaxDelay||!hashEventTrigger)return;hashEventTrigger=!1;let a,n,s,c,i=hashEvents.length,l=[];for(a=0;a<i;a++)if(s=_getPageFromList("#"+hashEvents[a]),s){c=s.attrs;let r=c.substr(c.indexOf("=")+1).trim()._ACSSRepQuo(),a=r.lastIndexOf(":"),n=r.substr(0,a).trim(),i=r.substr(a+1).trim();l.push({sel:n,ev:i})}hashEvents=[];let p=l.length;for(a=0;a<p;a++)if(n=document.querySelector(l[a].sel),n&&""!=l[a].ev)ActiveCSS.trigger(n,l[a].ev,null,document,null,null,r);else{let s=l[a];setTimeout((function(){n=document.querySelector(s.sel),ActiveCSS.trigger(n,s.ev,null,document,null,null,r)}),0)}},_checkBreakLoop=(r,a)=>{let n="inner"!=a;return!!(void 0!==imSt[r]&&imSt[r]._acssImmediateStop||_decrBreakContinue(r,"break",!0)||_decrBreakContinue(r,"continue",n)||_checkExitTarget(r))},_checkExitTarget=r=>void 0!==exitTarget["i"+r]&&!0===exitTarget["i"+r],_checkRunLoop=(r,a,n,s,c)=>{if(!a||!n.startsWith("@"))return{atIf:!1};let i=_getLoopCommand(n);if(r._condCo++,!1!==i){let l=_clone(r),p=_clone(a),d={...l},u=[];return u.push(p),d.chilsObj=u,d.fullStatement=n,d.atIfDetails=i,d.loopWhat=c,"action"==c?d.targPointer=s:(d.secSelLoops="0",d._taEvCo=s),_handleLoop(d),d.ifRes&&!0===d.ifRes.res&&(r.previousIfRes=d.ifRes),{atIf:!0}}return delete r.previousIfRes,{atIf:!1}},_decrBreakContinue=(r,a,n=!1)=>{let s="i"+r,c="break"==a?_break[s]:_continue[s];if(!c||0==c)return!1;if(n)if("break"==a)_break[s]--;else if(_continue[s]--,_continue[s]<1)return!1;return!0},_getLoopCommand=r=>{if(r.startsWith("@else if "))return{name:"@else if",type:"notloop"};if(r.startsWith("@else media "))return{name:"@else media",type:"notloop"};if(r.startsWith("@else support "))return{name:"@else support",type:"notloop"};{let a=r.indexOf(" "),n=-1!==a?r.substr(0,a):r;return!(!n||-1===STATEMENTS.indexOf(n))&&{name:n.trim(),type:"@each"==n||"@for"==n||"@while"==n?"loop":"notloop"}}},_handleLoop=r=>{let{fullStatement:a,varScope:n,atIfDetails:s,_imStCo:c}=r,i=(n&&privVarScopes[n]?n:"main")+".",l=s.name;if(l)switch(!l.startsWith("@el")&&r.previousIfRes&&(r.previousIfRes.res=!1),l){case"@else":case"@else if":if(r.previousIfRes&&!0===r.previousIfRes.res)return;case"@if":r.ifRes=_handleIf(r,l);break;case"@else media":case"@else support":if(r.previousIfRes&&!0===r.previousIfRes.res)return;case"@media":case"@support":r.ifRes=_handleCSSAtStatement(r,l);break;case"@each":_resetContinue(c),_handleEach(r,i);break;case"@for":_resetContinue(c),_handleFor(r,i);break;case"@while":_resetContinue(c),_handleWhile(r,i)}},_resetContinue=r=>{delete _continue["i"+r]},_resetExitTarget=r=>{delete exitTarget["i"+r]},_runSecSelOrAction=r=>{if("action"==r.loopWhat){let a=_clone(r);a.targ=a.targ[a.targPointer].value,_performTarget(a,0)}else _performSecSel(r),_resetExitTarget(r._imStCo)},_handleCSSAtStatement=(r,a)=>{let{fullStatement:n,loopWhat:s,varScope:c,passTargSel:i,primSel:l,evType:p,obj:d,otherObj:u,eve:_,doc:f,component:m,compDoc:S}=r,g=n;g=g.substr(a.length).trim();let v={evType:p,varScope:c,otherObj:u,sel:l,eve:_,doc:f,component:m,compDoc:S};"action"!=s||"string"==typeof i?v.obj=d:"object"==typeof i&&(v.obj=i);let b=-1!==a.indexOf("media")?_checkMedia(g):_checkSupport(g);return b&&_runSecSelOrAction(r),{ifType:"@if",res:b}},_handleEach=(r,a)=>{let n,{fullStatement:s,varScope:c}=r,i=r.loopRef?r.loopRef:"",l=s.indexOf(" in "),p=s.substr(6,l-6);-1!==p.indexOf(",")&&(n=p.split(","));let d=s.substr(l+4),u=_prepareDetachedExpr(d,c),_=_evalDetachedExpr(u,c);if(!_)return void _warn("Error in evaluating"+d+" in @each - skipping loop.");let f={loopObj:r,existingLoopRef:i,leftVar:p,leftVars:n,rightVar:d,varScope:c,scopePrefix:a};if(_isArray(_))_.length>0&&_handleEachArrayOuter(_,f,0);else{let r=Object.entries(_);r.length>0&&_handleEachObj(r,f,0)}},_handleEachArrayInner=(r,a,n)=>{let{loopObj:s,leftVars:c,scopePrefix:i,counter:l}=a,p=s._imStCo;if(!a.leftVars[n]||_checkBreakLoop(p,"inner"))return;let d=i+c[n].trim();_set(scopedProxy,d,r[l][n]),n++,a.leftVars[n]&&_handleEachArrayInner(r,a,n)},_handleEachArrayOuter=(r,a,n)=>{let s,{loopObj:c,leftVar:i,leftVars:l,rightVar:p,scopePrefix:d}=a,u=c._imStCo;if(!_checkBreakLoop(u)){if(s=_clone(c),l)a.counter=n,_handleEachArrayInner(r,a,0,l),s.loopRef=a.existingLoopRef+l[0]+"_"+n;else{_set(scopedProxy,d+i,r[n]),s.loopRef=a.existingLoopRef+i+"_"+n}_runSecSelOrAction(s),r[++n]?_handleEachArrayOuter(r,a,n):_resetContinue(u)}},_handleEachObj=(r,a,n)=>{let s,{loopObj:c,leftVar:i,leftVars:l,rightVar:p,scopePrefix:d}=a,u=c._imStCo;if(_checkBreakLoop(u))return;let _=r[n][0],f=r[n][1];if(s=_clone(c),l){let r=d+l[0];_set(scopedProxy,r,_),s.loopRef=l[0]+"_0_"+n;let c=l[1].trim();_set(scopedProxy,d+c,f),s.loopRef=a.existingLoopRef+c+"__lVEach"+n}else{_set(scopedProxy,d+i,_),s.loopRef=a.existingLoopRef+i+"_0_"+n}_runSecSelOrAction(s),r[++n]?_handleEachObj(r,a,n):_resetContinue(u)},_handleFor=(r,a)=>{let{fullStatement:n,varScope:s}=r,c=r.loopRef?r.loopRef:"",i=n,l=i.indexOf(" from "),p=i.indexOf(" to "),d=i.indexOf(" step ");-1!==l&&-1!==p||_err('"from" and "to" must be used in the @for statement, '+i);let u,_,f=i.substr(5,l-5).trim(),m=i.substr(l+6,p-l-6);-1===d?(u=i.substr(p+4),_="1"):(u=i.substr(p+4,d-p-4),_=i.substr(d+6));let S=_loopVarToNumber(_,s),g=_loopVarToNumber(m,s),v=_loopVarToNumber(u,s),b=_countPlaces(S);-1!==[g,v,S].indexOf(!1)?_err("Could not establish valid values from @for statement, "+i,null,"From:",g,"To:",v,"Step:",S):b>5&&_err("@for statement can only handle up to 5 decimal places, "+i),0==S||g>v&&S>0||_handleForItem({loopObj:r,existingLoopRef:c,counterVar:f,toVal:v,stepVal:S,stepValDP:b,scopePrefix:a},g)},_handleForItem=(r,a)=>{let n,{loopObj:s,counterVar:c,toVal:i,stepVal:l,stepValDP:p,scopePrefix:d}=r,u=s._imStCo;if(!_checkBreakLoop(u)){if(n=_clone(s),_set(scopedProxy,d+c,a),n.loopRef=r.existingLoopRef+c+"_0_"+a,_runSecSelOrAction(n),0==p)a+=l;else{let r=Math.pow(10,p)||1;a=(Math.round(a*r)+Math.round(l*r))/r}l>0&&a<=i||l<0&&a>=i?_handleForItem(r,a):_resetContinue(u)}},_loopVarToNumber=(r,a)=>{r=r.trim();let n=_getNumber(r);if(!1!==n)return n;let s=_prepareDetachedExpr(r,a),c=_evalDetachedExpr(s,a);return _getNumber(c)},_handleIf=(r,a)=>{let n,{fullStatement:s,loopWhat:c,varScope:i,passTargSel:l,primSel:p,evType:d,obj:u,secSelObj:_,otherObj:f,eve:m,doc:S,component:g,compDoc:v,ifObj:b,_subEvCo:h,_subSubEvCo:C,_targCo:E}=r,y=s;if(y=y.substr(a.length).trim(),n="@else"==a?"true":_replaceConditionalsExpr(y),!1!==n){let _={evType:d,varScope:i,otherObj:f,sel:p,eve:m,doc:S,component:g,compDoc:v,_subEvCo:h,_subSubEvCo:C,_targCo:E};"action"!=c||"string"==typeof l?_.obj=u:"object"==typeof l&&(_.obj=l);let b=_runIf(n,s,_,r);return b&&_runSecSelOrAction(r),{ifType:a,res:b}}return!1},_replaceConditionalsExpr=(r,a=null,n=null)=>{let s=_escInQuo(r,"(","__ACSSOpenP");s=_escInQuo(s,")","__ACSSClosP"),s=_escInQuo(s,"'","__ACSSSingQ"),s=_escInQuo(s,"\\","__ACSSBSlash");let c=s.split("(");c.length==s.split(")").length&&0!=c.length||_err("Opening/closing parentheses are unbalanced in @if statement, "+r,n);let i=s.split(/([\![\s]*]?[\u00BF-\u1FFF\u2C00-\uD7FF\w\-]*\()/gim),l=!1,p=!1,d=0,u=0,_="";let f=i.map(r=>{if(""==(r=r.trim()))return"";if("("==r)p?d++:u++;else if(l||p){p||(p=!0,r="'"+_+"', ifObj, '"+r);let a=r.split(")").length-1,n=a;if(a>0){let s=r.indexOf(")"),c=s;for(;-1!==s&&d>0;)d--,s=r.indexOf(")",s+1),n--,-1!==s&&(c=s);if(d<=0){if(l=!1,p=!1,r=r.substr(0,c)+"'"+r.substr(c),a-n>0)for(s=r.indexOf(")",s+1),u--;-1!==s&&u>0;)u--,s=r.indexOf(")",s+1)}}else d++}else{let a=0;r.startsWith("!")?a=1:r.startsWith("not-")&&(a=4),_=r.slice(a,-1).trim(),_.startsWith("if-")||(_="if-"+_);let n=_._ACSSConvFunc();if(!_isCond(n))return r;l=!0,0!=a&&(_="!"+_),r="_runAtIfConds("}return r}).join("");return f=f.replace(/__ACSSOpenP/g,"("),f=f.replace(/__ACSSClosP/g,")"),f},_runAtIfConds=(r,a,n)=>{let{evType:s,obj:c,varScope:i,otherObj:l,sel:p,eve:d,doc:u,component:_,compDoc:f}=a,m=n.replace(/__ACSSSingQ/g,"'").replace(/__ACSSBSlash/g,"\\").replace(/"/g,"__ACSSDBQuote").replace(/ /g,"_ACSSspace");return _passesConditional({el:c,sel:p,clause:r+"("+m+")",evType:s,ajaxObj:l,doc:u,varScope:i,component:_,eve:d,compDoc:f})},_runIf=(r,a,n,s)=>{let{obj:c,otherObj:i,varScope:l,_subEvCo:p,_subSubEvCo:d,_targCo:u}=n,_=(s.loopRef||"")+s._condCo+"_"+d+"_"+u;if(condTrack[p]&&void 0!==condTrack[p].condResArr[_]){let r=condTrack[p].condResArr[_];return s._condCo++,r}let f,m=_handleVars(["attrs"],{str:r,func:"Var",obj:c,varScope:l}),S=_resolveVars(m.str,m.ref);m=_handleVars(["rand","expr","scoped"],{str:S,func:"Var",obj:c,varScope:l}),m=_handleVars(["strings"],{str:m.str,varScope:l},m.ref),m=_handleVars(["strings"],{str:m.str,o:i,varScope:l},m.ref),S=_resolveVars(m.str,m.ref),S=S.replace(/\r|\n/gm,"");try{f=Function("scopedProxy, ifObj, _runAtIfConds, escapeHTML, unEscapeHTML, getVar",'"use strict";return !!('+S+");")(scopedProxy,n,_runAtIfConds,escapeHTML,unEscapeHTML,getVar)}catch(r){console.log('Active CSS error: Error in evaluating @if statement, "'+a+'", check syntax.'),console.log("Internal expression evaluated: "+S,"error:",r)}return condTrack[p]||(condTrack[p]=[],condTrack[p].condResArr=[]),condTrack[p].condResArr[_]=f,s._condCo++,f},_handleWhile=(r,a)=>{let{fullStatement:n,varScope:s}=r,c=r.loopRef?r.loopRef:"",i=n;i=i.substr(7).trim(),_handleWhileItem({loopObj:r,fullStatement:n,statement:i,existingLoopRef:c,scopePrefix:a},0)},_handleWhileItem=(r,a)=>{let n,{loopObj:s,fullStatement:c,statement:i,scopePrefix:l}=r,{_imStCo:p,evType:d,varScope:u,otherObj:_,sel:f,eve:m,doc:S,component:g,compDoc:v,loopWhat:b,passTargSel:h,_subEvCo:C,_subSubEvCo:E,_targCo:y,obj:A}=s;if(_checkBreakLoop(p))return;n=_clone(s),n.loopRef=r.existingLoopRef+"_"+c+"_"+a;let O=_replaceConditionalsExpr(i);if(!1!==O){let s={evType:d,varScope:u,otherObj:_,sel:f,eve:m,doc:S,component:g,compDoc:v,_subEvCo:C,_subSubEvCo:E,_targCo:y};"action"!=b||"string"==typeof h?s.obj=A:"object"==typeof h&&(s.obj=h);let i=n.loopRef+n._condCo+"_"+E+"_"+y;_runIf(O,c,s,n)?(_runSecSelOrAction(n),n=null,a++,_handleWhileItem(r,a),void 0===syncQueue[C]&&(condTrack[C].condResArr[i]=!1)):_resetContinue(p)}},_addACSSStyleTag=r=>{let a=_getActiveID(r);return inlineIDArr.push(a),concatConfigLen++,_addConfig(r.innerHTML,{file:"_inline_"+a,inlineActiveID:a}),DEVCORE||(r.innerHTML="",r.setAttribute("data-embedded-acss-loaded",!0)),a},_addConfig=(r,a)=>{let n;if(""==r.trim())a.file.startsWith("_inline_id-")?console.log("There is an empty embedded ACSS style tag on the page. Skipping."):console.log("There is a config file trying to load with no config present. Skipping. File: "+a.file),n={};else{let s=r.match(/^.*((\r\n|\n|\r)|$)/gm),c="";for(let r=0;r<s.length;r++)c+="*debugfile:"+a.file+":"+(r+1)+"*"+s[r];n=_parseConfig(r=c,a.inlineActiveID)}concatConfigCo++,configBox.push({file:a.file,styles:n});parsedConfig=Object.assign({},parsedConfig,n),_cssExtractInit(a.file),!initInlineLoading&&concatConfigCo>=concatConfigLen&&(_readSiteMap(a),_syncRestart(a,a._subEvCo))},_addConfigError=(r,a)=>{_syncEmpty(a._subEvCo),_handleEvents({obj:a.obj,evType:"loadconfigerror",eve:a.e})},_addToSystemInit=(r,a,n)=>{let s,c;return r?(s="~_embedded_"+r,c="loaded"):(s="~_acssSystem",c=setupEnded?"afterLoadConfig":"init"),s+":"+c+"{"+a+":"+n+";}"},_assignLoopToConfig=(r,a,n,s,c,i,l,p)=>{let d,u,_,f,m,S=-1;if(!1!==_getLoopCommand(a))return void 0===r[S]&&(r[S]=[a.replace(/acss_int_loop_comm/g,",")]),r[S]=_assignLoopToConfig(r[S],n.name,n.value,n.file,n.line,n.intID,l,p),r[S];for(d=a.split(","),u=d.length,f=0;f<u;f++)for(m in _=d[f].trim(),S++,n)"prevent-default"==n[m].name&&_checkPassiveState(l,p),void 0!==n[m].type&&(void 0===r[S]&&(r[S]=[]),void 0===r[S][_]&&(r[S][_]=[]),r[S][_].push({name:n[m].name,value:n[m].value,file:n[m].file,line:n[m].line,intID:n[m].intID}));return r},_attachCompInnerHTMLEvs=r=>{let a="";return r.replace(/__acssInnerHTMLEv_([\d]+)__/gi,(function(r,n){return a+=compInnerEvMap["ev_"+n],delete compInnerEvMap["ev_"+n],r}))+a},_attachListener=(r,a,n=!1,s=!1)=>{let c={capture:!0};doesPassive&&(!0===nonPassiveEvents[a]||!1===passiveEvents||s?c.passive=!1:c.passive=!0),doesPassive&&n&&r.removeEventListener(a,ActiveCSS._theEventFunction,{capture:!0}),r.addEventListener(a,ActiveCSS._theEventFunction,c)};ActiveCSS._theEventFunction=r=>{let a=r.type,n=r.target._acssComponent,s=r.target instanceof ShadowRoot?r.target:void 0,c=r.target._acssVarScope;if(setupEnded)switch(a){case"click":r.ctrlKey||r.metaKey||_mainEventLoop("click",r,n,s,c);break;case"keyup":case"keydown":let i=r.ctrlKey?"Ctrl":"",l=r.metaKey?"Meta":"",p=r.shiftKey?"Shift":"",d=r.key;switch(r.key){case" ":d="Space";break;case":":d="Colon",p="";break;case";":d="Semicolon",p="";break;case"{":d="OpenCurly",p="";break;case"}":d="CloseCurly",p="";break;case'"':d="DoubleQuotes",p="";break;case"'":d="SingleQuote",p="";break;case"?":d="Question",p="";break;case"!":d="Exclamation",p=""}_mainEventLoop(a+l+i+p+d,r,n,s,c),_mainEventLoop(a,r,n,s,c);break;default:if(_mainEventLoop(a,r,n,s,c),"change"==a)_handleObserveEvents(s);else if(-1!==a.indexOf("fullscreenchange")){let a=_fullscreenDetails();"HTML"==r.target.nodeName&&(r={target:document.body}),a[0]?_mainEventLoop("fullscreenEnter",r,n,s,c):_mainEventLoop("fullscreenExit",r,n,s,c)}}};const _checkPassiveState=(r,a)=>{if(doesPassive){let r=a;"key"==a.substr(0,3)&&("keyup"==a.substr(0,5)?r="keyup":"keydown"==a.substr(0,7)&&(r="keydown")),void 0===nonPassiveEvents[r]&&(nonPassiveEvents[r]=!0)}},_convConfig=(r,a,n,s)=>{let c,i,l,p,d={},u=null,_=0,f=!n;for(;null!==(u=PARSEREGEX.exec(r));){if(n>a)return _err("Syntax error in config - possibly an incomplete set of curly brackets or a missing end semi-colon."),!1;if(u[PARSEDEBUG])p=u[PARSEDEBUG].split(":"),configFile=p[1],configLine=p[2].substr(0,p[2].length-1);else if(u[PARSESEL]){if(n++,c=u[PARSESEL].trim(),c=c.replace(/\*debugfile[\s\S]*?\*/g,""),l=_convConfig(r,a,n,s),!1===l)return!1;c=_sortOutEscapeChars(c),s&&(c=c.replace(/embedded\:loaded/g,"~_embedded_"+s+":loaded")),i={name:c,value:l,line:configLine,file:configFile,intID:intIDCounter++,type:"rule"},d[f?masterConfigCo++:_++]=i}else{if(u[PARSEEND])return d;if(u[PARSEATTR]){var m=u[PARSEATTR].trim();m=m.replace(/\*debugfile[\s\S]*?\*|([^:]|^)\/\/.*$/g,"");var S=PARSELINEX.exec(m);if(S){let r,a;S[4]?(r=S[4],a=S[4]+" "+S[5][0]+" 1"):(r=_sortOutEscapeChars(S[2].trim()),a=_sortOutEscapeChars(S[3].trim())),i={name:r,value:a,type:"attr",line:configLine,file:configFile,intID:intIDCounter++},d[_++]=i}else d[_++]=m}}}return d},_extractCompInnerHTMLEvs=r=>r.replace(/({\:)([\s\S]*?)\:}/gi,(function(r,a,n){return compInnerEvCo++,compInnerEvMap["ev_"+compInnerEvCo]="&:__midComponentOpen_"+compInnerEvCo+" {"+n+"}","__acssInnerHTMLEv_"+compInnerEvCo+"__"})),_getInline=r=>{r.forEach(r=>{_addACSSStyleTag(r)})};ActiveCSS._getPosOfRule=(r,a)=>_getValFromList(r,a,!0);const _initScriptTrack=()=>{document.querySelectorAll("script").forEach((function(r,a){-1===scriptTrack.indexOf(r.src)&&scriptTrack.push(r.src)}))},_isFromFile=(r,a)=>{let n,s,c,i=a.length;if(0==i){for(c in a)if(_isFromFile(r,a[c]))return!0}else for(s=0;s<i;s++)if(n=a[s],_isArray(n)){if(_isFromFile(r,n))return!0}else{if(n.file===r)return!0}return!1},_iterateConditionals=(r,a,n)=>{var s,c;return Object.keys(a).forEach((function(i){(c=a[i].name)&&(s=r[n].length,r[n][s]={},CONDCOMMAND.test(c)?"string"==typeof a[i].value?(r[n][s].name=c,r[n][s].value=a[i].value,r[n][s].file=a[i].file,r[n][s].line=a[i].line,r[n][s].intID=a[i].intID):_warn("Invalid value for conditional "+c+" (see More info below)",null,a[i].value):_warn("Invalid conditional command name (see More info below)",null,c))})),r},_iteratePageList=(r,a=!1)=>{if("content"in document.createElement("template")){var n,s,c,i=[],l=[];Object.keys(r).forEach((function(p){if(!(n=r[p].name))return;let d=-1!==(n=n._ACSSRepAllQuo()).indexOf("*");a?d?l.push(n):i.push(n):(s={url:n,attrs:_unEscNoVars(_replaceRand(r[p].value))},d?(c=new RegExp(_escForRegex(n).replace(/\\\*/g,"((?!\\/|\\/|\\.).)*"),"g"),s.regex=c,pageWildcards.push(s)):pageList.push(s))})),a&&(pageList=pageList.filter(r=>-1==i.indexOf(r.url)))}else console.log("Browser does not support html5. Cannot instantiate page navigation.")},_iterateRules=(r,a,n,s,c,i=null)=>{let l,p,d,u,_,f,m,S,g,v=-1;return Object.keys(a).forEach((function(b){if(S=a[b].name,g=a[b].value,S){if(!1!==_getLoopCommand(S))return v++,r[v]=[],void(r[v][S]=_iterateRules([],g,n,s,c,i));if("string"==typeof g)return v++,"prevent-default"==S&&_checkPassiveState(i,s),r[v]=[],r[v]["&"]=[],void r[v]["&"].push({name:S,value:g,file:a[b].file,line:a[b].line,intID:a[b].intID});for(p="",d="",u=S.split(","),_=u.length,m=0;m<_;m++)for(l in f=u[m].trim(),v++,r[v]=[],r[v][f]=[],g)void 0!==g[l].type&&("&"==f&&"prevent-default"==g[l].name&&_checkPassiveState(i,s),r[v][f].push({name:g[l].name,value:g[l].value,file:g[l].file,line:g[l].line,intID:g[l].intID}))}})),r},_makeVirtualConfig=(r="",a="",n=null,s=!1,c="")=>{let i,l,p,d,u,_,f,m,S,g,v,b,h=""!==r?r:parsedConfig,C=c.substr(8);if(Object.keys(h).forEach((function(r){if(h[r].name)for(m=h[r].name,f=h[r].value,b=!1,i=m.split(/,(?![^\(\[]*[\]\)])/),l=i.length,p=0;p<l;p++){let l;switch(d=i[p].trim(),_=d.startsWith("@component "),u=b&&(l=-1===d.indexOf("?"))?"?":d.slice(0,1),u){case"?":let i=l?d:d.substr(1);n&&(i="|"+n+"|"+i),s?delete conditionals[i]:(conditionals[i]=void 0===conditionals[i]?[]:conditionals[i],conditionals=_iterateConditionals(conditionals,f,i)),b=!0;break;case"@":if("@pages"==d)_iteratePageList(f,s);else if(_){let r,a,n={},i=d.indexOf(" scope(");if(-1!==i){r="c"+_extractBracketPars(d,["scope"]).scope.replace(":","%%");let a=compPreRendered.indexOf(r);if(s)compPreRendered.splice(a);else{if(-1!==a){_warn(r+" already exists as a scope for a component.");continue}compPreRendered.push(r)}}else{let n=d.replace(/\s+/g," ").split(" ")[1].trim();-1!==n.indexOf("-")?(a=n,r=_ucFirst(n._ACSSConvFunc())):r=n}if(!s){components[r]||(components[r]={}),-1!==i&&(components[r].prerender=!0),components[r].mode=null,components[r].shadow=!1,components[r].scoped=!1,components[r].strictVars=!1,components[r].strictPrivEvs=!1,components[r].privVars=!1,components[r].privEvs=!1,components[r].acceptVars=!0;let s=d,c=s.indexOf(" html("),l=s.indexOf(" css("),p=s.indexOf(" json("),u=s.indexOf(" html-template("),_=s.indexOf(" css-template("),f=s.indexOf(" observe("),m=s.indexOf(" selector(");-1===c&&-1===l&&-1===p&&-1===f&&-1===m&&-1===u&&-1===_||(n=_extractBracketPars(s,["html","css","json","html-template","css-template","observe","template"]),n.html&&(components[r].htmlFile=n.html),n.css&&(components[r].cssFile=n.css),n.json&&(components[r].jsonFile=n.json),n["html-template"]&&(components[r].htmlTempl=n["html-template"]),n["css-template"]&&(components[r].cssTempl=n["css-template"]),n.observe&&(components[r].observeOpt=n.observe),n.selector&&(components[r].selector=n.selector),s=n.action),s+=" ",-1!==s.indexOf(" shadow ")&&(components[r].shadow=!0,components[r].mode=-1!==d.indexOf(" closed")?"closed":"open"),n.html||n.css||n["html-template"]||n["css-template"]?-1===s.indexOf(" accept-vars ")&&(components[r].acceptVars=!1):components[r].acceptVars=!0,components[r].renderWhenVisible=-1!==s.indexOf(" render-when-visible "),-1!==s.indexOf(" strictlyPrivateVars ")||-1!==s.indexOf(" strictlyPrivate ")?(components[r].strictVars=!0,components[r].privVars=!0,components[r].scoped=!0):-1===s.indexOf(" privateVars ")&&-1===s.indexOf(" private ")||(components[r].privVars=!0,components[r].scoped=!0),-1!==s.indexOf(" strictlyPrivateEvents ")||-1!==s.indexOf(" strictlyPrivate ")?components[r].strictPrivEvs=!0:-1===s.indexOf(" privateEvents ")&&-1===s.indexOf(" private ")||(components[r].privEvs=!0),a&&_a.CreateElement({actVal:a+" "+r+(n.observe?" observe("+n.observe+")":"")})}_makeVirtualConfig(f,"",r,s,c),s?delete components[r]:void 0===components[r].data&&(components[r].data="",f&&"object"==typeof f[0]&&void 0!==f[0].file?(components[r].file=f[0].file,components[r].line=f[0].line,components[r].intID=f[0].intID):(components[r].file="",components[r].line="",components[r].intID="")),r=""}else{let n=d.startsWith("@media "),i=d.startsWith("@support ");if(!n&&!i){_cssExtractConcat({file:f[0].file,statement:a,selector:h[r].name,commands:h[r].value});continue}s||!1!==(a=_setupMediaQueryHandler(d))&&_makeVirtualConfig(f,a,null,s,c),a=""}break;default:if("html"==d)s?n&&delete components[n]:components[n].htmlFile?_warn("Component "+n+" has embedded html that will be overridden by the html parameter: html("+components[n].htmlFile+")"):n&&(components[n].data=f[0].value.slice(1,-1),components[n].data=components[n].data.replace(/\\\"/g,'"'),components[n].file=f[0].file,components[n].line=f[0].line,components[n].intID=f[0].intID);else{if(S=d.split(/:(?![^\(\[]*[\]\)])/),!S[1]){n?_warn(d+" is not a fully formed selector - it may be missing an event or have incorrect syntax. Or you have too many closing curly brackets."):_cssExtractConcat({file:f[0].file,statement:a,selector:h[r].name,commands:h[r].value});continue}if(""==S[0]?(S.shift(),v=":"+S.shift()):v=S.shift(),s&&v=="~_embedded_"+C){delete config[v];continue}if(g=S.pop(),g=g.trim(),g.match(COLONSELS)&&"focus"!==g){_cssExtractConcat({file:f[0].file,statement:a,selector:h[r].name,commands:h[r].value});continue}let i,l=[],p=[];if(S.length>0){let r;for(r of S)r.match(COLONSELS)?l.push(r):p.push(r)}if(""!==a&&p.push(a),l.length>0&&(v+=":"+l.join(":")),n&&(v="|"+n+":"+v,s?(delete shadowSels[n],delete components[n],compPreRendered.splice(compPreRendered.indexOf(n))):(shadowSels[n]=void 0===shadowSels[n]?[]:shadowSels[n],shadowSels[n][g]=!0,components[n].scoped=!0)),s||(void 0===config[v]&&(config[v]={}),void 0===config[v][g]&&(config[v][g]={})),i=0===p.length?0:p.join(" "),s){if(void 0!==config[v]){let r,a=config[v][g][i].length,n=[];for(r=0;r<a;r++)_isFromFile(c,config[v][g][i][r])&&n.push(r);for(r of n)config[v][g][i].splice(r,1);0==config[v][g][i].length&&delete config[v][g][i],0===Object.keys(config[v][g]).length&&delete config[v][g],0===Object.keys(config[v]).length&&delete config[v]}}else if(preSetupEvents.push({ev:g,sel:v}),void 0===config[v][g][i]&&(config[v][g][i]=[]),config[v][g][i].push(_iterateRules([],f,v,g,i,n)),"intersect"==g&&"IntersectionObserver"in window){void 0===config[v].draw&&(config[v].draw={}),void 0===config[v].draw[0]&&(config[v].draw[0]=[]);let r={0:{name:"run",value:"{="+ActiveCSS._mapRegexReturn(DYNAMICCHARS,"window._acssIntersectionObserver.observe(o.secSelObj);")+"=}",type:"attr",line:f[0].line,file:f[0].file,intID:intIDCounter++}};config[v].draw[0].push(_iterateRules([],r,v,"draw",0,n)),_setupEvent("draw",v),_setupEvent("intersect",v),_setupIntersectionObserver()}}}}})),""!==r)return;let E=!!debugMode&&_doDebug("config");E&&Object.keys(config).sort().forEach((function(r){console.log(r,config[r])})),E=!!debugMode&&_doDebug("conditionals"),E&&Object.keys(conditionals).sort().forEach((function(r){console.log(r,conditionals[r])})),E=!!debugMode&&_doDebug("components"),E&&Object.keys(components).sort().forEach((function(r){console.log(r,components[r])}))};ActiveCSS._mapRegexReturn=(r,a,n=null,s=!1)=>{if("string"!=typeof a)return a;let c=new RegExp(Object.keys(r).join("|"),"g"+(s?"":"i")+"m");return a=a.replace(c,(function(a){return n?n[a]:"\\"==a?r["\\\\"]:r[a]}))};const _parseConfig=(r,a=null)=>{a&&(r=_unEscNoVars(r)),r=(r=(r=(r=(r=(r=(r=(r=r.replace(/\\\/\*/gm,"_ACSSOPCO")).replace(/\*\\\//gm,"_ACSSOPCL")).replace(/\/\*[\s\S]*?\*\//gm,"")).replace(/_ACSSOPCO/gm,"/*")).replace(/_ACSSOPCL/gm,"*/")).replace(/(['"])((\\\1|.)*?)\1/gm,(function(r,a,n){return'"'+(n='"'==a?n.replace(/\\"/g,"_ACSS_escaped_quote"):(n=n.replace(/\\'/gm,"_ACSS_sing_quote")).replace(/"/g,"_ACSS_escaped_quote"))+'"'}))).replace(/_ACSS_sing_quote/g,"'")).replace(/[\r\n]+/g," ");let n="";r=r.replace(/@command[\s]+(conditional[\s]+)?([\u00BF-\u1FFF\u2C00-\uD7FF\w\-]+[\s]*\{\=[\s\S]*?\=\})/g,(function(r,s,c){return n+=_addToSystemInit(a,s?"create-conditional":"create-command",c),""})),-1!==(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r+=n).replace(/\{\=([\s\S]*?)\=\}/g,(function(r,a){return-1!==a.indexOf("*debugfile:")&&(a=(a=a.trim().slice(0,-1)).replace(/\*debugfile\:[\s\S]*?\*/g,""),a+="*"),"_ACSS_subst_equal_brace_start"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,a)+"_ACSS_subst_equal_brace_end"}))).replace(/("(.*?)")/g,(function(r,a){return a=(a=(a=(a=a.replace(/continue\;/g,"_ACSS_continue")).replace(/break\;/g,"_ACSS_break")).replace(/exit\;/g,"_ACSS_exit")).replace(/exit\-target\;/g,"_ACSS_exittarg")}))).replace(/('(.*?)')/g,(function(r,a){return a=(a=(a=(a=a.replace(/continue\;/g,"_ACSS_continue")).replace(/break\;/g,"_ACSS_break")).replace(/exit\;/g,"_ACSS_exit")).replace(/exit\-target\;/g,"_ACSS_exittarg")}))).replace(/([\s\;\{])continue\;/g,"$1continue:1;")).replace(/([\s\;\{])break\;/g,"$1break:1;")).replace(/([\s\;\{])exit\;/g,"$1exit:1;")).replace(/([\s\;\{])exit\-target\;/g,"$1exit-target:1;")).replace(/_ACSS_continue/g,"continue;")).replace(/_ACSS_break/g,"break;")).replace(/_ACSS_exit/g,"exit;")).replace(/_ACSS_exittarg/g,"exit-target;")).replace(/acss\-style/gi,"style")).replace(/<style>([\s\S]*?)<\/style>/gi,(function(r,a){return"<style>"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,a)+"</style>"}))).replace(/\\{/g,"_ACSS_later_escbrace_start")).replace(/\\}/g,"_ACSS_later_escbrace_end")).indexOf("{:")&&-1!==r.indexOf(":}")&&(r=_extractCompInnerHTMLEvs(r)),r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r.replace(/\{\{\$([\u00BF-\u1FFF\u2C00-\uD7FF\w\-\'\"\[\] \.\$\|\@]+)\}\}/gi,(function(r,a){return"_ACSS_subst_brace_start_ACSS_subst_dollar_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\$([\u00BF-\u1FFF\u2C00-\uD7FF\w\-\'\"\[\] \.\$\|\@]+)\}/gi,(function(r,a){return"_ACSS_subst_dollar_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\{([\u00BF-\u1FFF\u2C00-\uD7FF\w\-\'\" \.\[\]]+)\}\}/gi,(function(r,a){return"_ACSS_subst_brace_start_ACSS_subst_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w\-\.\{\$\|\#\:]+)\}\}/gi,(function(r,a){return"_ACSS_subst_brace_start_ACSS_subst_at_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w\-\.\{\$\|\#\:]+)\}/gi,(function(r,a){return"_ACSS_subst_at_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w\-\.\'\{\$\|\@\}]+)\}/gi,(function(r,a){return"_ACSS_subst_pipe_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w\-\.\:\{\$\|\@\}]+)\}/gi,(function(r,a){return"_ACSS_subst_hash_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w\-\'\"\. \$\[\]\(\)]+)\}/gi,(function(r,a){return""==a.trim()?"{}":"_ACSS_subst_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/([^\u00BF-\u1FFF\u2C00-\uD7FF\w\-]html[\s]*{)([\s\S]*?)}/gi,(function(r,a,n){let s=a+'{component: "'+(n=(n=(n=n.replace(/_ACSS_escaped_quote/g,'\\"')).replace(/"/g,"_ACSS_escaped_quote")).replace(/\t/g,"_ACSS_tab"))+'";}';return-1!==n.indexOf("__acssInnerHTMLEv_")&&(s=_attachCompInnerHTMLEvs(s)),s}))).replace(/_ACSS_comp_evbrace_start/g,"{:")).replace(/_ACSS_comp_evbrace_end/g,":}")).replace(/\t+/g," ")).replace(/_ACSS_tab/g,"\t");let s={"{":"_ACSS_brace_start","}":"_ACSS_brace_end",";":"_ACSS_semi_colon",":":"_ACSS_colon","/":"_ACSS_slash","@":"_ACSS_at"},c=(r=(r=(r=(r=(r=r.replace(/("([^"]|"")*")/g,(function(r,a){return ActiveCSS._mapRegexReturn(s,a)}))).replace(/@conditional[\s]+/g,"?")).replace(/([\(]([^\(\)]|\(\))*[\)])/g,(function(r,a){return ActiveCSS._mapRegexReturn(s,a)}))).replace(/[\s]*[^\S]var[\s]*\:([\s\S]*?)\;/gim,(function(r,a){return"var: "+ActiveCSS._mapRegexReturn(DYNAMICCHARS,a)+";"}))).replace(/[\s]*(\$[\u00BF-\u1FFF\u2C00-\uD7FF\w\-\'\"\[\] \.\$\|\@]+)[\s]*\:([\s\S]*?)\;/gim,(function(r,a,n){return a+": "+ActiveCSS._mapRegexReturn(DYNAMICCHARS,n)+";"}))).split("{").length,i=_convConfig(r,c,0,a);return Object.keys(i).length||_err("There is a structural syntax error at initial parsing stage. Config that failed to parse: "+r),i},_readSiteMap=r=>{var a=!!debugMode&&_doDebug("parser");let n;for(n of(a&&console.log(parsedConfig),setupEnded||_setupPassive(),_makeVirtualConfig(),parsedConfig={},_cssExtractAddTags(),preSetupEvents))_setupEvent(n.ev,n.sel);!selectors.click&&selectors.clickoutside&&_setupEvent("click","body"),preSetupEvents=[],setupEnded||(window.addEventListener("input",_handleObserveEvents),window.addEventListener("click",()=>{setTimeout(_handleObserveEvents,0)}),_startMainListen()),_initScriptTrack(),_wrapUpStart(r)},_regenConfig=(r,a)=>{let n=r._acssActiveID;switch(a){case"remove":parsedConfig=configBox.find(r=>r.file=="_inline_"+n).styles,cssExtractRemoveTag("_inline_"+n),_makeVirtualConfig("","",null,!0,"_inline_"+n),concatConfigCo--,concatConfigLen--,configBox=configBox.filter(r=>r.file!="_inline_"+n),parsedConfig={};break;case"addDevTools":_addACSSStyleTag(r)}},_runInlineLoaded=()=>{inlineIDArr.forEach(r=>{_handleEvents({obj:"~_embedded_"+r,evType:"loaded"})}),inlineIDArr=[]},_setupEvent=(r,a,n)=>{if(void 0===selectors[r]&&(selectors[r]=[]),selectors[r].includes(a)){if(!setupEnded||!doesPassive)return}else selectors[r].push(a);if(debuggerEvs.includes(r)){if(!setupEnded||!doesPassive)return}else debuggerEvs.push(r);if(!1!==(r=_getRealEvent(r))&&(setupEnded||!eventState[r])){let n=document.parentNode&&"body"==a&&"scroll"==r?document.body:window;_attachListener(n,r,setupEnded),eventState[r]=!0}},_setupMediaQueryHandler=r=>{let a=r.startsWith("@media ")?{type:"media",len:7}:!!r.startsWith("@support ")&&{type:"support",len:9};if(!a)return _warn(r+" statement not recognised as an ACSS conditional"),!1;r=r.slice(a.len).trim();let n=mediaQueriesOrig[r];if(void 0!==n)return void 0===conditionals[n]&&(conditionals[n]=[],conditionals[n].push({name:"mql-true",value:n,query:r,type:a.type})),n;let s,c="__mql_"+(mediaQueries.length+1);if(mediaQueriesOrig[r]=c,conditionals[c]=[],conditionals[c].push({name:"mql-true",value:c,query:r,type:a.type}),mediaQueries.push(c),mediaQueries[c]={},"media"==a.type){let a=window.matchMedia(r);s=a.matches,a.addListener((function(r){let a=mediaQueriesOrig[r.media];mediaQueries[a].val=r.matches}))}else s=_checkSupport(r);return mediaQueries[c].val=s,c},_setupPassive=()=>{try{let r=Object.defineProperty({},"passive",{get:function(){doesPassive=!0}});window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}catch(r){}},_sortOutEscapeChars=r=>ActiveCSS._mapRegexReturn({_ACSS_brace_start:"{",_ACSS_brace_end:"}",_ACSS_escaped_quote:'\\"',_ACSS_semi_colon:";",_ACSS_colon:":",_ACSS_slash:"/",_ACSS_at:"@",_ACSS_subst_equal_brace_start:"{=",_ACSS_subst_equal_brace_end:"=}",_ACSS_subst_dollar_brace_start:"{$",_ACSS_subst_brace_start:"{",_ACSS_subst_at_brace_start:"{@",_ACSS_subst_pipe_brace_start:"{|",_ACSS_subst_hash_brace_start:"{#",_ACSS_subst_brace_end:"}",_ACSS_dot:"."},r),_startMainListen=()=>{window.addEventListener("message",(function(r){if(r.origin===window.location.origin&&"causejs-devtools-extension"!=r.data.source){var a=r.data;switch(a.type){case"activecss-unloading":case"activecss-loaded":let r=document.getElementById(a.el);_handleEvents({obj:r,evType:typ})}}}));let r=document.createElement("template");r.id="data-acss-route",r.insertAdjacentHTML("beforeend","<acss-router>"),document.body.appendChild(r),document.parentNode?(window.addEventListener("beforeunload",(function(r){parent.postMessage({type:"activecss-unloading",el:window.frameElement.id},window.location.origin)})),parent.postMessage({type:"activecss-loaded",el:window.frameElement.id},window.location.origin)):window.addEventListener("popstate",(function(r){_handleSpaPop(r)})),currentPage=location.pathname,_restoreStorage(),scopedProxy=_observableSlim.create(scopedOrig,!0,ActiveCSS._varUpdateDom)},_wrapUpStart=r=>{if(setupEnded)inlineIDArr.length>0&&_runInlineLoaded();else{if(document.readyState&&"complete"!=document.readyState)return void setTimeout(_wrapUpStart,20);_handleEvents({obj:"~_acssSystem",evType:"init"}),(elementObserver=new MutationObserver(ActiveCSS._nodeMutations)).observe(document.body,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),compIO=new IntersectionObserver(_handleCompIO),setupEnded=!0,_handleEvents({obj:"body",evType:"preInit"}),_handleEvents({obj:"body",evType:"init"}),inlineIDArr.length>0&&_runInlineLoaded(),_runInnerEvent(null,"*:not(template *)","draw",document,!0),_runInnerEvent(null,"*:not(template *)","innerhtmlchange",document,!0),_runInnerEvent(null,"*:not(template *)","observe",document,!0),_handleEvents({obj:"body",evType:"scroll"}),inIframe||_handleSpaPop({},!0),document.dispatchEvent(new CustomEvent("ActiveCSSInitialized",{})),""!==lazyConfig&&setTimeout((function(){let r,a=lazyConfig.split(",");for(r of a)_a.LoadConfig({actName:"load-config",actVal:r,doc:document})}),1e3)}concatConfigCo>concatConfigLen&&"load-config"==r.actName&&(configArr.push(r.avRaw),setupEnded&&(debuggerActive&&_tellPanelToUpdate(),evEditorActive&&_tellElementsToUpdate()),_handleEvents({obj:"body",evType:"afterLoadConfig",eve:r.e}),_handleEvents({obj:r.obj,evType:"afterLoadConfig",eve:r.e,varScope:r.varScope,evScope:r.evScope,compDoc:r.compDoc,component:r.component,_maEvCo:r._maEvCo}))},_addCSSToBody=(r,a,n)=>{let s=document.querySelector('style[data-from-acss="'+a+'"]');if(s)s.cssText=s.cssText+r;else{let n=document.createElement("style");n.type="text/css",n.setAttribute("data-from-acss",a),n.appendChild(document.createTextNode(r)),document.head.append(n)}},_cssExtractAddTags=r=>{let a,n=_cssExtractGetRef(r);for(a in void 0!==extractedCSS[n]&&""!==extractedCSS[n]&&_addCSSToBody(extractedCSS[n],n),delete extractedCSS[n],extractedCSS)void 0!==extractedCSS[a]&&""!==extractedCSS[a]&&_addCSSToBody(extractedCSS[a],a),delete extractedCSS[a]},_cssExtractConcat=r=>{let{file:a,statement:n,selector:s,commands:c}=r,i=_cssExtractGetRef(a);if(void 0===extractedCSS[i])return;let l,p="";n&&n.startsWith("__mql_")&&void 0!==conditionals[n]&&(p+="@"+conditionals[n][0].type+" "+conditionals[n][0].query+" {\n",l=!0);let d=l?"  ":"";p+=d+s+" {\n";let u=0;const _=r=>{u++;let a="";return Object.keys(r).forEach((function(n){if("object"==typeof r[n]){if(!r[n].value)return void console.log();if("object"==typeof r[n].value){let s;return"string"==typeof r[n].name&&(a+=d+"  ".repeat(u)+r[n].name+" {\n",s=!0),a+=_(r[n].value),void(s&&(a+=d+"  ".repeat(u)+"}\n"))}a+=d+"  ".repeat(u)+r[n].name+": "+r[n].value+";\n"}})),u--,a};p+=_(c)+d+"}\n",l&&(p+="}\n"),extractedCSS[i]+=p},_cssExtractGetRef=r=>r&&r.startsWith("_inline_")?r:"permanent",_cssExtractInit=r=>{let a=_cssExtractGetRef(r);"permanent"!=a&&void 0!==extractedCSS[a]&&_err("Internal reference for CSS extraction ("+a+") already exists.",null,"extractedCSS[tagRef]:",extractedCSS[a]),extractedCSS[a]=""},cssExtractRemoveTag=r=>{let a=document.querySelector('style[data-from-acss="'+r+'"]');a&&a.parentNode.removeChild(a)};ActiveCSS.init=r=>{passiveEvents=void 0===(r=r||{}).passiveEvents||r.passiveEvents;let a=document.querySelectorAll('*:not(template) style[type="text/acss"]');if(autoStartInit)a&&(lazyConfig="",initInlineLoading=!0,_getInline(a),initInlineLoading=!1,_readSiteMap()),autoStartInit=!1;else{if(userSetupStarted=!0,setupEnded)return void console.log("Cannot initialize Active CSS twice.");let n;lazyConfig=r.lazyConfig||"",r.configLocation=r.configLocation||console.log("No embedded or Active CSS config file setup - see installation docs."),r.debugMode&&(debugMode=r.debugMode,document.parentNode?console.log("Active CSS debug mode in iframe ID "+window.frameElement.id+": "+debugMode):console.log("Active CSS debug mode: "+debugMode));let s=r.configLocation.split(",");for(n of(concatConfigLen=s.length,a&&(initInlineLoading=!0,_getInline(a),initInlineLoading=!1),s))n=n.trim(),configArr.push(_getBaseURL(n)),_getFile(n,"txt",{file:n})}};const _immediateStop=r=>{void 0!==imSt[r._imStCo]&&(imSt[r._imStCo]._acssImmediateStop=!0),_stopImmediateEventPropagation(r)},_isSyncQueueSet=r=>!!syncQueue[r],_pause=(r,a)=>{_setResumeObj(r);let n=_clone(r),s=_getActiveID(n.secSelObj),c=n._subEvCo;pauseTrack[s]||(pauseTrack[s]={}),pauseTrack[s][c]=!0,setTimeout(()=>{r=null,pauseTrack[s]&&pauseTrack[s][c]&&(delete pauseTrack[s][c],_syncRestart(n,c)),n=null},a)},_pauseHandler=r=>{if(-1!==r.actVal.indexOf("every")||-1!==r.actVal.indexOf("after")||-1!==r.actVal.indexOf("await"))return _warn('Delay options ("after", "every", "await") are not allowed in the '+r.actName+" command, skipping",r),void _nextFunc(r);{let a=_convertToMS(r.actVal,"Invalid delay number format: "+r.actVal),n=r._elsTotal?a/r._elsTotal:a;a&&(_immediateStop(r),_pause(r,n))}},_setResumeObj=r=>{syncQueue[r._subEvCo]={ref_subEvCo:r._subEvCo,intID:r.intID,secSelObj:r.secSelObj,loopRef:r.loopRef}},_syncCheckAndSet=(r,a)=>{r.actVal.endsWith(" await")&&(r.actVal=r.actVal.slice(0,-6).trim(),r.isAwait=!0,(r.isAsync||r.isTimed)&&(_setResumeObj(r),_immediateStop(r)))},_syncEmpty=r=>{delete syncQueue[r]},_syncRestart=(r,a)=>{if(_isSyncQueueSet(a)){let a=_clone(r.origLoopObj),n=_clone(syncQueue[r._subEvCo]);a.origLoopObj=a,a.origLoopObj.resume=!0,a.origLoopObj.resumeProps=n,clearTimeout(pauseCleanTimers[r._subEvCo]),setTimeout(_performEvent(a),0)}},_syncStore=(r,a,n,s)=>{if(r.origLoopObj&&r.origLoopObj.resume){let a=r.origLoopObj.resumeProps;if(syncQueue[a.ref_subEvCo]&&a.intID==r.intID&&("string"==typeof r.secSel&&r.secSel.startsWith("~")||a.secSelObj.isSameNode(r.secSelObj))&&a.loopRef==r.loopRef)return _syncEmpty(a.ref_subEvCo),delete r.origLoopObj,!0}if(!a&&n)return!0},_addScopedAttr=(r,a,n,s,c)=>{let i=_addScopedCID(r,a.secSelObj,c),l=a.actVal.split(" ")[0],p=s?n:n.substr(n.indexOf(" ")+1)._ACSSRepQuo();_set(scopedData,r+'.attrs["'+i+'"]["'+l+'"]',{orig:p,scopeRef:c})},_addScopedCID=(r,a,n)=>{let s=_getActiveID(a);return void 0===_get(scopedData,r)&&_set(scopedData,r,[]),s},_allowResolve=r=>{if(r.startsWith("window."))return;let a=r.substr(r.indexOf(".")+1),n=_getBaseVar(a);-1===resolvableVars.indexOf(n)&&(resolvableVars[n]=!0)},_basicOVarEval=(r,a,n="")=>{if(!r)return"";let s=_handleVars(["rand","expr","attrs","scoped"],{str:r,func:a.func,o:a,obj:a.obj,secSelObj:a.secSelObj,varScope:a.varScope});return _resolveVars(s.str,s.ref,n)},_escapeItem=(r="",a=null)=>{if(a&&"$"==a.substr(0,1)&&"$HTML_ESCAPED"!==a)return r;let n=document.createElement("div");return n.textContent=(""+r).replace(/\{\=|\=\}/gm,""),n.innerHTML},_evalVarString=(r,a,n=!1)=>{let s=a.varScope||"main",c=_handleVars(["rand","expr","attrs","strings","scoped","html"],{str:r,func:a.func,o:a,obj:a.obj,secSelObj:a.secSelObj,varScope:s}),i=_resolveVars(c.str,c.ref);return i=_resolveInnerBracketVars(i,s),i=_prefixScopedVars(i,s),n&&(i=i.replace(/scopedProxy\./gm,"scopedOrig.")),i="{="+i+"=}",_replaceJSExpression(i,!0,!1,s,-1,a,!0)},_extractVarsFromPars=(r,a)=>{let n,s,c=[],i=_extractBracketPars(r,["pars"],a);if(i.pars){let r=i.pars;r=_escInQuo(r,",","__ACSSFComma");let l=r.split(",");for(n of l)n=n.replace(/__ACSSFComma/g,",").replace(/^\{\=|\=\}$/g,""),s=_evalVarString(n.trim(),a,!0),c.push(s)}return c},_getBaseVar=r=>{let a=r.indexOf("."),n=r.indexOf("[");return-1!==a&&a<n?r.substr(0,a):-1!==n?r.substr(0,n):r},_getScopedVar=(r,a=!1)=>{let n,s,c,i=!1,l=r.startsWith("window.")||r.startsWith("scopedProxy.");if("___none"!=a||l)if(l)n=r,s=r.substr(r.indexOf(".")+1),a&&(s=_resolveInnerBracketVars(s,a)),"w"==n.substr(0,1)?(c=_get(window,s),i=!0):c=_get(scopedProxy.__getTarget,s);else{s=_resolveInnerBracketVars(r,a),s=(a&&privVarScopes[a]?a:"main")+"."+s;let i=_resolveInheritance(s);s=i.name,n="scopedProxy."+s,c=i.val}else n="scopedProxy."+r,s=r,c=_get(scopedProxy.__getTarget,s);return"object"==typeof c&&c&&c.nodeType&&(c=_get(scopedProxy.__getTarget,s),s="__getTarget."+s,n="scopedProxy."+s),{fullName:n,name:s,val:c,winVar:i}},_handleVars=(r,a,n=null)=>{let{evType:s,func:c,o:i,obj:l,secSelObj:p,shadowParent:d,str:u,varScope:_}=a,f=0;for(n||(n=varReplaceRef++);f<r.length;f++)if(r[f])switch(r[f]){case"attrs":u=_replaceAttrs(l,u,p,i,c,_,s,n);break;case"expr":u=_replaceJSExpression(u,null,null,_,n);break;case"html":u=_replaceHTMLVars(i,u,n);break;case"rand":u=_replaceRand(u);break;case"scoped":u=_replaceScopedVars(u,p,c,i,null,d,_,n);break;case"strings":u=_replaceStringVars(i,u,_,n)}return{str:u,ref:n}},_observableSlim=(paths=[],observables=[],targets=[],targetsProxy=[],dupProxy=null,_create=function(r,a,n,s){var c=n||null,i=s||[{target:r,property:""}];paths.push(i),r instanceof Array&&(r.__length=r.length);var l=[],p=function(r,a,n){for(var s="",c=null,l=0;l<i.length;l++)c instanceof Array&&!isNaN(i[l].property)&&(i[l].property=c.indexOf(i[l].target)),s=s+"."+i[l].property,c=i[l].target;return s=(s=s+"."+a).substring(2),!0===n&&(s="/"+s.replace(/\./g,"/")),s},d=function(r){if(!0!==c.paused)if(!0===a)setTimeout((function(){if(r===l.length){var a=l.slice(0);l=[];for(var n=0;n<c.observers.length;n++)c.observers[n](a)}}),10);else{var n=l.slice(0);l=[];for(var s=0;s<c.observers.length;s++)c.observers[s](n)}},u={get:function(r,n){if("__getTarget"===n)return r;if("__isProxy"===n)return!0;if("__getParent"===n)return function(r=1){var a=p(0,"__getParent").split(".");return a.splice(-(r+1),r+1),function(r,a){return a.split(".").reduce((function(r,a){return r?r[a]:void 0}),r||self)}(c.parentProxy,a.join("."))};if("__getPath"===n)return p(0,"__getParent").slice(0,-12);var s=r[n];if(r instanceof Date&&s instanceof Function&&null!==s)return s.bind(r);if(s instanceof Object&&null!==s&&r.hasOwnProperty(n)){if(!0===s.__isProxy&&(s=s.__getTarget),s.__targetPosition>-1&&null!==targets[s.__targetPosition])for(var l=targetsProxy[s.__targetPosition],d=0,u=l.length;d<u;d++)if(c===l[d].observable)return l[d].proxy;var _=i.slice(0);return _.push({target:s,property:n}),_create(s,a,c,_)}return s},deleteProperty:function(r,a){var n=!0;dupProxy===f&&(n=!1,dupProxy=null);var s=Object.assign({},r);if(l.push({type:"delete",target:r,property:a,newValue:null,previousValue:s[a],currentPath:p(0,a),jsonPointer:p(0,a,!0),proxy:f}),!0===n){c.changesPaused||delete r[a];for(var i=0,u=targets.length;i<u&&r!==targets[i];i++);for(var _=targetsProxy[i]||[],m=_.length;m--;)_[m].proxy!==f&&(dupProxy=_[m].proxy,delete _[m].proxy[a])}return d(l.length),!0},set:function(r,a,n,s){n&&n.__isProxy&&(n=n.__getTarget);var i=!0;dupProxy===f&&(i=!1,dupProxy=null);var u=r[a];if(u!==n||!1===i||"length"===a&&r instanceof Array&&r.__length!==n){var _=!0,m=typeof u,S="update";if("undefined"===m&&(S="add"),l.push({type:S,target:r,property:a,newValue:n,previousValue:s[a],currentPath:p(0,a),jsonPointer:p(0,a,!0),proxy:f}),"length"===a&&r instanceof Array&&r.__length!==n&&(l[l.length-1].previousValue=r.__length,r.__length=n),!0===i){c.changesPaused||(r[a]=n),_=!1;for(var g=r.__targetPosition,v=targetsProxy[g].length;v--;)if(c===targetsProxy[g][v].observable&&null!==targets[targetsProxy[g][v].observable.parentTarget.__targetPosition]){_=!0;break}if(_){for(var b=targetsProxy[g],h=0,C=b.length;h<C;h++)b[h].proxy!==f&&(dupProxy=b[h].proxy,b[h].proxy[a]=n);setTimeout((function(){if("object"===m&&null!==u){for(var a=Object.keys(r),n=0,s=a.length;n<s;n++)if(r[a[n]]===u)return;var i=!1;if(function r(a){for(var n=Object.keys(a),s=0,c=n.length;s<c;s++){var l=a[n[s]];if(l instanceof Object&&null!==l&&r(l),l===u)return void(i=!0)}}(r),!0===i)return;!function r(a){var i=Object.keys(a);for(n=0,s=i.length;n<s;n++){var l=a[i[n]];l instanceof Object&&null!==l&&r(l)}var p=-1;for(n=0,s=targets.length;n<s;n++)if(a===targets[n]){p=n;break}if(p>-1){for(var d=targetsProxy[p],u=d.length;u--;)if(c===d[u].observable){d.splice(u,1);break}0==d.length&&(targets[p]=null)}}(u)}}),1e4)}}_&&d(l.length)}return!0}},_=r.__targetPosition;(!_||_<0)&&Object.defineProperty(r,"__targetPosition",{value:targets.length,writable:!1,enumerable:!1,configurable:!1});var f=new Proxy(r,u);null===c&&(c={parentTarget:r,domDelay:a,parentProxy:f,observers:[],paused:!1,path:i,changesPaused:!1},observables.push(c));var m={target:r,proxy:f,observable:c};return _>-1?(null===targets[_]&&(targets[_]=r),targetsProxy[_].push(m)):(targets.push(r),targetsProxy.push([m])),f},{create:function(r,a,n){!0===r.__isProxy&&(r=r.__getTarget);var s=_create(r,a);return"function"==typeof n&&this.observe(s,n),function r(a){for(var n=a.__getTarget,s=Object.keys(n),c=0,i=s.length;c<i;c++){var l=s[c];n[l]instanceof Object&&null!==n[l]&&r(a[l])}}(s),s},observe:function(r,a){for(var n=observables.length;n--;)if(observables[n].parentProxy===r){observables[n].observers.push(a);break}}});var paths,observables,targets,targetsProxy,dupProxy,_create;const _prefixScopedVars=(r,a=null)=>(r=r.replace(INQUOTES,(function(r,n){return _prefixScopedVarsDo(n,a,!0)})),r=_prefixScopedVarsDo(r,a)),_prefixScopedVarsDo=(r,a,n)=>r=r.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w\$]([\u00BF-\u1FFF\u2C00-\uD7FF\w\$\.\[\]\'\"]+)?)\}/gim,(function(r,s){if(s.match(/^[\d]+$/))return"{"+s+"}";if("true"==s||"false"==s)return s;let c=_getScopedVar(s,a);return void 0!==c.val?n?c.val:c.fullName:s})),_preReplaceVar=(r,a=-1,n="")=>{let s=n.startsWith("Render");if(-1===a)return s?_escapeItem(r):r;void 0===resolvingObj[a]&&(resolvingObj[a]=[]);let c=resolvingObj[a].length,i="__acss"+UNIQUEREF+"_"+a+"_"+c+"_";return resolvingObj[a][c]=s?_escapeItem(r):r,i},_removeVarPlaceholders=r=>{let a,n,s,c,i,l=document.createTreeWalker(r,NodeFilter.SHOW_COMMENT),p=[];for(;l.nextNode();)if(a=l.currentNode,"active-var-"==a.data.substr(0,11))if(p.push(a),n=a.data.substr(11),void 0===varMap[n]&&(varMap[n]=[]),"/active-var"==a.nextSibling.data){void 0===_getScopedVar("scopedProxy."+n).val&&_set(scopedProxy,n,""),p.push(a.nextSibling),s=a.parentNode.insertBefore(document.createTextNode(""),a.nextSibling),varMap[n].push(s)}else varMap[n].push(a.nextSibling);else"/active-var"==a.data&&p.push(a);p.forEach(r=>{r.remove()}),l=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT);do{i=l.currentNode,"STYLE"!=i.tagName||_isACSSStyleTag(i)||(i._acssActiveID||_getActiveID(i),c=l.currentNode.textContent,void 0===varInStyleMap[i._acssActiveID]&&(varInStyleMap[i._acssActiveID]=c),c=varInStyleMap[i._acssActiveID].replace(STYLEREGEX,(function(r,a,n,s){void 0===varStyleMap[a]&&(varStyleMap[a]=[]),varStyleMap[a].push(i);let c=a.indexOf("HOST");if(-1!==c){let r=a.substr(c+4),n=idMap["id-"+a.substr(1,c-1)];return n&&n.hasAttribute(r)?n.getAttribute(r):""}{let r=_getScopedVar(a,"___none");return r.val?r.val:""}})),i.textContent=c)}while(l.nextNode())},_replaceAttrs=(r,a,n=null,s=null,c="",i=null,l="",p=-1)=>{if(!a)return"";function d(r,a,n,s,c){if(r&&r.nodeType==Node.ELEMENT_NODE){let i=_getAttrOrProp(r,a,n,null,s);if(!1!==i)return _preReplaceVar(_escapeQuo(i,s),c,s)}return!1}return-1!==a.indexOf("{@")&&(a=a.replace(/\{\@(\@?[^\t\n\f \/>"'=(?!\{)]+)\}/gi,(function(a,i){let u=!1;i.startsWith("@")&&(u=!0,i=i.substr(1));let _,f=i.split(".");if(f[1]&&"selected"==f[0]&&"SELECT"==r.tagName){if(_=_getAttrOrProp(r,f[1],u,r.selectedIndex,c),!1!==_)return _preReplaceVar(_escapeQuo(_),p,c)}else{let a,_=i.lastIndexOf(":");if(-1!==_){let n,f=i.substr(0,_),m=["beforeComponentOpen","componentOpen"],S=i.substr(_+1);if("host"==f){let a=s&&(-1!==m.indexOf(s.event)||s.origO&&-1!==m.indexOf(s.origO.event));if(-1!==m.indexOf(l)||a||s.actVal.startsWith('"{|_acss-host')&&s.obj.hasAttribute(S))n=r;else if(s&&s.compDoc&&s.compDoc.nodeType==Node.ELEMENT_NODE)n=s.compDoc;else if(!s||!a){if(!r.shadowRoot)return"{@"+i+"}";n=r.shadowRoot}}else n=_getSel(s,f);if("IFRAME"==n.tagName&&"url"==S)return _preReplaceVar(_escapeItem(n.contentWindow.location.href,p),c);if(a=d(n,S,u,c),!1!==a)return a}else{if(a=d(n,i,u,c,p),!1!==a)return a;if(a=d(r,i,u,c,p),!1!==a)return a;if(s&&s.origO){if(a=d(s.origO.secSelObj,i,u,c,p),!1!==a)return a;if(a=d(s.origO.obj,i,u,c,p),!1!==a)return a}}}return""}))),a},_replaceComponents=(r,a)=>{let n,s=0;for(;s<50&&(n=!1,s++,a=(a=_replaceHTMLVars(r,a)).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-]+)\}/gi,(function(a,s){let c=!1;if("_acss-host_"==s.substr(0,11)&&(c=!0,s=s.substr(11)),!components[s])return"{|"+s+"}";let i=components[s].data.trim();if(""!==i&&(i=ActiveCSS._sortOutFlowEscapeChars(i)),n=!0,components[s].shadow||components[s].scoped||c||components[s].htmlFile||components[s].cssFile||components[s].htmlTempl||components[s].cssTempl){let r='<data-acss-component data-name="'+s+'" data-ref="'+ ++compCount+'"';components[s].htmlFile&&(r+=' data-html-file="'+escQuotes(components[s].htmlFile)+'"'),components[s].cssFile&&(r+=' data-css-file="'+escQuotes(components[s].cssFile)+'"'),components[s].jsonFile&&(r+=' data-json-file="'+escQuotes(components[s].jsonFile)+'"'),components[s].htmlTempl&&(r+=' data-html-template="'+escQuotes(components[s].htmlTempl)+'"'),components[s].cssTempl&&(r+=' data-css-template="'+escQuotes(components[s].cssTempl)+'"'),components[s].observeOpt&&(r+=' data-observe-opt="'+escQuotes(components[s].observeOpt)+'"'),components[s].selector&&(r+=' data-html-selector="'+escQuotes(components[s].selector)+'"'),r+="></data-acss-component>",compPending[compCount]=i,i=r}else{i=ActiveCSS._sortOutFlowEscapeChars(i);let a=_handleVars(["rand","expr","attrs","scoped"],{str:i,func:r.func,o:r,obj:r.obj,varScope:r.varScope});a=_handleVars(["strings"],{obj:null,str:a.str,varScope:r.varScope},a.ref),a=_handleVars(["strings"],{str:a.str,o:r.ajaxObj,varScope:r.varScope},a.ref),i=_resolveVars(a.str,a.ref)}return i||""})),n););return 50==s&&_err("Recursion detected during component rendering. Exited after 50 attempts",r),a},_replaceJSExpression=(r,a=!1,n=!1,s=null,c=-1,i=null,l=!1)=>{if(-1===r.indexOf("{="))return r;let p;return r=r.replace(/\{\=([\s\S]*?)\=\}/gm,(function(d,u){if(""==u)return null;l||(u=_replaceScopedVarsExpr(u,s)),u=u.replace(/(scopedProxy|scopedOrig)(\.__getTarget)?/g,"scopedOrig");let _="";if(n&&(_='"'),["\t","\n","\r"].some(r=>u.includes(r)))return p=n?_+u+_:u,_preReplaceVar(p,c);try{p=Function("scopedProxy, o, scopedOrig, escapeHTML, unEscapeHTML, getVar",'"use strict";return ('+u+");")(scopedProxy,i,scopedOrig,escapeHTML,unEscapeHTML,getVar)}catch(a){_warn("JavaScript expression error ("+a+"). Actual expression evaluated: "+u);try{p=Function("scopedProxy, o, scopedOrig, escapeHTML, unEscapeHTML, getVar",'"use strict";return ("'+u.replace(/"/gm,'\\"')+'");')(scopedProxy,i,scopedOrig,escapeHTML,unEscapeHTML,getVar)}catch(a){console.log("JavaScript expression error ("+a+"): "+r+". Is this a string variable that needs double-quotes?"),console.log("Actual expression evaluated: "+u)}}return a||(p=!0===p?"true":!1===p?"false":null===p?"null":"string"==typeof p?_+p+_:"number"==typeof p?p.toString():"Invalid expression ("+u.trim()+")"),_preReplaceVar(p,c)})),a?p:r},_replaceRand=r=>(-1!==r.indexOf("{$RAND")&&(r=r.replace(/\{\$RAND((HEX)?(STR)?([\d]+)?(\-)?([\d]+)?)?\}/gm,(function(r,a,n,s,c,i,l){return c&&(c=parseInt(c)),l&&(l=parseInt(l)),i?Math.floor(Math.random()*(l-c+1))+c:_random(c||8,!!s,!!n)}))),r),_replaceScopedVars=(r,a=null,n="",s=null,c=!1,i=null,l=null,p=-1)=>{let d,u,_,f,m,S,g,v,b,h;if(!c&&n.startsWith("Render")&&-1!==r.indexOf("{{")&&-1!==r.indexOf("</")){let a=r._ACSSRepQuo();for(d=document.createElement("template"),d.innerHTML=a,u=document.createTreeWalker(d.content,NodeFilter.SHOW_ELEMENT);u.nextNode();)customTags.includes(u.currentNode.tagName)&&u.currentNode.setAttribute("data-active-scoped","");for(u.currentNode=d.content;u.nextNode();)for(h of(v=u.currentNode,b=v.attributes,S=v.parentElement?v.parentElement.closest("[data-active-scoped]"):null,g=S||i,b)){if(-1!==["data-activeid"].indexOf(h.nodeName))continue;let r=_replaceScopedVarsDo(h.nodeValue,null,"SetAttribute",{secSelObj:v,actVal:h.nodeName+" "+h.nodeValue},!0,g,l);v.setAttribute(h.nodeName,r)}for(u=document.createTreeWalker(d.content,NodeFilter.SHOW_TEXT);u.nextNode();)v=u.currentNode,_=v.parentNode,11!=_.nodeType&&(m=_getActiveID(_),f=v.textContent,S=v.parentElement?v.parentElement.closest("[data-active-scoped]"):null,g=S||i,v.textContent=_replaceScopedVarsDo(f,_,"asRender",null,!0,g,l,void 0,!0));r=(r=(r=(r=(r=d.innerHTML).replace(/_cj_s_lt_/gm,"\x3c!--")).replace(/_cj_s_gt_/gm,"--\x3e")).replace(/_cj_s_lts_/gm,"/*")).replace(/_cj_s_gts_/gm,"*/")}else r=_replaceScopedVarsDo(r,a,n,s,!1,i,l,p);return r},_replaceScopedVarsDo=(r,a=null,n="",s=null,c=!1,i=null,l=null,p=-1,d=!1)=>{let u=r;return-1!==r.indexOf("{")&&(r=r.replace(/\{((\{)?(\@)?[\u00BF-\u1FFF\u2C00-\uD7FF\w\$\' \:\"\-\.\[\]]+(\})?)\}/gm,(function(r,_){let f,m,S=!1,g=!1,v=!1;"{"==_[0]&&(S=!0,_=_.slice(1,-1));let b=_;if("@"==_[0]){if(!i)return r;g=!0;let a="host:";if(-1===(_=_.slice(1)).indexOf(a))return _warn("Non component attribution substitution is not yet supported",s),r;v=!0,_=_.replace(a,""),m=i.hasAttribute(_)?d||"SetAttribute"==n?i.getAttribute(_):_escapeItem(i.getAttribute(_)):"",f=_getActiveID(i).replace("d-","")+"HOST"+_}else{if(-1!==_.indexOf(":"))return r;let a=_getScopedVar(_,l);m=a.val,m=!0===m?"true":!1===m?"false":null===m?"null":"string"==typeof m?d||"SetAttribute"==n?m:_escapeItem(m,b):"number"==typeof m?m.toString():m&&"object"==typeof m?a.fullName:"",f=a.name}if(S&&("asRender"==n||n.startsWith("Render"))){let r,n;return _addScopedCID(f,a,l),"STYLE"==a.tagName?(r=c?"_cj_s_lts_":"/*",n=c?"_cj_s_gts_":"*/"):(r=c?"_cj_s_lt_":"\x3c!--",n=c?"_cj_s_gt_":"--\x3e"),r+"active-var-"+_varChangeToDots(f)+n+m+r+"/active-var"+n}return"SetAttribute"==n&&(S?_addScopedAttr(f,s,_resolveInnerBracketVars(u,l),c,l):c&&"SetAttribute"==n&&(m=_escapeItem(m))),_preReplaceVar(m,p)}))),-1!==r.indexOf("$")&&(r=(r=(r=r.replace(INQUOTES,(function(r,a){return a.replace(/\$/gm,"_ACSS_scoped_D")}))).replace(/(?:(^|[^\.\{]))(\$[\u00BF-\u1FFF\u2C00-\uD7FF\w]([\u00BF-\u1FFF\u2C00-\uD7FF\w]+)?)/gim,(function(r,a,n){let s,c=_getScopedVar(n,l);return s=void 0!==c.val?a+c.fullName:a+n,s}))).replace(/_ACSS_scoped_D/gm,"$")),r},_replaceScopedVarsExpr=(r,a=null)=>{if("true"==r||"false"==r||"null"==r)return r;let n,s;return r=(r=(r=(r=r.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FFa-z\$]([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\:\'\"\[\]]+)?)\}/gim,(function(r,c){if(c.startsWith("$")||-1!==c.indexOf(".$"))return"{"+c+"}";s=c;let i=_getScopedVar(c,a);return!0===i.winVar?"{"+c+"}":(n=i.val,void 0!==n?n:"{"+s+"}")}))).replace(INQUOTES,(function(r,a){return a.replace(/\$/gm,"_ACSS_scoped_D")}))).replace(/(?:(^|[^\.\{]))(\$[\u00BF-\u1FFF\u2C00-\uD7FF\w]([\u00BF-\u1FFF\u2C00-\uD7FF\w]+)?)/gim,(function(r,n,s){let c,i=_getScopedVar(s,a);return c=void 0!==i.val?n+i.fullName:n+s,c}))).replace(/_ACSS_scoped_D/gm,"$")},_replaceStringVars=(r,a,n,s=-1)=>{let c="";return a=a.replace(/\{(\$[\u00BF-\u1FFF\u2C00-\uD7FF\w\-\[\]\.\$]+)\}/gi,(function(a,i){switch(i){case"$STRING":if(r&&r.res)c=_preReplaceVar(r.res,s);else{let r=_getScopedVar("__acssSTRING",n);c=r.val||"string"==typeof r.val?_preReplaceVar(r.val,s):"{$STRING}"}return c;case"$HTML_NOVARS":case"$HTML_ESCAPED":case"$HTML":let a=_getScopedVar("__acss"+i.substr(1),n);return c=a.val||"string"==typeof a.val?_preReplaceVar(a.val,s):"{"+i+"}",c;default:if(-1!==i.indexOf("$")&&-1===["$CHILDREN","$SELF"].indexOf(i)){let r=_getScopedVar(i,n);if(!r.val)return r=_getScopedVar(i.replace(/\$/g,""),n),r.val?_preReplaceVar(r.val,s):"{"+i+"}"}return"{"+i+"}"}}))},_resolvable=r=>!(!r.startsWith("scopedProxy.")&&-1===resolvableVars.indexOf(r)&&!r.startsWith("window.")),_resolveAjaxVars=r=>{let a=typeof r.res,n=r.varScope&&privVarScopes[r.varScope]?r.varScope:"main";if("object"!==a||r.preGet)"string"===a&&(r.res=_escapeInline(r.res,"script"),r.res=_escapeInline(r.res,'style type="text/acss"'),r.acceptVars&&!r.renderComp&&(r.res=_resolveAcceptedVars(r.res,r,n)),_setHTMLVars(r));else{if("main"!=n)return void setTimeout((function(){_resolveAjaxVarsDecl(r,n),_ajaxCallbackDisplay(r)}),0);_resolveAjaxVarsDecl(r,n)}_ajaxCallbackDisplay(r)},_resolveAjaxVarsDecl=(r,a)=>{let n;_set(scopedProxy,a+".$JSON",r.res);let s=r.acceptVars&&!r.renderComp;for(n in r.res){let c=s?_resolveAcceptedVars(r.res[n],r,a):r.res[n];_set(scopedProxy,a+"."+n,c)}},_resolveAcceptedVars=(r,a,n)=>{if("string"==typeof r){let s=_handleVars(["rand","expr","attrs","scoped"],{str:r,func:a.func,o:a,obj:a.obj,secSelObj:a.secSelObj,varScope:n});s=_handleVars(["strings","html"],{str:s.str,varScope:n},s.ref);let c=_resolveVars(s.str,s.ref);return c=c.replace(/\\{/gm,"{").replace(/\\}/gm,"}"),c}},_resolveInheritance=r=>{let a=r.indexOf(".");if(-1!==a){let n=r.substr(a+1),s=_getBaseVar(n);if(!0===localStoreVars[s]){let r="local."+n;return{name:r,val:_get(scopedProxy.__getTarget,r)}}if(!0===sessionStoreVars[s]){let r="session."+n;return{name:r,val:_get(scopedProxy.__getTarget,r)}}}let n=_get(scopedProxy.__getTarget,r),s={name:r,val:n};if(void 0!==n)return s;let c=r.indexOf("."),i=r.substr(0,c),l=r.substr(c+1),p=_resolveInheritanceBubble(i,l);return p||s},_resolveInheritanceBubble=(r,a)=>{let n=strictPrivVarScopes[r];if(void 0===n||n)return!1;let s=compParents[r],c=s&&s.varScope?s.varScope:"main",i=_get(scopedProxy.__getTarget,c+"."+a);if(void 0!==i)return{name:c+"."+a,val:i};let l=_resolveInheritanceBubble(c,a);return l||!1},_resolveInnerBracketVars=(r,a)=>{let n=r;return-1!==r.indexOf("[")&&(n=r.replace(/\[([\$\u00BF-\u1FFF\u2C00-\uD7FF\w\-\.]+)/g,(function(r,n){if(DIGITREGEX.test(n)||_resolvable(n))return"["+n;let s,c=_getScopedVar(n,a);return s=void 0!==c.val?c.fullName:n,"["+s}))),n=_resolveInnerBracketVarsDo(n),n},_resolveInnerBracketVarsDo=r=>{if(-1===r.indexOf("scopedProxy."))return r;let a=r;a.startsWith("scopedProxy.")&&(a="__ACSSStartSPr"+a.substr(11));let n=_escInQuo(a,"scopedProxy\\.","__ACSSScopedP");return-1!==n.indexOf("scopedProxy.",1)&&(n=_escInQuo(n,"[","__ACSSOpSq"),n=_escInQuo(n,"]","__ACSSClSq"),a=recursInnerScoped(n),a=a.replace(/__ACSSOpSq/g,"["),a=a.replace(/__ACSSClSq/g,"]")),a=a.replace(/__ACSSScopedP/g,"scopedProxy."),a=a.replace(/__ACSSStartSPr/g,"scopedProxy"),a},recursInnerScoped=r=>{let a="scopedProxy.",n=r.indexOf(a,1),s=r.substr(0,n),c=r.substr(n);-1!==c.indexOf(a,1)&&(c=recursInnerScoped(c));let i=c.split(/\]/gm),l=i.length,p="",d=!1,u="";for(let r=0;r<l;r++){let a=i[r];d?u+="]"+a:(p+=a,/\[/.test(a)?p+="]":d=!0)}let _,f=_getScopedVar(p);return _="string"==typeof f.val?'"'+f.val+'"':"number"==typeof f.val?f.val:f.fullName,s+_+u},_resolveVars=(r,a,n="")=>{if(-1===a||void 0===resolvingObj[a])return r;let s=new RegExp("__acss"+UNIQUEREF+"_(\\d+)_(\\d+)_","gm");return r=r.replace(s,(function(r,a,s){let c;return void 0!==resolvingObj[a]&&void 0!==resolvingObj[a][s]&&(c=_escNoVars(resolvingObj[a][s]),"string"==typeof c&&n.startsWith("Render")&&(c=c.replace(/\\/gm,"____acssEscBkSl"))),c||""})),delete resolvingObj[a],r},_restoreStorage=()=>{let r=window.sessionStorage.getItem("_acssSession");if(void 0!==r){let a;for(a in scopedOrig.session=JSON.parse(r),scopedOrig.session)sessionStoreVars[a]=!0,_allowResolve("session."+a)}let a=window.localStorage.getItem("_acssLocal");if(void 0!==a){let r;for(r in scopedOrig.local=JSON.parse(a),scopedOrig.local)localStoreVars[r]=!0,_allowResolve("local."+r)}},_setACSSVariable=r=>{let a=r.func,n=r.actValSing;r.func="Var",r.actValSing=(a+" "+r.actValSing).trim(),_a.Var(r),r.func=a,r.actValSing=n},_setCSSProperty=r=>{if(!_isConnected(r.secSelObj))return;let a,n=r.actVal,s=n.indexOf("!important");-1!==s&&(a="important",n=n.substring(0,s)),r.secSelObj.style.setProperty(r.actName,n,a)},_setCSSVariable=r=>{":root"==r.origSecSel?r.secSelObj.documentElement.style.setProperty(r.func,r.actVal):r.secSelObj.style.setProperty(r.func,r.actVal)},_setHTMLVars=(r,a=!1)=>{let n=a?"":r.res,s=a?"":_escNoVars(r.res),c=a?"":_safeTags(r.res),i=r.varScope&&privVarScopes[r.varScope]?r.varScope:"main";_set(scopedProxy,i+".__acssHTML",n),_set(scopedProxy,i+".__acssSTRING",n),_set(scopedProxy,i+".__acssHTML_NOVARS",s),_set(scopedProxy,i+".__acssHTML_ESCAPED",c)};ActiveCSS._sortOutFlowEscapeChars=r=>ActiveCSS._mapRegexReturn({_ACSS_later_comma:",",_ACSS_later_brace_start:"{",_ACSS_later_brace_end:"}",_ACSS_later_semi_colon:";",_ACSS_later_colon:":",_ACSS_later_double_quote:'"'},r);const _varChangeToDots=r=>r.replace(/\[(\"|\')?/g,".").replace(/(\"|\')?\]/g,""),_varFixArr=r=>{let a,n=r.split("."),s=n.shift();for(a of n)-1!==a.indexOf(" ")?a='["'+a.replace(/\\([\s\S])|(")/,"\\$1$2")+'"]':s+=".",s+=a;return s};ActiveCSS._varUpdateDom=r=>{let a,n,s,c;for(a of r)if(a.currentPath.startsWith("session")?window.sessionStorage.setItem("_acssSession",JSON.stringify(scopedProxy.__getTarget.session)):a.currentPath.startsWith("local")&&window.localStorage.setItem("_acssLocal",JSON.stringify(scopedProxy.__getTarget.local)),-1!==a.currentPath.indexOf(".")||-1!==a.currentPath.indexOf("HOST"))if("object"==typeof a.previousValue||"object"==typeof a.newValue)for(c of(a.previousValue=a.previousValue?a.previousValue:[],a.previousValue=!0===a.previousValue.__isProxy?a.previousValue.__getTarget:a.previousValue,s=recursiveDiff.getDiff(a.previousValue,a.newValue),s)){c.path=a.currentPath+(c.path?"."+c.path.join("."):"");let r=_varFixArr(c.path);n=_get(scopedData,r),void 0!==n&&(c.val=c.val?c.val:"",_varUpdateDomDo({currentPath:c.path,newValue:c.val,type:c.op},n))}else{let r=_varFixArr(a.currentPath);if(n=_get(scopedData,r),void 0===n)continue;a.currentPath=_varChangeToDots(a.currentPath),_varUpdateDomDo(a,n)}};const _varUpdateDomDo=(r,a)=>{let n,s,c,i,l,p,d,u,_,f;n=r.newValue,_=r.currentPath.indexOf("HOST");let m,S=null;if("_"!=r.currentPath.substr(0,1)||(S=r.currentPath.substr(0,r.currentPath.indexOf(".")),"delete"!=r.type||""!=S))for(s in"object"==typeof varMap[r.currentPath]&&varMap[r.currentPath].forEach((a,s)=>{a.isConnected?a.textContent=_unEscNoVars(n.toString()):varMap[r.currentPath].splice(s,1)}),"object"==typeof varStyleMap[r.currentPath]&&varStyleMap[r.currentPath].forEach((a,s)=>{if(a.isConnected){let s=varInStyleMap[a._acssActiveID].replace(STYLEREGEX,(function(a,s){if(s==r.currentPath)return n;{let r=s.indexOf("HOST");if(-1!==r){let n=s.substr(r+4),c=idMap["id-"+s.substr(1,r-1)];return c&&c.hasAttribute(n)?c.getAttribute(n):a}{let r=_get(scopedProxy.__getTarget,s);return r||a}}}));a.textContent=_unEscNoVars(s.toString())}else varStyleMap[r.currentPath].splice(s,1),delete varInStyleMap[a]}),a.attrs)for(i in m=!1,a.attrs[s]){if(!m){if(m=!0,f=a.attrs[s][i].scopeRef,u=f?actualDoms[f]:document,void 0===u)break;if(d=supportsShadow&&u instanceof ShadowRoot?u.host:idMap["id-"+r.currentPath.substr(1,_-1)],c=idMap[s],!c){delete a.attrs[s];break}}if(l=a.attrs[s][i].orig,!c.hasAttribute(i))return;p=_replaceScopedVars(l,null,"",null,!0,d,S),c.setAttribute(i,_unEscNoVars(p))}else _deleteScopeVars(r.currentPath)},getVar=(r,a)=>_get(r,a);ActiveCSS._deHighlightDOM=()=>{document.querySelectorAll(".activecss-internal-devtools-overlay").forEach((function(r){ActiveCSS._removeObj(r)}))};const _drawHighlight=(r,a)=>{let n=document.createElement("div");n.classList="activecss-internal-devtools-overlay","full"==a?(n.style.backgroundColor="rgba(81, 136, 195, 0.46)",n.style.border="1px solid #34f4ff"):n.style.border="3px dashed #34f4ff",n.style.position="fixed",n.style.zIndex="99999999999999",n.style.display="block",n.style.borderRadius="3px",n.style.top=r.y+"px",n.style.left=r.x+"px",n.style.width=r.width+(isNaN(r.width)?"":"px"),n.style.height=r.height+(isNaN(r.height)?"":"px"),document.body.appendChild(n)};ActiveCSS._hasSetupEnded=()=>setupEnded,ActiveCSS._highlightDOM=r=>{if("body"==(r=_stripOffConditionals(r))||"window"==r)_drawHighlight({x:0,y:0,width:"100%",height:"100%"},"full");else{try{document.querySelectorAll(r).forEach((function(r){if("none"!==getComputedStyle(r,null).display)_drawHighlight(r.getBoundingClientRect(),"full");else{let a=r.style.getPropertyValue("display"),n=r.style.getPropertyPriority("display");r.style.setProperty("display","block","important"),_drawHighlight(r.getBoundingClientRect()),""!==a?r.style.removeProperty("display"):r.style.setProperty("display",a,n)}}))}catch(a){console.log(r+" is not a valid selector.")}}};const _sendMessage=(r,a,n,s="")=>{let c;if("object"==typeof r){let a=_clone(r);a.e&&(a.e=""),a.doc&&(a.doc=""),a.compDoc&&(a.compDoc=""),a.obj&&(a.obj=""),a.secSelObj&&(a.secSelObj=""),c=JSON.stringify(a)}else c=r;if(!setupEnded)return debuggerCo++,void devtoolsInit.push([c,a,debuggerCo]);"debugOutput"==a&&(s||(s=++debuggerCo)),window.postMessage({message:c,messageType:a,orderNo:s,whereTo:n,source:"causejs-devtools-extension"},"*")};ActiveCSS._sendOverMediaQueries=()=>JSON.stringify(mediaQueriesOrig);const _stripOffConditionals=r=>{let a,n=r.split(":"),s=n.length,c=n[0];for(a=1;a<s;a++)""!==n[a].trim()&&(c+=conditionals[n[a]]?"":":"+n[a]);return c},_tellElementsToUpdate=()=>{debuggerActive&&_sendMessage("reloadElements","instruction","editor")},_tellPanelToUpdate=()=>{debuggerActive&&_sendMessage("reloadPanel","instruction","tracker")};ActiveCSS._addToConfig=(r,a,n,s,c,i,l,p)=>{switch(_setupEvent(a,n),r){case"a":p=_cleanUpRuleValue(p);let r,d=config,u=p.split(", "),_=u.length;for(r=0;r<_;r++)config=_assignRule(d,n,a,s,i,l,u[r],"","","",c)}_tellPanelToUpdate()},ActiveCSS._checkEvEditor=r=>evEditorExtID&&evEditorExtID==r,ActiveCSS._checkEventDupe=(r,a,n)=>{if(!(config[r]&&config[r][n]&&config[r][n][a||0]))return 0;try{return document.querySelector(r)?1:2}catch(a){return console.log(r+" is not a valid selector (4)."),2}},ActiveCSS._checkPrimSel=(r,a,n)=>{if("window"==a||"body"==a)return!0;let s=!1;try{return document.querySelectorAll(a).forEach((function(a,n){if(a.contains(r))return s=!0,!1})),!!s}catch(r){return console.log(a+" is not a valid selector (2)."),!1}};const _cleanUpRuleValue=r=>{let a,n=r.split(","),s=n.length;for(a=0;a<s;a++)n[a]=n[a].trim();return n.join(", ")};ActiveCSS._editConfig=(r,a,n,s,c,i,l,p="",d="",u="",_="",f="",m="",S="",g="")=>{switch(p=p||"0",d=d||"0",_setupEvent(n,c),S=_cleanUpRuleValue(S),g=_cleanUpRuleValue(g),r){case"p":if(!(config[s]&&config[s][a]&&config[s][a][i]&&config[s][a][i][p]))return;let r,v,b,h=config[s][a][i][p];for(r in delete config[s][a][i][p],0===Object.keys(config[s][a][i]).length&&delete config[s][a][i],0===Object.keys(config[s][a]).length&&delete config[s][a],0===Object.keys(config[s]).length&&delete config[s],h)for(v=h[r].length,b=0;b<v;b++)m=h[r][b].name,g=h[r][b].value,ActiveCSS._addToConfig("a",n,c,l,d,r,m,g);break;case"s":if(!(config[s]&&config[s][a]&&config[s][a][i]&&config[s][a][i][p][u]&&config[s][a][i][p][u]))return;let C=config[s][a][i][p][u];delete config[s][a][i][p][u],config[s][a][i][p][_]=C;break;case"a":ActiveCSS._removeFromConfig("a",n,c,l,d,_,f,S),ActiveCSS._addToConfig("a",n,c,l,d,_,m,g)}_tellPanelToUpdate()},ActiveCSS._formatConditional=r=>{let a,n=r.split(":"),s=n.length,c=n[0];for(a=1;a<s;a++)""!==n[a].trim()&&(c+=":",c+=conditionals[n[a]]?'<span class="active-event-cond-embedded">'+n[a]+"</span>":n[a]);return c},ActiveCSS._inspectEl=r=>{try{let a=document.querySelector(r);inspect(a)}catch(a){console.log(r+" is not a valid selector (3).")}};const _miniHandleEventForEditor=r=>{let a,n,s,c,i=r.obj,l=r.thisAction,p=r.component?"|"+r.component:null,d=[],u={},_=!1,f=selectors[l].length;if(p){for(a=0;a<f;a++)if(c=selectors[l][a].indexOf(":"),selectors[l][a].substr(0,c)===p&&(n=selectors[l][a].substr(c+1),-1===n.indexOf("<")&&!d.includes(selectors[l][a])))if("&"==n)d.push(selectors[l][a]);else try{i.matches(n)&&d.push(selectors[l][a])}catch(r){}}else for(a=0;a<f;a++)if(!["~","|"].includes(selectors[l][a].substr(0,1))&&(n=selectors[l][a],-1===n.indexOf("<")&&!d.includes(selectors[l][a])))try{i.matches(n)&&d.push(selectors[l][a])}catch(r){}for(f=d.length,s=0;s<f;s++)config[d[s]]&&config[d[s]][l]&&(u[d[s]]||(u[d[s]]={}),u[d[s]]=config[d[s]][l],_=!0);return[u,_]},_removeArrItem=(r,a)=>{let n;for(n=0;n<r.length;n++)if(r[n]===a){r.splice(n,1);break}return r};ActiveCSS._removeFromConfig=(r,a,n,s,c,i,l,p)=>{switch(r){case"p":if(!config[n]||!config[n][a]||!config[n][a][s])return;delete config[n][a][s],0===Object.keys(config[n][a]).length&&delete config[n][a],0===Object.keys(config[n]).length&&delete config[n];break;case"s":if(!(config[n]&&config[n][a]&&config[n][a][s]&&config[n][a][s][c]&&config[n][a][s][c][i]))return;_removeArrItem(config[n][a][s][c],config[n][a][s][c][i]),0===config[n][a][s][c].length&&_removeArrItem(config[n][a][s],config[n][a][s][c]),0===Object.keys(config[n][a][s]).length&&delete config[n][a][s],0===Object.keys(config[n][a]).length&&delete config[n][a],0===Object.keys(config[n]).length&&delete config[n];break;case"a":config=_removeRule(config,n,a,s,c,i,l,p)}_tellPanelToUpdate()};const _removeRule=(r,a,n,s,c,i,l,p)=>{let d;if(void 0===r[a][n][s])return r;if(void 0===r[a][n][s][c])return r;if(void 0===r[a][n][s][c][i])return r;if(d=ActiveCSS._getPosOfRule(r[a][n][s][c][i],l),-1!=d)if(p=_cleanUpRuleValue(p),r[a][n][s][c][i][d].value==p)r[a][n][s][c][i].splice(d,1),0===r[a][n][s][c][i].length&&_removeArrItem(config[a][n][s][c],config[a][n][s][c][i]),0===r[a][n][s][c].length&&delete config[a][n][s][c],0===Object.keys(r[a][n][s]).length&&delete config[a][n][s],0===Object.keys(r[a][n]).length&&delete config[a][n],0===Object.keys(r[a]).length&&delete config[a];else{let l,u,_,f,m=p.split(","),S=m.length;for(l=0;l<S;l++)f=m[l].trim(),u=r[a][n][s][c][i][d].value.split(", "),_=u.indexOf(f),-1!==index&&u.splice(index,1),r[a][n][s][c][i][d].value=u.join(", ")}return r};ActiveCSS._returnTree=r=>{if(!setupEnded)return;let a,n,s,c,i,l={},p=r;c=_getRootNode(r),c.isSameNode(document)||(i=c.host._acssComponent,i||(i=null)),Object.keys(selectors).sort().forEach((function(c){var d,u,_="";r=p,n=0;let f=c;if(f=_getRealEvent(f),s=!0,!1===f&&(s=!1),_=i,s){let r=document.createElement("div");r.id="cause-js-elements-ext",document.body.append(r),r.attachShadow({mode:"open"});let a=document.createElement("div");r.shadowRoot.append(a),a.addEventListener(f,(function(r){r.preventDefault(),r.stopImmediatePropagation(),d=r.bubbles,u=r.composed}),{capture:!1,once:!0});try{a[f]()}catch(r){d=!1,u=!1}ActiveCSS._removeObj(r)}else d=!1;if("mouseover"!=c&&"click"!=c||"A"!=r.tagName||r._acssNavDrawn||_setUpNavAttrs(r,r.tagName),"window"!=r&&r){for(;r.parentNode&&(a=_miniHandleEventForEditor({obj:r,thisAction:c,component:_}),a[1]&&(l[c]||(l[c]={}),l[c][n]||(l[c][n]={}),l[c][n]=a[0],n++),d);)if((r=r.parentNode)&&r instanceof ShadowRoot){if(!u)break;r=r.host;let a=_getRootNode(r);a.isSameNode(document)?_=null:(_=a.host._acssComponent)||(_=null)}a=_miniHandleEventForEditor({obj:window,thisAction:c})}})),_sendMessage(l,"treeSent","editor")},ActiveCSS._startEvEditor=r=>(evEditorActive=!0,evEditorExtID=r,coreVersionExtension),ActiveCSS._checkDebugger=r=>debuggerExtID&&debuggerExtID==r;const _debugOutput=r=>{_sendMessage(r,"debugOutput","tracker")};ActiveCSS._sendInitMessages=()=>{let r,a=devtoolsInit.length;for(r=0;r<a;r++)_sendMessage(devtoolsInit[r][0],devtoolsInit[r][1],"tracker",devtoolsInit[r][2]);devtoolsInit=[]},ActiveCSS._sendOverComponents=()=>JSON.stringify(components),ActiveCSS._sendOverConditionals=()=>JSON.stringify(conditionals),ActiveCSS._sendOverConfig=()=>JSON.stringify(config),ActiveCSS._sendOverEvents=()=>debuggerEvs,ActiveCSS._startDebugger=r=>(debuggerness=!0,debuggerActive=!0,debuggerExtID=r,coreVersionExtension);const _stopDebugger=()=>{debuggerness=!1,debuggerActive=!1},_stopEvEditor=()=>{evEditorActive=!1},_cookieExists=r=>!(!r||/^(?:expires|max\-age|path|domain|secure)$/i.test(r))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(r).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie),_getCookie=r=>r&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(r).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null,_addActValRaw=r=>{r.avRaw=r.actVal,-1!==r.avRaw.indexOf("?")&&(r.avRaw=_getBaseURL(r.avRaw))},_ajax=(r,a,n,s,c,i,l)=>{preGetMid++;var p,d=new XMLHttpRequest;switch(d.open(r,n,!0),a){case"html":case"txt":p="text/html";break;case"json":p="application/json";break;case"data":p="";break;default:p="application/x-www-form-urlencoded"}if(p&&d.setRequestHeader("Content-type",p),l){if(l.csrf){let r=document.querySelector('meta[name="csrf-token"]');r&&d.setRequestHeader("X-CSRF-TOKEN",r.getAttribute("content"))}if(l.xhrHeaders){for(const r of l.xhrHeaders)try{d.setRequestHeader(r.key,r.val)}catch(a){_err("Invalid header and value used in ajax request",l,"header:",r?r.key:r,"value:",r?r.val:r)}}}d.onload=()=>{if(200!=d.status)return preGetMid--,void(i?i(d.responseText,d.status,l):_err("Tried to get file: "+n+", but failed with error code: "+d.status,l));preGetMid--,null!==c&&c(d.responseText,l)},d.onerror=()=>{preGetMid--,i?i("Network error",0,l):_err("Tried to get file: "+n+", but failed due to a network error.")},"POST"==r&&null!==s?d.send(s):d.send()},_ajaxCallback=(r,a)=>{if("string"==typeof r&&""!==r.trim())try{a.res="JSON"==a.dataType?JSON.parse(r):r,_resolveAjaxVars(a)}catch(n){_warn("Ajax error: "+n,a),_ajaxCallbackErr(r,"",a)}else a.res="",a.renderComp||_setHTMLVars(a,!0),_ajaxCallbackDisplay(a)},_ajaxCallbackDisplay=r=>{if(r.error||!r.cache&&!r.preGet||(ajaxResLocations[r.finalURL]=r.res),r.preGet&&delete preGetting[r.finalURL],r.renderComp){let{varScope:a,renderO:n,typ:s,obj:c,compName:i,compDoc:l,childTree:p,numTopNodesInRender:d,numTopElementsInRender:u}=r.renderObj;if(c.classList.remove(s+"Pending"),_insertResForComponents(c,s,r.res,r.acceptVars),_isPendingAjaxForComponents(c))return;_renderCompDoms(n,l,p,d,u)}else!r.error&&r.preGet?_handleEvents({obj:r.obj,evType:"afterAjaxPreGet",eve:r.e,otherObj:r,varScope:r.varScope,evScope:r.evScope,compDoc:r.compDoc,component:r.component,_maEvCo:r._maEvCo}):_ajaxDisplay(r)},_ajaxCallbackErr=(r,a,n)=>{n.error=!0,n.errorCode=a||"",_syncEmpty(n._subEvCo);let s,c,i="afterAjax"+(n.preGet?"PreGet":"")+(n.formSubmit?"Form"+(n.formPreview?"Preview":n.formSubmit?"Submit":""):"");if(!n.obj&&n.renderObj&&n.renderObj.renderO&&n.renderObj.renderO.evObj?(s=n.renderObj.renderO.evObj.obj,c=!0):s=n.obj,!c||!s.hasAttribute("data-ajax-failure")){let r={obj:s,evType:i+n.errorCode,eve:n.e,otherObj:n,varScope:n.varScope,evScope:n.evScope,compDoc:n.compDoc,component:n.component,_maEvCo:n._maEvCo};n.errorCode&&_handleEvents(r),r.evType=i+"Error",_handleEvents(r)}c&&s.setAttribute("data-ajax-failure",a),n.preGet?(delete preGetting[n.finalURL],(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax-pre-get callback error debug: failed with error "'+a+'".')):(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax callback error debug: failed with error "'+a+'".')},_ajaxDisplay=r=>{let a="afterAjax"+(r.formSubmit?"Form"+(r.formPreview?"Preview":r.formSubmit?"Submit":""):"");_handleEvents({obj:r.obj,evType:a,eve:r.e,otherObj:r,varScope:r.varScope,evScope:r.evScope,compDoc:r.compDoc,component:r.component,_maEvCo:r._maEvCo}),""!==r.hash&&(document.location.hash="",document.location.hash=r.hash),hashEventAjaxDelay&&(hashEventAjaxDelay=!1,_trigHashState(r.e)),_syncRestart(r,r._subEvCo)},_ajaxDo=r=>{if(r.preGet&&preGetMid){let a=_getParVal(r.actVal,"max");if(preGetMid==(preGetMax=""!=a?a:6))return}let a=_extractBracketPars(r.actVal,["header"],r);if(a.header){"string"==typeof a.header&&(a.header=[a.header]),r.xhrHeaders=[];const n=r=>r.trim()._ACSSRepQuo().replace(/_ACSS_comma/g,",");let s=r&&r.renderObj?r.renderObj.renderO:r;for(const c of a.header){let a=_escInQuo(c,",","_ACSS_comma").split(",");r.xhrHeaders.push({key:_basicOVarEval(n(a[0]),s),val:_basicOVarEval(n(a[1]),s)})}}let n=a.action.split(" ");r.formMethod=_optDef(n,"get","GET","POST"),r.dataType=_optDef(n,"html","HTML","JSON"),r.cache=_optDef(n,"cache",!0,!1),r.nocache=_optDef(n,"nocache",!0,!1),r.acceptVars=_optDef(n,"accept-vars",!0,!1),r.csrf=_optDef(n,"csrf",!0,!1);let s=(r.nocache?"_="+Date.now()+"&":"")+"_ACSS=1"+(r.formPreview?"&_ACSSFORMPREVIEW=1":"")+(r.formSubmit?"&_ACSSFORMSUBMIT=1":"")+"&_ACSSTYPE="+r.dataType;r.pars=s;let c=r.url;if(r.preGet&&""===c)return;c=_getAbsURLFromRel(c,r),r.formSubmit&&(r.pars+="&"+_checkForm(r.secSelObj,"pars")),"GET"==r.formMethod&&(c=_appendURIPar(c,r.pars,r.doc)),r.hash="";let i=c.indexOf("#");if(-1!==i&&(r.hash=c.substr(i+1),c=c.substr(0,i)),c=_attachGetVals(r.actVal,c,r.doc,"get-pars"),r.pars=_attachPostVals(r.actVal,r.pars),r.finalURL="GET"==r.formMethod?c:_appendURIPar(c,r.pars,r.doc),hashEventTrigger&&(hashEventAjaxDelay=!0),ajaxResLocations[r.finalURL])r.preGet||(r.res=ajaxResLocations[r.finalURL],_resolveAjaxVars(r));else{if(r.preGet){if(preGetting[r.finalURL])return;preGetting[r.finalURL]=!0}let a=r.pars,n=r.dataType;if("POST"==r.formMethod&&r.formSubmit){let s,c=new FormData,i=!1,l=0,p=r.secSelObj.elements.length;for(l=0;l<p;l++)s=r.secSelObj.elements[l],s.hasAttribute("name")&&!s.disabled&&"input"==s.nodeName.toLowerCase()&&"file"==s.type.toLowerCase()&&""!=s.value&&(i=!0,Array.from(s.files).forEach(r=>{c.append(s.name,r)}));i&&(new URLSearchParams(r.pars).forEach((r,a)=>{c.append(a,r)}),a=c,n="data")}_ajax(r.formMethod,n,c,a,_ajaxCallback.bind(this),_ajaxCallbackErr.bind(this),r)}},_appendURIPar=(r,a,n)=>{var s=new RegExp("^([a-z]+://|//)","i");""!==r&&s.test(r)||(r=window.top.location.protocol+"//"+window.top.location.host+("/"!=r.substr(0,1)?"/":"")+r);let c,i,l=new URL(r),p=a.split("&"),d="";for(c of p)if(-1!==c.indexOf("="))i=c.split("="),i[1]?l.searchParams.set(i[0],i[1]):l.searchParams.set(i[0],"");else if("{#"==c.substr(0,2)){let r=c.slice(2,-1),a=n.getElementById(r);if("FORM"==a.tagName){let r=_checkForm(a,"pars"),s=_appendURIPar(l,r,n);l=new URL(s)}}else d+=c;return l+d},_attachGetVals=(r,a,n,s)=>{let c=_getParVal(r,s);return c&&(a=_appendURIPar(a,c,n)),a},_attachPostVals=(r,a)=>{let n=_getParVal(r,"post-pars");return n&&(a+="&"+n),a},_getAbsURLFromRel=(r,a)=>{let n;n=a.renderComp?components[a.renderObj.compName].file:a.file?a.file:window.location.href;let s=r.trim(),c=-1!==s.indexOf("../");if(s.startsWith("/")||-1!==s.indexOf("://"))return c&&_err('"../" can only be used at the beginning of a URL.',a,r),r;let i=n.lastIndexOf("/"),l=n.substr(0,i+1),p=l;if(c){let n,c=s.split("../"),i=!1;for(n of c)i&&_err('"../" can only be used at the beginning of a URL.',a,r),""!=n?(s=p+n,i=!0):(""==p&&_err('Too many "../" for relative url. The root path being used is '+l+".",a,r),p=p.substr(0,p.slice(0,-1).lastIndexOf("/")+1))}else s=l+s;return s},_getFile=(r,a,n={})=>{_ajax("GET",a,r,null,_addConfig.bind(this),_addConfigError.bind(this),n)},_getParVal=(r,a)=>{if(-1!==r.indexOf(a+"(")){let n=new RegExp(a+"\\(([^)]*)\\)","g").exec(r)||"";if(n)return n[1]}return""},_insertResForComponents=(r,a,n,s)=>{let c=r.getAttribute("data-ref"),i="";void 0===compPending[c]&&(compPending[c]=""),a.startsWith("css")?i="<style>"+n+"</style>":a.startsWith("json")?(void 0===compPendingJSON[c]&&(compPendingJSON[c]=[]),compPendingJSON[c]["_"+compPendingJSONCo]=n,compPendingJSONCo++):i=n,s&&(void 0===compPendingHTML[c]&&(compPendingHTML[c]=[]),compPendingHTML[c]["_"+compPendingHTMLCo]=i,i="_acssIntCompVarRepl_"+compPendingHTMLCo+"_",compPendingHTMLCo++),compPending[c]+=i},_isPendingAjaxForComponents=r=>r.classList.contains("htmlPending")||r.classList.contains("cssPending")||r.classList.contains("jsonPending"),_absLeft=r=>{for(var a=0;r;r=r.offsetParent)a+=r.offsetLeft;return a},_absTop=r=>{for(var a=0;r;r=r.offsetParent)a+=r.offsetTop;return a},_actValSelItem=r=>{let a=r.actVal.split(" "),n=a.splice(-1);return[_getSel(r,a.join(" ")),n[0]]};ActiveCSS._addClassObj=(r,a)=>{if(!r||!r.classList)return;let n=a.replace(".","").split(" ");r.classList.add(...n)};const _checkBoundaries=(r,a)=>{let n=_absLeft(r),s=n+r.offsetWidth,c=_absTop(r),i=c+r.offsetHeight,l=_absLeft(a),p=l+a.offsetWidth,d=_absTop(a);return{top:c,right:s,bottom:i,left:n,cTop:d,cRight:p,cBottom:d+a.offsetHeight,cLeft:l}},_checkForm=(r,a)=>{if(!r)return!1;for(var n,s,c,i,l,p,d="check"==a,u="pars"==a,_="",f=[],m=0,S=r.elements.length;m<S;m++)if(s=!1,(n=r.elements[m]).hasAttribute("name")&&!n.disabled){switch(n.nodeName.toLowerCase()){case"input":switch(n.type.toLowerCase()){case"checkbox":s=n.checked!=n.defaultChecked,_+="&"+n.getAttribute("name")+"="+(n.checked?n.value?n.value:"on":"");break;case"radio":s=n.checked!=n.defaultChecked,n.checked&&(_+="&"+n.getAttribute("name")+"="+encodeURIComponent(n.value));break;default:s=n.value!=n.defaultValue,_+="&"+n.getAttribute("name")+"="+encodeURIComponent(n.value)}break;case"select":for(c=0,i=0,l=n.options.length;i<l;i++)p=n.options[i],s=s||p.selected!=n.defaultSelected,p.defaultSelected&&(c=i);s&&!n.multiple&&(s=c!=n.selectedIndex),_+="&"+n.getAttribute("name")+"="+encodeURIComponent(n.options[n.selectedIndex].value);break;case"textarea":default:s=n.value!=n.defaultValue,_+=u?"&"+n.getAttribute("name")+"="+encodeURIComponent(n.value):""}d&&s&&f.push(n)}return d?!!f.length:u?"_ACSSFORMNAME="+(r.name?r.name:"")+_:void 0},_checkMedia=r=>window.matchMedia(r).matches,_checkSupport=r=>(SUPPORT_ED||_warn("CSS @support statement is not supported in this browser"),window.CSS.supports(r)),_clone=r=>Object.assign({},r),_componentDetails=r=>{let a=_getRootNode(r);return _getComponentDetails(a)},_composedPath=r=>{if(r.composedPath)return r.composedPath();{if(r.path)return r.path;let a=r.target,n=[];for(;null!==a.parentNode;)n.push(a),a=a.parentNode;return n.push(document,window),n}},_condDefSelf=r=>-1!==CONDDEFSELF.indexOf(r.replace(/not\-/,"")),_convertToMS=(r,a)=>{if("stack"==r||"0"==r)return 0;var n=/^(\d+)(s|ms)?$/i.exec(r);n||_err(a);var s=parseFloat(n[1]);return"s"==(n[2]||"ms").toLowerCase()?1e3*s:s},_countPlaces=r=>{let a=r.toString(),n=a.indexOf(".");return-1==n?0:a.length-n-1};ActiveCSS._decodeHTML=r=>(new DOMParser).parseFromString(r,"text/html").documentElement.textContent;const _doDebug=(r,a)=>{if(a){if(-1!==debugMode.indexOf(":")){let n=a.split(":");return-1!==debugMode.indexOf(n[0]+":"+r)}return-1!==debugMode.indexOf(a)||-1!==debugMode.indexOf(r)}return-1!==debugMode.indexOf(":")?-1!==debugMode.indexOf(r)&&debugMode.indexOf(":")!==debugMode.indexOf(r)-1:-1!==debugMode.indexOf(r)},_eachRemoveClass=(r,a,n="")=>{let s=_getSels(r,n+" ."+a);s&&s.forEach((function(r,n){r&&ActiveCSS._removeClassObj(r,a)}))},_endsWithAny=(r,a)=>{let n;for(n of r)if(a.endsWith(n))return!0},_err=(r,a,...n)=>{throw DEVCORE?(_errDisplayLine("Active CSS breaking error",r,["color: red"],a,n),"error, internal stack trace --\x3e"):"ACSS error: "+r},_errDisplayLine=(r,a,n,s,c)=>{let i,l;c.length>0&&(i=["More info:",...c],l=Array.prototype.slice.call(i)),a="%c"+r+", "+a,s&&(a+=' --\x3e "'+(s.actName||"")+": "+s.actVal+';"',s.file&&(a+=s.file&&s.file.startsWith("_inline_")?"    (embedded ACSS)":"    ((line "+s.line+", file: "+s.file+")")),console.log(a,n),l&&console.log.apply(console,l),s&&console.log("Target:",s),console.log("Config:",config),console.log("Variables:",scopedOrig),conditionals.length>0&&console.log("Conditionals:",conditionals),components.length>0&&console.log("Components:",components)},_escapeInnerQuotes=r=>{const a=/( [\u00BF-\u1FFF\u2C00-\uD7FF\w\-]+\=\")/;let n=r.replace(/(<\s*[\u00BF-\u1FFF\u2C00-\uD7FF\w\-]+[^>]*>)/gm,(function(r,n){let s,c,i=(n=n.replace(/\\"/gm,"____acssEscQuo")).split(a),l="",p=i.length;for(s=0;s<p;s++){let r=i[s].indexOf('="');if(s>0&&-1!==r&&'"'!=i[s-1].slice(-1)&&-1===i[s-1].indexOf("<"))l+=i[s].replace(/"/gm,"&quot;");else if(-1!==r||-1===i[s].indexOf('"'))l+=i[s];else{let r=i[s].replace(/"/gm,"&quot;");c=r.lastIndexOf("&quot;"),l+=r.substring(0,c)+'"'+r.substring(c+6)}}return l}));return n=n.replace(/____acssEscQuo/gm,'"'),n=n.replace(/____acssEscBkSl/gm,"\\"),n},_escapeQuo=(r,a)=>r.replace(/"/g,a.startsWith("Render")?'"':'\\"');function _escCommaBrack(r,a){r=(r=r.replace(/\\\"/g,"_ACSS_i_dq")).replace(/\\'/g,"_ACSS_i_sq");let n,s={"\\,":"__ACSS_int_com","\\(":"_ACSS_i_bo","\\)":"_ACSS_i_bc","\\{":"_ACSS_i_co","\\}":"_ACSS_i_cc","\\[":"_ACSS_i_so","\\]":"_ACSS_i_sc"},c={",":"__ACSS_int_com","(":"_ACSS_i_bo",")":"_ACSS_i_bc","{":"_ACSS_i_co","}":"_ACSS_i_cc","[":"_ACSS_i_so","]":"_ACSS_i_sc"},i=(r=(r=r.replace(/("([^"]|"")*")/g,(function(r,a){return ActiveCSS._mapRegexReturn(s,a,c)}))).replace(/('([^']|'')*')/g,(function(r,a){return ActiveCSS._mapRegexReturn(s,a,c)}))).split(","),l=0,p="";for(n of i)l+=n.split("[").length-n.split("]").length,l+=n.split("(").length-n.split(")").length,l+=n.split("{").length-n.split("}").length,p+=0!==l?n+"__ACSS_int_com":n+",";return 0!==l?(p=_escCommaBrackClean(p,c),p=p.replace(/__ACSS_int_com/g,","),_err("Unbalanced JavaScript equation in var command - too many brackets, curlies or parentheses, or there could be incorrectly escaped characters: "+p,a),p):(p=p.slice(0,-1),p=p.replace(/\,/g,"_ACSSComma"),p=_escCommaBrackClean(p),p)}function _escCommaBrackClean(r,a){let n={_ACSS_i_dq:'\\"',_ACSS_i_sq:"\\'",__ACSS_int_com:",",_ACSS_i_bo:"(",_ACSS_i_bc:")",_ACSS_i_co:"{",_ACSS_i_cc:"}",_ACSS_i_so:"[",_ACSS_i_sc:"]"};return r=(r=r.replace(/("([^"]|"")*")/g,(function(r,a){return ActiveCSS._mapRegexReturn(n,a)}))).replace(/('([^']|'')*')/g,(function(r,a){return ActiveCSS._mapRegexReturn(n,a)}))}const _escForRegex=r=>r.replace(REGEXCHARS,"\\$&"),_escInQuo=(r,a,n)=>{let s=_escForRegex(a),c=new RegExp(s,"g");return r=r.replace(/"(.+?)"/g,(function(r,a){return a='"'+a.replace(c,n)+'"'}))},_escNoVars=r=>"string"==typeof r?r.replace(/\{/gim,"__ACSSnoVarsOpCurly").replace(/\}/gim,"__ACSSnoVarsClCurly"):r,_evalDetachedExpr=(r,a)=>_replaceJSExpression("{="+r+"=}",!0,!1,a,-1),_extractBracketPars=(r,a,n)=>{let s,c,i,l=r,p={};return l=l.replace(/\\\(/g,"_ACSS_opPa").replace(/\\\)/g,"_ACSS_clPa"),l=_escInQuo(l,"(","_ACSS_opPa"),l=_escInQuo(l,")","_ACSS_clPa"),a.forEach(a=>{let d=[];for(;;){let u=l;if(s=l.indexOf(a+"("),-1===s){d.length>0&&(p[a]=1==d.length?d[0]:d);break}c=a.length+1,l=u.substr(0,s-1).trim(),i=_extractBracketParsSplit(u.substr(s+c),r,n),d.push(_extractBracketParsUnEsc(i.value)),l+=i.remainder}}),p.action=_extractBracketParsUnEsc(l),p},_extractBracketParsUnEsc=r=>r.replace(/_ACSS_opPa/g,"\\(").replace(/_ACSS_clPa/g,"\\)"),_extractBracketParsSplit=(r,a,n)=>{let s={},c=r.split("(");if(1==c.length){let a=r.indexOf(")");-1===a&&_err("No closing parenthesis found for parameter in action command",n),s.value=r.substr(0,a).trim(),s.remainder=r.substr(a+1)}else{let r,i,l,p="",d=0;for(let u=0;u<c.length;u++){if(r=c[u],d++,i=_extractBracketParsInner(r,d,a,n),"number"==typeof i)d-=i;else if(i.value){s.value=p+i.value,s.remainder=i.remainder,u<c.length&&(l=c.slice(u+1),s.remainder+=(void 0!==typeof l[0]&&l.length>0?"(":"")+l.join("("));break}p+=r+"("}}return s},_extractBracketParsInner=(r,a,n,s)=>{let c=r.split(")");if(!(c.length-1>a)){if(c.length-1<a)return c.length-1;{let r={};return r.remainder=c.slice(-1),r.value=c.slice(0,-1).join(")"),r}}void 0!==s?_err("Too many closing parenthesis found in action command",s):_err("Too many closing parenthesis found in component statement: "+n)},_fade=r=>{let a,n,s,c,i,l,p,d,u,_=r.actVal.split(" "),f=_.length;for(a=f-1;a>-1;a--)if(!c&&_isPositiveFloat(_[a]))(_[a]<0||_[a]>1)&&_err("Invalid fading opacity number:",r,_[a]),c=_[a];else if(!s&&_isPositive(_[a][0]))s=_convertToMS(_[a],"Invalid fading delay: "+_[a]);else if("FadeOut"==r.func&&"no-hide"==_[a])l=!0;else if("FadeOut"==r.func&&"complete-then-hide"==_[a])p=!0;else{if(i||a!=f-1){_.splice(a+1),n=_.join(" ").trim(),n||_err("Invalid fading selector:",r,n);break}i=_[a]}if(i||"FadeOut"==r.func||(i="initial"),n?u=_getSels(r,n):"object"==typeof r.secSelObj&&(u=[r.secSelObj]),!u)return!1;u.forEach((function(a){d=_fadeGetFunc(a,r.func,c,r),d&&_fadeDo(a,s,d,c,i,l,p,r)}))},_fadeGetFunc=(r,a,n,s)=>{let c,i=a,l=window.getComputedStyle(r);if(r.style.opacity||(r.style.opacity=l.opacity,c=r.style.opacity),"none"==l.display&&(r.style.opacity=0),"FadeTo"==a){let a=r.style.opacity;if(a>n)i="FadeOut";else if(a==n)return void _syncRestart(s,s._subEvCo)}return i},_fadeDo=(r,a,n,s,c,i,l,p)=>{var d=+new Date,u=d,_=d;r._acssMidFade=u;window.getComputedStyle(r);let f=r.style.opacity;if(f!=(s=s||("FadeOut"==n?0:1))){a*=1/(f>s?f-s:s-f)}"FadeOut"!=n&&("none"==r.style.display&&(r.style.opacity=0),r.style.display=c);var m=(c,f=!1)=>{if(r&&_isConnected(r)&&r._acssMidFade==u){var S=(new Date-d)/a;!0!==f&&(r.style.opacity="FadeOut"==n?+r.style.opacity-S:+r.style.opacity+S),d=+new Date,"FadeOut"==n&&+r.style.opacity>s||"FadeOut"!=n&&+r.style.opacity<s?requestAnimationFrame(m):l&&d-_<a?requestAnimationFrame(()=>m(void 0,!0)):("FadeOut"==n&&0==s?(i||(r.style.display="none"),r.style.opacity=0):r.style.opacity=s,delete r._acssMidFade,_syncRestart(p,p._subEvCo))}};m()},_fullscreenDetails=()=>{let r;return r="MSGesture"in window?[document.webkitFullscreenElement,"webkit"]:[document.fullscreenElement,""],r},_getActiveID=r=>{if(!r.isConnected)return _getTempActiveID(r);if(r){if(!r._acssActiveID){let a="id-"+ ++activeIDTrack;r._acssActiveID=a,idMap[a]=r}return r._acssActiveID}return!1},_getAttrOrProp=(r,a,n,s=null,c="")=>{let i,l=c.startsWith("Render");if(!n&&(i=s?r.options[s].getAttribute(a):r.getAttribute(a),"string"==typeof i))return i;if(i=s?r.options[s][a]:r[a],"string"==typeof i){let r=i.replace(/\\/gm,"\\\\");return l?_escapeItem(r):r}return!1},_getBaseURL=r=>-1!==r.indexOf("?")?r.substr(0,r.indexOf("?")):r,_getComponentDetails=r=>{let a;return r.isSameNode(document)?{component:null,compDoc:null,varScope:null,evScope:null,strictPrivateEvs:null,privateEvs:null,strictVars:null,topEvDoc:null,inheritEvDoc:null}:(a=r,supportsShadow&&r instanceof ShadowRoot&&(a=r.host),{component:a._acssComponent,compDoc:r,varScope:a._acssVarScope,evScope:a._acssEvScope,strictPrivateEvs:a._acssStrictPrivEvs,privateEvs:a._acssPrivEvs,strictVars:a._acssStrictVars,topEvDoc:a._acssTopEvDoc,inheritEvDoc:a._acssInheritEvDoc})},_getComponentRoot=r=>{let a;a=0==r.children.length&&r.hasAttribute("data-active-scoped")?r:!(!r.parentElement||supportsShadow&&(!supportsShadow||r.parentNode instanceof ShadowRoot))&&r.parentElement.closest("[data-active-scoped]");let n=r.getRootNode();return!a&&n.isSameNode(document)?document:a&&(a&&n.isSameNode(document)||idMap[a._acssActiveID])?a:n},_getFieldValType=r=>{switch(r.tagName){case"INPUT":case"TEXTAREA":return"value";default:return"innerText"}},_getFocusedOfNodes=(r,a,n="")=>{let s,c,i,l,p=-1,d=-1;if(s=_getSelector(a,r,!0),!s)return!1;if(l=""!==n?_getSel(a,n):s.doc.activeElement?s.doc.activeElement:!!s.doc.ownerDocument&&s.doc.ownerDocument.activeElement,!l)return-1;for(i of(c=s.obj||null,c))if(p++,i.isSameNode(l)){d=p;break}return[c,d]},_getMinExistingPos=(r,a)=>{let n,s=[];for(let c=0;c<a.length;c++)n=r.indexOf(a[c]),-1!==n&&s.push(n);return s.length>0?Math.min(...s):-1},_getNumber=r=>{let a=parseFloat(r);return r-a+1>=0&&a},_getPageFromList=r=>{let a,n;if(a=pageList.find(a=>a.url===r),!a){let s,c,i,l=pageWildcards.length;for(s=0;s<l;s++){if(c=pageWildcards[s],i=[],n=r,n=n.replace(c.regex,(function(r,a){return i.push(a),""})),""!==n)continue;let l,p=c.attrs,d=i.length;for(l=0;l<d;l++)void 0===pageWildReg[l]&&(pageWildReg[l]=new RegExp("\\{\\$"+(l+1)+"\\}","g")),p=p.replace(pageWildReg[l],i[l]);a={url:r,attrs:p};break}}return a},_getPastFutureDate=r=>{let a,n=1,s=r.replace(/^([\+|\-]?[\d\.]+)/,(function(r,a){return n=1*a,""})).trim();s=s.replace(/s/g,"").toLowerCase().trim();let c=new Date;switch(s){case"year":a=c.setFullYear(c.getFullYear()+n);break;case"month":a=c.setMonth(c.getMonth()+n);break;case"day":a=c.setHours(c.getHours()+24*n);break;case"hour":case"minute":a=c.setHours(c.getHours()+n);break;case"econd":a=c.setSeconds(c.getSeconds()+n);break;default:a=null}return a?new Date(a):null},_getRealEvent=r=>{let a=r.substr(0,5);if("after"==a&&"afterprint"!=r)return!1;if("keyup"==a)r="keyup";else if("keydown"==r.substr(0,7))r="keydown";else if("fullscreenEnter"==r||"fullscreenExit"==r)r=_fullscreenDetails()[1]+"fullscreenchange";else{if(CUSTOMEVENTS.includes(r)||r.startsWith("__midComponentOpen"))return!1;if("attrChange"==r.substr(0,10))return!1}return r},_getRootNode=r=>supportsShadow?_getComponentRoot(r):_getScopedRoot(r)||document,_getScopedRoot=r=>r.parentNode?r.parentNode.closest("[data-active-scoped]"):null,_getSel=(r,a,n=!1)=>_getSelector(r,a,n).obj||!1,_getSelector=(r,a,n=!1)=>{let s;if(r.compDoc){if(s=r.compDoc,s&&s.nodeType!==Node.DOCUMENT_NODE){let a=_getComponentDetails(s);if(s=a.topEvDoc,a.inheritEvDoc){let n=r.primSel&&r.primSel.startsWith("~")&&r.origO&&r.origO.primSel?r.origO.primSel:r.primSel;r.component&&n&&-1!==n.indexOf("|"+r.component+":")||(s=a.inheritEvDoc)}}}else s=r.doc||document;if(a.startsWith("~"))return{doc:s,obj:a};let c,i,l,p,d,u=a.replace(/("(.*?)")/g,(function(r,a){return a=a.replace(/&/g,"_acss*a t*").replace(/\-\>/g,"_acss*s*i n").replace(/</g,"_acss*s*l s").replace(/me/g,"_acss*s*m e").replace(/this/g,"_acss*s*t h").replace(/self/g,"_acss*s*s e")})),_=r.secSelObj||r.obj,f=[];if((-1!==u.indexOf("&")||/\bself\b/.test(u)||/\bme\b/.test(u)||/\bthis\b/.test(u))&&"object"==typeof _){d=_,c=_getActiveID(d);let r="[data-activeid="+c+"]";if(-1!==u.indexOf("&")&&(u=u.replace(/&/g,r)),-1!==u.indexOf("self")&&(u=u.replace(/\bself\b/g,r)),-1!==u.indexOf("me")&&(u=u.replace(/\bme\b/g,r)),-1!==u.indexOf("this")&&(u=u.replace(/\bthis\b/g,r)),u==r)return{doc:s,obj:V(_,!0)};d.setAttribute("data-activeid",c),f.push(d)}let m=u.split(/( \-> |<| \- | \-~ )/),S=_,g=m.length,v=!1,b=!1,h=!1,C=!1,E=!1,y=!1,A=!1;for(i=0;i<g;i++)if(l=j(m[i]).trim(),!1===C||"->"!=l){switch(C=!1,E=!1,y=!1,l){case"window":S=window,s=document,E=!0;break;case"body":S=A?s.body:document.body,s=A?s:document,E=!0;break;case"document":case":root":s=A?s:document,S=s,E=!0;break;case"shadow":if(S){let r=1==S.length?S[0]:S;r&&(s=r.shadowRoot),S=s,E=!0}break;case"parent":p=_getComponentDetails(r.compDoc),!p.topEvDoc||window.parent.document?s=window.parent.document:s.isSameNode(p.topEvDoc)||(s=p.topEvDoc),S=s,E=!0;break;case"host":case":host":if(p=_getComponentDetails(r.compDoc),-1!==["beforeComponentOpen","componentOpen"].indexOf(r.event)||r.event.startsWith("__midComponentOpen"));else{let r=_getRootNode(1==S.length?S[0]:S);S=r._acssScoped?r:r.host}E=!0;break;case"->":break;case"<":v=!0;continue;case"-":b=!0;continue;case"-~":h=!0;continue;default:if(b||v||h){let r;b?r="prevAdj":v?r="closest":h&&(r="prevAdjAll"),v=!1,b=!1,h=!1;let a=x(r,l,S,s,f);if(l=a.selItem,S=a.mainObj,s=a.newDoc,f=a.addedAttrs,!a.moreToDo){E=!0;continue}}try{S=s.querySelectorAll(l),S||s.nodeType!==Node.DOCUMENT_NODE&&s.matches(l)&&(S=s)}catch(r){return T(s)}if(y=!0,!1===C&&S&&1==S.length&&"IFRAME"==S[0].tagName){C=S[0].contentWindow.document;continue}C=!1}A=!1}else s=C,C=!1,A=!0;let O={doc:s,obj:V(S,E,y)};function T(r){return w(),{obj:void 0,newDoc:r}}function x(r,a,n,s,c){if(!n)return;let i,l=_getMinExistingPos(a,[" ",">","+","~"]),p="";-1===l?i=a:(i=a.substr(0,l),p=a.substr(l).trim());let d=[];"function"!=typeof n[Symbol.iterator]&&(n=[n]);for(const a of n){switch(r){case"closest":(n=a.parentElement)&&(n=n.closest(i)),n&&(n=[n]);break;case"prevAdj":if(n){let r=a.previousElementSibling;(n=r&&r.matches(i)?r:null)&&(n=[n])}break;case"prevAdjAll":n=D(a,i)}n&&n.length>0&&(d=d.concat(n))}let u,_=!1;if((n=d)&&n.length>1||""!=p){let i=n;n="closest"==r?s:n.parentNode||s,a="";for(const r of i){u=_getActiveID(r);let n="[data-activeid="+u+"] "+p;-1===a.indexOf(n)&&(r.setAttribute("data-activeid",u),c.push(r),""!=a&&(a+=","),a+="[data-activeid="+u+"] "+p)}_=!0}else n=n[0];return{selItem:a,mainObj:n,newDoc:s,addedAttrs:c,moreToDo:_}}function D(r,a){let n=[],s=r.previousElementSibling;for(;s;)s.nodeType===Node.ELEMENT_NODE&&s.matches(a)&&n.push(s),s=s.previousElementSibling;return n}function j(r){return r.replace(/("(.*?)")/g,(function(r,a){return a=a.replace(/_acss\*a t\*/g,"&").replace(/_acss\*s\*i n/g,"->").replace(/_acss\*s\*l s/g,"<").replace(/_acss\*s\*m e/g,"me").replace(/_acss\*s\*t h/g,"this").replace(/_acss\*s\*s e/g,"self")}))}function V(r,a,s){if(n){if(a)return[r]}else if(s)return r[0];return r}function w(){for(let r of f)r.removeAttribute("data-activeid")}return w(),O},_getSels=(r,a)=>_getSel(r,a,!0),_getTempActiveID=r=>!(!r||!r.dataset)&&(r.dataset.activeid||(activeIDTrack++,r.dataset.activeid="id-"+activeIDTrack),r.dataset.activeid),_getValFromList=(r,a,n=!1)=>{let s,c,i,l=-1;for(s in r)if(r.hasOwnProperty(s)){if(l++,c=r[s],n&&c.name==a)return l;for(i in c)if(c.hasOwnProperty(i)&&!n&&c[i]==a)return c.value.replace(/"/g,"")}return!!n&&-1},_getWindow=r=>{try{return r.defaultView||r.parentWindow}catch(r){return window}},_handleQuoAjax=(r,a)=>a._ACSSRepQuo();ActiveCSS._hasClassObj=(r,a)=>r.classList.contains(a)||!1;const _htmlToElement=r=>{let a=document.createElement("template");return r=r.trim(),a.innerHTML=r,a.content.firstChild},_ifFocus=(r,a=!0)=>{let n=_getFocusedOfNodes(r.actVal,r);return a?0===n[1]:n[1]==n[0].length-1};ActiveCSS._ifVisible=(r,a,n)=>{let s,c,i,l,p;if("object"==typeof i)i=r.actVal;else{let a=_extractBracketPars(r.actVal,["scope"],r);a.scope&&(c=_getSel(r,a.scope)),i=a.action}if(s=""==i._ACSSRepQuo().trim()?r.secSelObj:_getSel(r,i),!s)return!1;if(c)l=_checkBoundaries(s,c);else{let r=s.getBoundingClientRect();l={top:r.top,right:r.right,bottom:r.bottom,left:r.left,cTop:0,cRight:window.innerWidth,cBottom:window.innerHeight,cLeft:0}}return p=n?"x"==n?a?l.left>=l.cLeft&&l.right<=l.cRight:l.left<l.cRight&&l.right>=l.cLeft:a?l.top>=l.cTop&&l.bottom<=l.cBottom:l.top<l.cBottom&&l.bottom>=l.cTop:a?l.left>=l.cLeft&&l.right<=l.cRight&&l.top>=l.cTop&&l.bottom<=l.cBottom:l.left<l.cRight&&l.right>=l.cLeft&&l.top<l.cBottom&&l.bottom>=l.cTop,p};const _isACSSStyleTag=r=>r&&"STYLE"==r.tagName&&r.hasAttribute("type")&&"text/acss"==r.getAttribute("type"),_isComponentable=r=>!["HTML","HEAD","BODY","SCRIPT","STYLE","TEMPLATE"].includes(r.tagName)&&r.closest&&!r.closest("head")&&!r.shadowRoot,_isCond=r=>"function"==typeof _c[r],_isConnected=r=>r.isConnected||r===self||r===document.body,_isDOMObj=r=>r instanceof Element||r instanceof HTMLDocument,_isInlineLoaded=r=>{let a="_inline_"+_getActiveID(r);return configBox.find(r=>r.file===a)},_isPositive=r=>/^[\d]+$/.test(r),_isPositiveFloat=r=>/^[\d\.]+$/.test(r),_isTextField=r=>{let a=r.tagName;return"TEXTAREA"==a||"INPUT"==a&&(!r.hasAttribute("type")||-1!==["TEXT","PASSWORD","NUMBER","EMAIL","TEL","URL","SEARCH","DATE","DATETIME","DATETIME-LOCAL","TIME","MONTH","WEEK"].indexOf(r.getAttribute("type").toUpperCase()))},_mimicReset=r=>{var a,n;for(a in r.target.cjsReset)if("title"!=a)switch((n=r.target.cjsReset[a]).type){case"text":n.el.innerText=n.value;break;default:n.el.value=n.value}r.target.cjsReset.title&&_setDocTitle(r.target.cjsReset.title)},_optDef=(r,a,n,s)=>(_isArray(r)||(r=r.split(" ")),a=a.toLowerCase(),-1!==r.findIndex(r=>a===r.toLowerCase())?n:s),_outDebug=(r,a)=>{if(r){let r;for(r of a)console.log(r)}},_placeCaretAtEnd=r=>{(r.selectionStart||0===r.selectionStart)&&(r.selectionStart=r.value.length,r.selectionEnd=r.value.length,r.blur()),r.focus()},_prepareDetachedExpr=(r,a)=>{let n=_handleVars(["rand","expr"],{str:r,varScope:a}),s=_resolveVars(n.str,n.ref);return s=_resolveInnerBracketVars(s,a),s=_prefixScopedVars(s,a),s},_random=(r,a=!1,n=!1)=>{let s=n?RANDHEX+RANDNUMS:a?RANDCHARS+RANDNUMS:RANDNUMS,c="",i=0;for(i=0;i<r;i++)c+=s.charAt(Math.floor(Math.random()*s.length));return c};var e,t;e="undefined"!=typeof self?self:this,t=function(){return function(r){var a={};function n(s){if(a[s])return a[s].exports;var c=a[s]={i:s,l:!1,exports:{}};return r[s].call(c.exports,c,c.exports,n),c.l=!0,c.exports}return n.m=r,n.c=a,n.d=function(r,a,s){n.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:s})},n.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,a){if(1&a&&(r=n(r)),8&a)return r;if(4&a&&"object"==typeof r&&r&&r.__esModule)return r;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&a&&"string"!=typeof r)for(var c in r)n.d(s,c,function(a){return r[a]}.bind(null,c));return s},n.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(a,"a",a),a},n.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},n.p="",n(n.s=0)}([function(r,a,n){const{types:s,iterableTypes:c,errors:i}=n(1),l=n(2),p={[s.NUMBER]:l.isNumber,[s.BOOLEAN]:l.isBoolean,[s.STRING]:l.isString,[s.DATE]:l.isDate,[s.UNDEFINED]:l.isUndefined,[s.NULL]:l.isNull,[s.ARRAY]:l.isArray,[s.MAP]:l.isMap,[s.SET]:l.isSet,[s.ITERABLE_OBJECT]:l.isIterableObject},d={[s.DATE]:l.areDatesEqual};function u(r){const a=Object.keys(p);let n=s.DEFAULT;for(let s=0;s<a.length;s+=1)if(p[a[s]](r)){n=a[s];break}return n}function _(r,a,n,c){let i;return n===s.UNDEFINED&&c!==s.UNDEFINED?i="add":n!==s.UNDEFINED&&c===s.UNDEFINED?i="delete":function(r,a,n,s){return n===s&&(d[n]?d[n](r,a):r===a)}(r,a,n,c)?l.noop():i="update",i}function f(r,a,n,s,c){const i={op:n,path:s};return"add"!==n&&"update"!==n||(i.val=a),c&&"add"!==n&&(i.oldVal=r),i}const m={add:l.setValueByPath,update:l.setValueByPath,delete:l.deleteValueByPath};r.exports={getDiff:(r,a,n=!1)=>function r(a,n,i,l,p){const d=u(a),m=u(n),S=l||[],g=p||[];if(function(r,a){return r===a&&c.indexOf(r)>=0}(d,m)){const c=function(r,a,n){if(n===s.ARRAY){const n=r.length>a.length?new Array(r.length):new Array(a.length);return n.fill(0),new Set(n.map((r,a)=>a))}return new Set(Object.keys(r).concat(Object.keys(a)))}(a,n,d).values();let{value:l,done:p}=c.next();for(;!p;){Object.prototype.hasOwnProperty.call(a,l)?Object.prototype.hasOwnProperty.call(n,l)?r(a[l],n[l],i,S.concat(l),g):g.push(f(a[l],n[l],"delete",S.concat(l),i)):g.push(f(a[l],n[l],"add",S.concat(l),i));const s=c.next();l=s.value,p=s.done}}else{const r=_(a,n,d,m);null!=r&&g.push(f(a,n,r,l,i))}return g}(r,a,n),applyDiff:(r,a,n)=>function(r,a,n){if(!(a instanceof Array))throw new Error(i.INVALID_DIFF_FORMAT);let s=r;return a.forEach(r=>{const{op:a,val:c,path:l}=r;if(!m[a])throw new Error(i.INVALID_DIFF_OP);s=m[a](s,l,c,n)}),s}(r,a,n)}},function(r,a){const n={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",STRING:"STRING",NULL:"NULL",UNDEFINED:"UNDEFINED",DATE:"DATE",ARRAY:"ARRAY",MAP:"MAP",SET:"SET",ITERABLE_OBJECT:"ITERABLE_OBJECT",DEFAULT:"OBJECT"};r.exports={types:n,iterableTypes:[n.ITERABLE_OBJECT,n.MAP,n.ARRAY,n.SET],errors:{EMPTY_DIFF:"No diff object is provided, Nothing to apply",INVALID_DIFF_FORMAT:"Invalid diff format",INVALID_DIFF_OP:"Unsupported operation provided into diff object"}}},function(r,a){const n=r=>a=>a instanceof r,s=n(Date),c=n(Array),i=n(Map),l=n(Set),p=r=>"[object Object]"===Object.prototype.toString.call(r);r.exports={isNumber:r=>"number"==typeof r,isBoolean:r=>"boolean"==typeof r,isString:r=>"string"==typeof r,isDate:s,isUndefined:r=>void 0===r,isNull:r=>null===r,isArray:c,isMap:i,isSet:l,isIterableObject:p,noop:()=>{},areDatesEqual:(r,a)=>r.getTime()===a.getTime(),setValueByPath:function(r,a=[],n,s){if(!c(a))throw new Error(`Diff path: "${a}" is not valid`);const{length:i}=a;if(0===i)return n;let l=r;for(let c=0;c<i;c+=1){const p=a[c];if(!l)throw new Error(`Invalid path: "${a}" for object: ${JSON.stringify(r,null,2)}`);if(null==p)throw new Error(`Invalid path: "${a}" for object: ${JSON.stringify(r,null,2)}`);c!==i-1?(l=l[p],s&&s(l)):l[p]=n}return r},deleteValueByPath:function(r,a){const n=a||[];if(0===n.length)return;let s=r;const{length:c}=n;for(let i=0;i<c;i+=1)if(i!==c-1){if(!s[n[i]])throw new Error(`Invalid path: "${a}" for object: ${JSON.stringify(r,null,2)}`);s=s[n[i]]}else if(p(s))delete s[n[i]];else{const r=parseInt(n[i],10);for(;s.length>r;)s.pop()}return r}}}])},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.recursiveDiff=t():e.recursiveDiff=t(),ActiveCSS._removeClassObj=(r,a)=>{if(!r||!r.classList)return;let n=a.replace(".","").split(" ");r.classList.remove(...n)},ActiveCSS._removeObj=r=>{r&&r.remove()};const _replaceTempActiveID=r=>{r&&r.dataset&&r.dataset.activeid&&(r._acssActiveID=r.dataset.activeid,r.removeAttribute("data-activeid"),idMap[r._acssActiveID]=r)},_resolveURL=r=>{if(inIframe)return r;let a=window.location.href,n=history.state,s=document.title;history.replaceState(n,s,r);let c=window.location.href;return history.replaceState(n,s,a),c},_safeTags=r=>ActiveCSS._mapRegexReturn({"&":"&amp;","<":"&lt;",">":"&gt;","/":"&sol;","{":"&#123;","}":"&#125;",'"':"&quot;","'":"&#39;","\\\\":"&#92;"},r),_selCompare=(r,a)=>{let n,s,c,i=r.actVal._ACSSSpaceQuoIn();if("eM"==a||"eMT"==a){if(!i)return!0;if(i&&"__object"==i)return!1;n=i._ACSSSpaceQuoOut()._ACSSRepQuo()}else n=i.split(" "),1==n.length&&_condDefSelf(r.actName)&&n.unshift("self"),s=n.pop()._ACSSSpaceQuoOut()._ACSSRepQuo(),n=n.join(" ");c=_getSelector(r,n);let l=!1;if(-1!==["maW","miW","maH","miH"].indexOf(a)&&(l=!0),c&&c.obj)c=c.obj;else{if(l)return!1;c=n}if(l){let r,n;switch(s=s.replace("px",""),a){case"maW":case"miW":n="width";break;case"maH":case"miH":n="height"}if(n){let a=c.style[n];if(a)r=a.replace("px","");else{let a=c.getBoundingClientRect();r=a&&a[n]?a[n]:0}}switch(a){case"maW":case"maH":return r<=s;case"miW":case"miH":return r>=s}}switch(a){case"eM":case"eMT":case"maL":case"miL":let r;if(c&&!l&&c.nodeType&&c.nodeType==Node.ELEMENT_NODE){r=c[_getFieldValType(c)]}else r=c;switch(a){case"eM":case"eMT":return r&&"eMT"!=a?""===r:""===r.trim();case"maL":return r.length<=s;case"miL":return r.length>=s}break;case"iT":return c&&s==c.innerText;case"iH":return c&&s==c.innerHTML;case"iV":return c&&s==c.value;case"iC":return c&&c.checked}},_setClassObj=(r,a)=>{r&&r.classList&&(r.className=a)},_setDocTitle=r=>{currDocTitle=ActiveCSS._decodeHTML(r),document.title=currDocTitle},_setsrcObj=(r,a)=>{r&&(r.src=a)},_setUnderPage=()=>{currUnderPage=window.location.pathname+window.location.search},_slide=(r,a)=>{let n=_getSels(r,r.actVal);if(n){let r="up"==a;n.forEach((function(a,n){let s=_getActiveID(a);a.removeEventListener("transitionend",window["__acssSlideHeight"+s]);let c=a.offsetHeight+"px";if(r)a.style.setProperty("height",c),setTimeout(()=>{a.style.removeProperty("height")},0);else{a.style.setProperty("height","auto");let r=a.offsetHeight+"px";a.style.setProperty("height",c),setTimeout(()=>{a.style.setProperty("height",r)},0),window["__acssSlideHeight"+s]=r=>{r.target.style.setProperty("height","auto")},a.addEventListener("transitionend",window["__acssSlideHeight"+s])}}))}},_takeClass=(r,a)=>{if(!_isConnected(r.secSelObj))return!1;let n=_extractBracketPars(r.actVal,["scope"],r),s=n.action.substr(1),c=!a||a&&!r.secSelObj.classList.contains(s);_eachRemoveClass(r,s,n.scope),c&&_a.AddClass({secSelObj:r.secSelObj,actVal:s})},_toggleClassObj=(r,a)=>{r&&r.classList&&r.classList.toggle(a)},_ucFirst=r=>r?r[0].toUpperCase()+r.substring(1):r,_unEscNoVars=r=>r.replace(/__ACSSnoVarsOpCurly/gim,"{").replace(/__ACSSnoVarsClCurly/gim,"}").replace(/_ACSS_later_brace_start/gim,"{"),_unHtmlEntities=r=>{let a=document.createElement("textarea");return a.innerHTML=r,a.value},_unSafeTags=r=>ActiveCSS._mapRegexReturn({"&amp;":"&","&lt;":"<","&gt;":">","&sol;":"/","&#123;":"{","&#125;":"}","&quot;":'"',"&#39;":"'","&#92;":"\\\\"},r),_urlTitle=(r,a,n,s="")=>{if(inIframe)return;r=r.replace(/"/g,""),a=a._ACSSRepQuo();let c=!1;if(n._addHash||n._removeHash){let a=window.location.hash;""!==a&&(a=a.substr(1).trim());let s=a.split("#");r=r.substr(1);let i,l=s.length,p=!1;for(n._removeLastHash&&("file:"!=window.location.protocol||l>1)&&s.pop(),i=0;i<l;i++)if(r==s[i]){p=i;break}!1===p&&n._addHash?s.push(r):!1!==p&&n._removeHash&&s.splice(p,1),r=window.location.pathname+window.location.search+(s.length>0?"#"+s.join("#"):""),c=!0}else if(""==r){let a=window.location.hash,n=a.lastIndexOf("#");r=-1!==n&&n!=a.indexOf("#")?window.location.pathname+window.location.search+a.substr(0,n):window.location.pathname+window.location.search,c=!0}if(r=_resolveURL(r),window.location.href!=r&&(!n.e||"popstate"!=n.e.type)){let s="";"object"==typeof n.secSelObj&&(n.secSelObj.__acssFromLink||!c&&-1===r.indexOf("#")?[...n.secSelObj.attributes].forEach(r=>{"id"!=r.name&&(s+=r.name+'="'+r.value+'" ')}):s=window.history.state.attrs||"");let i=n._urlReplace?"replaceState":"pushState";window.history[i]({url:r,attrs:s.trimEnd()},a,r),_setUnderPage()}_setDocTitle(a)},_warn=(r,a,...n)=>{DEVCORE&&_errDisplayLine("Active CSS error warning",r,["color: green"],a,n)},escapeHTML=r=>_safeTags(r),escQuotes=r=>r.replace(/"/gm,"&quot;"),unEscapeHTML=r=>_unSafeTags(r),unEscQuotes=r=>r.replace(/\&quot\;/gm,'"'),_arrayMap=(r,a)=>{for(var n=-1,s=null==r?0:r.length,c=Array(s);++n<s;)c[n]=a(r[n],n,r);return c},_assignValue=(r,a,n)=>{var s=r[a];hasOwnProperty.call(r,a)&&_eq(s,n)&&(void 0!==n||a in r)||_baseAssignValue(r,a,n)},_baseAssignValue=(r,a,n)=>{"__proto__"==a&&defineProperty?defineProperty(r,a,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[a]=n},_baseSet=(r,a,n,s)=>{if(!_isObject(r))return r;for(var c=-1,i=(a=_castPath(a,r)).length,l=i-1,p=r;null!=p&&++c<i;){var d=_toKey(a[c]),u=n;if(c!=l){var _=p[d];void 0===(u=s?s(_,d,p):void 0)&&(u=_isObject(_)?_:_isIndex(a[c+1])?[]:{})}_assignValue(p,d,u),p=p[d]}return r},_baseToString=r=>{if("string"==typeof r)return r;if(_isArray(r))return _arrayMap(r,_baseToString)+"";var a=r+"";return"0"==a&&1/r==-INFINITY?"-0":a},_baseUnset=(r,a)=>(a=_castPath(a,r),null==(r=_parent(r,a))||delete r[_toKey(_last(a))]),_castPath=(r,a)=>_isArray(r)?r:_isKey(r,a)?[r]:_stringToPath(_toString(r)),_eq=(r,a)=>r===a||r!=r&&a!=a,_get=(r,a)=>{for(var n=0,s=(a=_castPath(a,r)).length;null!=r&&n<s;)r=r[_toKey(a[n++])];return n&&n==s?r:void 0},_getNative=(r,a)=>_getValue(r,a),_getValue=(r,a)=>null==r?void 0:r[a],_isIndex=(r,a)=>{var n=typeof r;return!!(a=null==a?MAX_SAFE_INTEGER:a)&&("number"==n||"symbol"!=n&&reIsUint.test(r))&&r>-1&&r%1==0&&r<a},_isKey=(r,a)=>{if(_isArray(r))return!1;var n=typeof r;return"number"==n||"symbol"==n||"boolean"==n||null==r||(reIsPlainProp.test(r)||!reIsDeepProp.test(r)||null!=a&&r in Object(a))},_isObject=r=>{var a=typeof r;return null!=r&&("object"==a||"function"==a)},_last=r=>{const a=null==r?0:r.length;return a?r[a-1]:void 0},_parent=(r,a)=>a.length<2?r:_get(r,_slice(a,0,-1)),_set=(r,a,n)=>null==r?r:_baseSet(r,a,n),_slice=(r,a,n)=>{let s=null==r?0:r.length;if(!s)return[];(a=null==a?0:a)<0&&(a=-a>s?0:s+a),(n=(n=void 0===n?s:n)>s?s:n)<0&&(n+=s),s=a>n?0:n-a>>>0,a>>>=0;let c=-1;const i=new Array(s);for(;++c<s;)i[c]=r[c+a];return i},_stringToPath=r=>{var a=[];return 46===r.charCodeAt(0)&&a.push(""),r.replace(rePropName,(function(r,n,s,c){a.push(s?c.replace(reEscapeChar,"$1"):n||r)})),a},_toKey=r=>{if("string"==typeof r)return r;var a=r+"";return"0"==a&&1/r==-INFINITY?"-0":a},_toString=r=>null==r?"":_baseToString(r),_unset=(r,a)=>null==r||_baseUnset(r,a);String.prototype._ACSSCapitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype._ACSSCapitalizeAttr=function(){return this.replace(/(^|[\s-])\S/g,(function(r){return r.toUpperCase()}))},String.prototype._ACSSConvFunc=function(){return this.startsWith("--")?this:this._ACSSCapitalizeAttr().replace(/\-/g,"")},String.prototype._ACSSRepAllQuo=function(){return this.replace(/"/g,"")},String.prototype._ACSSRepQuo=function(){var r=this.replace(/\\"/g,"_ACSS*%%_");return r=(r=r.replace(/(^")|("$)/g,"")).replace(/_ACSS\*%%_/g,'"')},String.prototype._ACSSSpaceQuoIn=function(){return _escInQuo(this," ","_ACSS_space")},String.prototype._ACSSSpaceQuoOut=function(){return this.replace(/_ACSS_space/g," ")},document.head.attachShadow||(supportsShadow=!1,"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(r,a){a=a||window;let n=0;for(;n<this.length;n++)r.call(a,this[n],n,this)});const DEVCORE=void 0!==_drawHighlight;DEVCORE&&console.log("Running Active CSS development edition"+(inIframe?" in iframe":"")),document.addEventListener("DOMContentLoaded",(function(r){setTimeout((function(){userSetupStarted||(autoStartInit=!0,ActiveCSS.init())}),0)}))}(window,document);