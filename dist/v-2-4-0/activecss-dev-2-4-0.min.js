!function(global,document){"use strict";const PARSELINEX=/([^\:]+):([^\;]*)(;)?/,PARSEREGEX=/((?!\*debugfile)[^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|((?!\*debugfile)[^\;\{\}]+\;(?!\s*\*\/))|(\*debugfile[\s\S]*?\*)/gim,PARSESEL=1,PARSEEND=2,PARSEATTR=3,PARSEDEBUG=4,COMMENTS=/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*$/gm,COLONSELS="^((active|any\\-link|blank|checked|current|default|disabled|drop|empty|enabled|first\\-child|first\\-of\\-type|focus|focus\\-visible|focus\\-within|future|hover|indeterminate|in\\-range|invalid|last\\-child|last\\-of\\-type|link|local\\-link|only\\-child|only\\-of\\-type|optional|out\\-of\\-range|past|paused|placeholder\\-shown|playing|read\\-only|read\\-write|required|root|scope|target|target\\-within|user\\-error|user\\-invalid|valid|visited)(?![\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w_\\-])|(current|dir|drop|has|is|lang|not|nth\\-column|nth\\-child|nth\\-last\\-child|nth\\-last\\-column|nth\\-last\\-of\\-type|nth\\-of\\-type|where)\\()",DYNAMICCHARS={",":"_ACSS_later_comma","{":"_ACSS_later_brace_start","}":"_ACSS_later_brace_end",";":"_ACSS_later_semi_colon",":":"_ACSS_later_colon",'"':"_ACSS_later_double_quote"},STYLEREGEX=/\/\*active\-var\-([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\:\[\]]+)\*\/(((?!\/\*).)*)\/\*\/active\-var\*\//g,CHILDRENREGEX=/\{\$CHILDREN\}/g,SELFREGEX=/\{\$SELF\}/g;window.ActiveCSS={},"undefined"!=typeof module&&(module.exports=ActiveCSS);var coreVersionExtension="2-0-0",_a={},_c={},parsedConfig={},config=[],configArr=[],configLine="",configFile="",configBox=[],lazyConfig=[],concatConfigCo=0,concatConfigLen=0,masterConfigCo=0,currentPage="",ajaxResLocations={},pageList=[],eventState={},delayArr=[],cancelIDArr=[],cancelCustomArr=[],intIDCounter=0,selectors=[],userSetupStarted=!1,autoStartInit=!1,setupEnded=!1,clickOutsideSet=!1,clickOutsideSels=[],mimicClones=[],currDocTitle=document.title,debugMode="",conditionals=[],components=[],mediaQueries=[],mediaQueriesOrig=[],activeIDTrack=0,scriptTrack=[],debuggerActive=!1,debuggerness=!1,debuggerExtID=null,debuggerEvs=["afterLoadConfig"],debuggerCo=0,evEditorExtID=null,evEditorActive=!1,devtoolsInit=[],scoped={},scopedVars=null,scopedData={},labelData=[],labelByIDs=[],customTags=[],compCount=0,compPending={},compParents=[],compPrivEvs=[],privVarScopes=[],shadowSels=[],shadowDoms={},actualDoms={},preGetMax=6,preGetMid=0,reverseShadowEvs={},allEvents=[],doesPassive=!1,preSetupEvents=[],nonPassiveEvents=[],passiveEvents=!0,supportsShadow=!0,idMap=[],varMap=[],varStyleMap=[],varInStyleMap=[],maEv=[],mainEventCounter=-1,taEv=[],targetEventCounter=-1,elementObserver,pageStore,pagesDisplayed=[],inlineRefCo=0,inlineRefArr=[],inlineIDArr=[];ActiveCSS.customHTMLElements={},_a.AddClass=n=>{ActiveCSS._addClassObj(n.secSelObj,n.actVal)},_a.Ajax=n=>{n.url=n.actVal.split(" ")[0]._ACSSRepQuo(),_ajaxDo(n)},_a.AjaxFormPreview=n=>{n.formPreview=!0,_a.AjaxFormSubmit(n)},_a.AjaxFormSubmit=n=>{n.formSubmit=!0;const a=n.secSelObj;a?(n.url=a.action,_ajaxDo(n)):console.log("Active CSS error: Form not found.",n.secSelObj)},_a.AjaxPreGet=n=>{n.preGet=!0,_a.Ajax(n)},_a.Alert=n=>{alert(n.actVal._ACSSRepQuo())},_a.Blur=n=>{document.activeElement.blur()},_a.CancelTimer=n=>{let a,r,c,l,i,s=n.actVal.trim(),u=s._ACSSConvFunc(),d=!0,p=n.compRef?n.compRef:"main";if(labelData[p+s]){let n=labelData[p+s];_clearTimeouts(delayArr[n.del][n.func][n.pos][n.intID][n.loopRef]),_removeCancel(n.del,n.func,n.pos,n.intID,n.loopRef)}else{if(l="string"==typeof n.secSel&&["~","|"].includes(n.secSel.substr(0,1))?n.secSel:_getActiveID(n.secSelObj),!l)return;if(delayArr[l])if("all"==s)for(a in delayArr[l])for(r in delayArr[l][a])for(c in delayArr[l][a][r])for(i in delayArr[l][a][r][c])_clearTimeouts(delayArr[l][a][r][c][i]),_removeCancel(l,a,r,c,i);else if(delayArr[l]&&delayArr[l][u])for(r in delayArr[l][u])for(c in delayArr[l][u][r])for(i in delayArr[l][u][r][c])_clearTimeouts(delayArr[l][u][r][c][i]),_removeCancel(l,u,r,c,i);else d=!1;else d=!1;if(!d){let a,r=[];if(Object.keys(delayArr).forEach((function(a){["~","|"].includes(a.substr(0,1))||n.doc.querySelectorAll(a).forEach((function(n,a){r.push(_getActiveID(n))}))})),"object"==typeof n.secSel)a=_getActiveID(n.secSel),cancelIDArr[a]&&cancelIDArr[a][u]||!r.includes(a)||_addCancelAttr(n.secSel,u);else if(["~","|"].includes(n.secSel.substr(0,1))){if(!(delayArr[l]&&delayArr[l][u]&&delayArr[l][u][n.actPos]&&delayArr[l][u][n.actPos][n.intID]&&delayArr[l][u][n.actPos][n.intID][n.loopRef]))return;cancelCustomArr.push([n.secSel][u][n.actPos][n.intID][n.loopRef])}else n.doc.querySelectorAll(n.secSel).forEach((function(n){a=_getActiveID(n),cancelIDArr[a]&&cancelIDArr[a][u]||!r.includes(a)||_addCancelAttr(n,u)}))}}},_a.CancelTimerAll=n=>{_unloadAllCancelTimer()},_a.ClickOnFirst=n=>{_focusOn(n)},_a.ClickOnLast=n=>{_focusOn(n,"l")},_a.ClickOnNext=n=>{_focusOn(n,"n")},_a.ClickOnNextCycle=n=>{_focusOn(n,"nc")},_a.ClickOnPrevious=n=>{_focusOn(n,"p")},_a.ClickOnPreviousCycle=n=>{_focusOn(n,"pc")},_a.ClickoutsideEvent=n=>{let a=_getActiveID(n.secSelObj);-1!==n.actVal.indexOf("true")?(clickOutsideSels[a]=[],clickOutsideSels[a][0]=!0,clickOutsideSet=!0,-1!==n.actVal.indexOf("continue")&&(clickOutsideSels[a][1]=!0)):clickOutsideSels[a]&&(clickOutsideSels[a][0]=!1,clickOutsideSet=!1)},_a.Clone=n=>{let a=_getSel(n,n.actVal);if(a)if("IFRAME"==a.tagName){if("complete"!=a.contentWindow.document.readyState)return setTimeout(_a.Clone.bind(this,n),200),!1;let r=_getActiveID(a);mimicClones[r]=document.importNode(a.contentWindow.document.body,!0)}else{let n=_getActiveID(a);mimicClones[n]=document.importNode(a,!0)}},_a.ConsoleLog=n=>{console.log(n.actVal._ACSSRepQuo())},_a.CopyToClipboard=n=>{let a=_getSel(n,n.actVal);if(-1!==["INPUT","TEXTAREA"].indexOf(a.tagName)){let n="readonly"==a.getAttribute("readonly");a.removeAttribute("readonly"),a.select(),document.execCommand("copy"),n&&a.setAttribute("readonly","readonly")}else{let n=document.createElement("textarea");n.id="activecss-copy-field",n.innerHTML=a.innerText,document.body.appendChild(n);let r=document.getElementById("activecss-copy-field");r.select(),document.execCommand("copy"),ActiveCSS._removeObj(r)}},_a.CreateCommand=n=>{let a=n.actVal.trim().split(" ")[0],r=n.actVal.replace(a,"").trim();a=a._ACSSConvFunc(),_a[a]||(r=ActiveCSS._sortOutFlowEscapeChars(r).slice(2,-2),r=_handleVarsInJS(r),r='let actionName = o.actName,actionPosition = o.actPos,actionValue = o.actVal,actionValueUnEval = o.actValSing,actionValuesUnEval = o.origActVal,actionFunc = o.func,eventSelector = o.obj,eventSelectorName = o.primSel,carriedEventObject = o.ajaxObj,conditionals = o.passCond,targetSelector = o.secSelObj,targetSelectorName = o.origSecSel,activeID = o.activeID,doc = o.doc,e = o.e,eventName = o.event,configFile = o.file,configLine = o.line,rulesArray = o.rules,selectorRef = o.secSel,compDoc = o.compDoc,component = o.component,_loopVars = o.loopVars,_loopRef = o.loopRef,_activeVarScope = (o.compRef && privVarScopes[o.compRef]) ? o.compRef : "main";scopedVars[_activeVarScope] = (scopedVars[_activeVarScope] === undefined) ? {} : scopedVars[_activeVarScope];'+r,_a[a]=new Function("o","scopedVars","privVarScopes",r))},_a.CreateConditional=n=>{let a=n.actVal.trim().split(" ")[0],r=n.actVal.replace(a,"").trim();a=a._ACSSConvFunc(),_c[a]||(r=ActiveCSS._sortOutFlowEscapeChars(r).slice(2,-2),r=_handleVarsInJS(r),r='let conditionalName = o.actName,conditionalFunc = o.func,conditionalValue = o.actVal,eventSelectorName = o.primSel,eventSelector = o.obj,e = o.e,doc = o.doc,component = o.component,compDoc = o.compDoc,carriedEventObject = o.ajaxObj,_activeVarScope = (o.compRef && privVarScopes[o.compRef]) ? o.compRef : "main";scopedVars[_activeVarScope] = (scopedVars[_activeVarScope] === undefined) ? {} : scopedVars[_activeVarScope];'+r,_c[a]=new Function("o","scopedVars","privVarScopes",r))},_a.CreateElement=n=>{let a,r,c,l,i,s,u,d,p=n.actVal,f="";d=p.split(" "),a=d[0],r=a.toUpperCase();let _=!1;if(customTags.includes(r)&&(_=!0),d[1]&&-1===d[1].indexOf("observe(")){u=d[1],void 0===config[a]&&(config[a]={}),void 0===config[a].draw&&(config[a].draw={}),void 0===config[a].draw[0]&&(config[a].draw[0]=[]),void 0===config[a].draw[0][0]&&(config[a].draw[0][0]=[]);let n=[];n["&"]=[],n["&"][0]={file:"",line:"",intID:intIDCounter++,name:"render",value:'"{|_acss-host_'+u+'}"'},_&&void 0!==config[a].draw[0][0][0]&&void 0!==config[a].draw[0][0][0]["&"]&&void 0!==config[a].draw[0][0][0]["&"][0]&&"render"==config[a].draw[0][0][0]["&"][0].name&&config[a].draw[0][0][0]["&"][0].value=='"{|_acss-host_'+u+'}"'||(config[a].draw[0][0].unshift(n),_setupEvent("draw",a))}if(!_){for(l of(c=_getParVal(p,"observe").split(" "),c))l&&(f+="'"+l.trim()+"',");customTags.push(r),i=a._ACSSConvFunc(),s="ActiveCSS.customHTMLElements."+i+" = class "+i+" extends HTMLElement {",f&&(s+="static get observedAttributes() {return ["+f.slice(0,-1)+"];}"),s+="constructor() {super();}connectedCallback() {let compDetails = _componentDetails(this);_handleEvents({ obj: this, evType: 'connectedCallback', component: compDetails.component, compDoc: compDetails.compDoc, compRef: compDetails.compRef });}disconnectedCallback() {let compDetails = _componentDetails(this);_handleEvents({ obj: this, evType: 'disconnectedCallback', component: compDetails.component, compDoc: compDetails.compDoc, compRef: compDetails.compRef, runButElNotThere: true });}",f&&(s+="attributeChangedCallback(name, oldVal, newVal) {if (!oldVal && oldVal !== '' || oldVal === newVal) return;this.setAttribute(name + '-old', oldVal); let ref = this._acssActiveID.replace('d-', '') + 'HOST' + name;ActiveCSS._varUpdateDom([{currentPath: ref, previousValue: oldVal, newValue: newVal, type: 'update'}]);let compDetails = _componentDetails(this);_handleEvents({ obj: this, evType: 'attrChange' + name._ACSSConvFunc(), component: compDetails.component, compDoc: compDetails.compDoc, compRef: compDetails.compRef });}"),s+="};customElements.define('"+a+"', ActiveCSS.customHTMLElements."+i+");",Function("_handleEvents, _componentDetails",'"use strict";'+s)(_handleEvents,_componentDetails)}},_a.DocumentTitle=n=>{document.title=n.actVal._ACSSRepQuo()},_a.Eval=o=>{let evalContent=ActiveCSS._sortOutFlowEscapeChars(o.actVal.trim().slice(2,-2));eval(evalContent)},_a.FocusOff=n=>{_a.Blur(n)},_a.FocusOn=n=>{_focusOn(n)};const _focusOn=(n,a,r=!1)=>{let c,l,i,s,u,d=!1,p=1,f=n.actVal;"pcc"!=a&&"ncc"!=a||(-1!==f.indexOf(" click")&&(d=!0,f=f.replace(/ click/,"")),f=f.replace(/ ([\d]+)( |$)?/gm,(function(n,a){return p=a,""})),f=f.trim());if(-1!==["l","n","p","nc","pc","ncc","pcc"].indexOf(a))if("l"!=a)i=_getFocusedOfNodes(f,n),l=i[0],s=i[1],"pcc"!=a&&"ncc"!=a||p>l.length&&(p%=l.length);else{let n=_splitIframeEls(f);if(!n)return!1;l=n[0].querySelectorAll(n[1])||null}switch(a){case"p":case"pc":case"pcc":if("p"==a){if(0===s)return}else s=p>s?l.length-p-s+1:s-p+1;c=l[s-1];break;case"n":case"nc":case"ncc":if("n"==a){if(s==l.length-1)return}else s=l.length<=p+s?p+s-l.length-1:s+p-1;c=l[s+1];break;case"l":c=l[l.length-1];break;default:c=_getSel(n,f)}if(c)return u="FORM"==c.tagName?c.elements[0]:c,!d||"pcc"!=a&&"ncc"!=a?r||("Click"==n.func.substr(0,5)?ActiveCSS.trigger(u,"click"):c.focus()):(ActiveCSS.trigger(u,"click"),setTimeout((function(){u.focus()}),0)),u};_a.FocusOnFirst=n=>{_focusOn(n)},_a.FocusOnLast=n=>{_focusOn(n,"l")},_a.FocusOnNext=n=>{_focusOn(n,"n")},_a.FocusOnNextCycle=n=>{_focusOn(n,"nc")},_a.FocusOnPrevious=n=>{_focusOn(n,"p")},_a.FocusOnPreviousCycle=n=>{_focusOn(n,"pc")},_a.FormReset=n=>{let a=_getSel(n,n.actVal);a&&"FORM"==a.tagName&&a.reset()},_a.FullscreenExit=n=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},_a.FullscreenOn=n=>{let a=n.secSelObj;a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()},_a.Func=n=>{let a=[];n.actVal=n.actVal._ACSSSpaceQuoIn();let r=n.actVal.trim().split(" "),c=r.splice(0,1);if("function"!=typeof window[c])console.log(c+" is not a function.");else{let l;for(l of r)l="true"==l||"false"!=l&&(isNaN(l)?l._ACSSSpaceQuoOut()._ACSSRepQuo():parseFloat(l)),a.push(l);window[c](n,a)}},_a.IframeReload=n=>{let a=n.secSelObj.cloneNode(!1);n.secSelObj.parentNode.insertBefore(a,n.secSelObj),ActiveCSS._removeObj(n.secSelObj)},_a.LoadConfig=n=>{n.actVal=n.actVal._ACSSRepQuo().trim(),_addActValRaw(n),configArr.includes(n.avRaw)?_handleEvents({obj:n.obj,evType:"afterLoadConfig",eve:n.e,compRef:n.compRef,compDoc:n.compDoc,component:n.component,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo}):(n.file=n.actVal,_getFile(n.actVal,"txt",n))},_a.LoadImages=n=>{let a=n.actVal;n.doc.querySelectorAll("img["+a+"], picture source["+a+"]").forEach((function(n,r){let c="IMG"==n.tagName?"src":"srcset";n.setAttribute(c,n.getAttribute(a)),n.removeAttribute(a)}))},_a.LoadScript=(n,a)=>{let r=n.actVal._ACSSRepQuo(),c=supportsShadow&&n.compDoc instanceof ShadowRoot,l=("style"==a&&c?n.compRef+"|":"")+_getBaseURL(r);if(!scriptTrack.includes(l)){let i="style"==a?"link":"script",s="style"==a?"href":"src",u=document.createElement(i);"style"==a&&(u.rel="stylesheet"),u[s]=r,u.onload=function(){_handleEvents({obj:n.obj,evType:"afterLoad"+("style"==a?"Style":"Script"),eve:n.e,compRef:n.compRef,compDoc:n.compDoc,component:n.component,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo})},c?n.compDoc.appendChild(u):document.head.appendChild(u),scriptTrack.push(l)}},_a.LoadStyle=n=>{_a.LoadScript(n,"style")},_a.Location=n=>{let a=n.actVal._ACSSRepQuo();n.doc.contentWindow?n.doc.contentWindow.document.location.href=a:document.location.href=a},_a.MediaControl=n=>{let a=n.secSelObj,r=n.actVal.split(" ");if(r[1])switch(r[1]=r[1]._ACSSRepQuo(),r[0]){case"load":a.setAttribute("src",r[1]);break;case"seek":a.currentTime=parseFloat(r[1]);break;case"volume":a.volume=parseFloat(r[1])}switch(r[0]){case"play":a.play();break;case"pause":a.pause();break;case"load":a.load()}},_a.MimicInto=n=>{let a,r,c,l,i;if(a=n.secSelObj,"title"==n.actVal)i="title",r="title",c=currDocTitle;else{if(i=_getSel(n,n.actVal),!i)return;r="INPUT"==i.tagName||"TEXTAREA"==i.tagName?"input":"text"}l=_getFieldValType(a),"title"!=n.actVal&&(c=a[l]);var s,u=0,d=n.secSelObj.form||n.secSelObj.closest("form");switch(d&&(d.cjsReset||(d.cjsReset=[],d.addEventListener("reset",_mimicReset)),"title"==r?d.cjsReset.title||(d.cjsReset.title=a.getAttribute("value")):a.activeResetValueSet||(u=d.cjsReset.length,d.cjsReset[u]={},d.cjsReset[u].el=i,d.cjsReset[u].value=c,d.cjsReset[u].type=r,a.activeResetValueSet=!0)),s=n.secSelObj[l],r){case"input":i.value=s;break;case"text":i.innerText=s;break;case"title":document.title=ActiveCSS._decodeHTML(s),currDocTitle=ActiveCSS._decodeHTML(s)}},_a.PreventDefault=n=>{n.e&&n.e.preventDefault()},_a.Remove=n=>{let a=_getSel(n,n.actVal.trim(),!0);if(!1!==a)ActiveCSS._removeObj(a);else{let a=_splitIframeEls(n.actVal,n.obj,n.compDoc);if(!a)return!1;a[0].querySelectorAll(a[1]).forEach((function(n){ActiveCSS._removeObj(n)}))}},_a.RemoveAttribute=n=>{n.secSelObj.removeAttribute(n.actVal)},_a.RemoveClass=n=>(ActiveCSS._removeClassObj(n.secSelObj,n.actVal),!0),_a.RemoveClone=n=>{let a=_getSel(n,n.actVal),r=_getActiveID(a);r&&(mimicClones[r]=null)},_a.RemoveCookie=n=>{let a,r,c,l,i=n.actVal._ACSSRepAllQuo();a=encodeURIComponent(_getParVal(i,"name")),r=_getParVal(i,"domain"),c=_getParVal(i,"path"),l=`${a}=; expires=Thu, 01 Jan 1970 00:00:00 GMT;`,l+=r?` domain=${r};`:"",l+=c?` path=${c};`:"",document.cookie=l},_a.RemoveProperty=n=>{n.secSelObj.style.removeProperty(n.actVal)},_a.Render=n=>{let a,r=_handleQuoAjax(n,n.actVal),c=n.secSelObj.cloneNode(!0);-1!==r.indexOf("{$SELF}")&&(a=c.outerHTML,n.renderPos="replace");let l=c.innerHTML;r=_replaceComponents(n,r),r=_replaceStringVars(n.ajaxObj,r),r=_renderRefElements(r,l,"CHILDREN"),r=_renderRefElements(r,a,"SELF"),r=_replaceScopedVars(r,n.secSelObj,"Render",null,!1),_renderIt(n,r,l,a)},_a.RenderAfterBegin=n=>{n.renderPos="afterbegin",_a.Render(n)},_a.RenderAfterEnd=n=>{n.renderPos="afterend",_a.Render(n)},_a.RenderBeforeBegin=n=>{n.renderPos="beforebegin",_a.Render(n)},_a.RenderBeforeEnd=n=>{n.renderPos="beforeend",_a.Render(n)},_a.RenderReplace=n=>{n.renderPos="replace",_a.Render(n)},_a.RestoreClone=n=>{let a=_getSel(n,n.actVal),r=_getActiveID(a);if(mimicClones[r])if("IFRAME"==a.tagName){if("complete"!=a.contentWindow.document.readyState)return!1;setTimeout((function(){a.contentWindow.document.body=mimicClones[r]}),0)}else setTimeout((function(){let c=a.parentNode;c.replaceChild(mimicClones[r],a),_a.Trigger({secSel:"",actVal:"draw",secSelObj:c,ajaxObj:n.ajaxObj,e:n.el||null})}),0)},_a.Run=n=>{let a,r='"use strict";'+n.actVal.replace(/\{\=([\s\S]*?)\=\}/m,(function(n,r){return a=_handleVarsInJS(ActiveCSS._sortOutFlowEscapeChars(r)),a})),c=n.compRef&&privVarScopes[n.compRef]?n.compRef:"main";scopedVars[c]=void 0===scopedVars[c]?{}:scopedVars[c];try{Function("scopedVars, _activeVarScope",r)(scopedVars,c)}catch(n){console.log("Function syntax error ("+n+"): "+r)}},_a.ScrollIntoView=n=>{let a=n.actVal.split(" "),r="start",c="nearest",l=_optDef(a,"behaviour-smooth","smooth","auto");"true"==n.actVal||"false"==n.actVal&&(r="end"),r=_optDef(a,"block-center","center",r),r=_optDef(a,"block-end","end",r),r=_optDef(a,"block-nearest","nearest",r),c=_optDef(a,"inline-center","center",c),c=_optDef(a,"inline-end","end",c),c=_optDef(a,"inline-nearest","nearest",c);try{n.secSelObj.scrollIntoView({behaviour:l,block:r,inline:c})}catch(a){n.secSelObj.scrollIntoView({behaviour:l,inline:c})}},_a.ScrollX=n=>{if("body"==n.secSel)"left"==n.actVal?window.scrollTo({left:0}):"right"==n.actVal?window.scrollTo({left:1e7}):window.scrollTo({left:n.actVal});else{let a=n.secSelObj;"left"==n.actVal?a.scrollLeft=0:"right"==n.actVal?a.scrollLeft=1e7:a.scrollLeft=n.actVal}},_a.ScrollY=n=>{if("body"==n.secSel)"top"==n.actVal?window.scrollTo({top:0}):"bottom"==n.actVal?window.scrollTo({top:1e7}):window.scrollTo({top:n.actVal});else{let a=n.secSelObj;a&&("top"==n.actVal?a.scrollTop=0:"bottom"==n.actVal?a.scrollTop=a.scrollHeight:a.scrollTop=n.actVal)}},_a.SelectAll=n=>{requestAnimationFrame(()=>document.execCommand("selectAll"))},_a.SelectNone=n=>{getSelection().removeAllRanges()},_a.SetAttribute=n=>{n.actVal=n.actVal._ACSSSpaceQuoIn();let a=n.actVal.split(" ");a[1]=_handleQuoAjax(n,a[1])._ACSSSpaceQuoOut(),n.secSelObj.setAttribute(a[0],a[1])},_a.SetClass=n=>{let a=n.actVal.replace(/\./g,"")._ACSSRepQuo();_setClassObj(n.secSelObj,a)},_a.SetCookie=n=>{let a,r,c,l,i,s,u,d,p,f,_=n.actVal;if(_=_.replace(/\\\"/g,"_ACSS_escaped_quote"),_=_._ACSSSpaceQuoIn(),_=_.replace(/_ACSS_escaped_quote/g,'\\"'),a=encodeURIComponent(_getParVal(_,"name")._ACSSRepQuo()),r=encodeURIComponent(_getParVal(_,"value")._ACSSSpaceQuoOut()._ACSSRepQuo()),c=_getParVal(_,"expires")._ACSSSpaceQuoOut()._ACSSRepQuo(),"Infinity"==c)c="Fri, 31 Dec 9999 23:59:59 GMT";else{let n=_getPastFutureDate(c);c=n instanceof Date?n.toUTCString():c}if(l=_getParVal(_,"maxAge")._ACSSRepQuo(),l){new RegExp("^\\d+$").test(l)||console.log("set-cookie error: maxAge is not a number.")}i=_getParVal(_,"domain")._ACSSRepQuo(),s=_getParVal(_,"path")._ACSSRepQuo(),f=_getParVal(_,"sameSite")._ACSSCapitalize()._ACSSRepQuo();let m=_.split(" ");u=_optDef(m,"httponly",!0,!1),p=_optDef(m,"secureIfHttps",!0,!1),d=p?"https:"==window.location.protocol:_optDef(m,"secure",!0,!1);let S=`${a}=${r};`;S+=c?` Expires=${c};`:"",S+=l?` Max-Age=${l};`:"",S+=i?` Domain=${i};`:"",S+=s?` Path=${s};`:"",S+=d?" Secure;":"",S+=f?` SameSite=${f};`:"",S+=u?" HttpOnly;":"",S=S._ACSSSpaceQuoOut(),document.cookie=S},_a.SetProperty=n=>{n.actVal=n.actVal._ACSSSpaceQuoIn();let a=n.actVal.split(" ");a[1]=_handleQuoAjax(n,a[1])._ACSSSpaceQuoOut(),n.secSelObj[a[0]]="true"==a[1]||"false"!=a[1]&&a[1]},_a.StopEventPropagation=n=>{void 0!==maEv[n._maEvCo]&&(maEv[n._maEvCo]._acssStopEventProp=!0)},_a.StopImmediateEventPropagation=n=>{void 0!==taEv[n._taEvCo]&&(taEv[n._taEvCo]._acssStopImmedEvProp=!0),void 0!==maEv[n._maEvCo]&&(maEv[n._maEvCo]._acssStopEventProp=!0)},_a.StopImmediatePropagation=n=>{n.e&&n.e.stopImmediatePropagation(),_a.StopImmediateEventPropagation(n)},_a.StopPropagation=n=>{n.e&&n.e.stopPropagation(),_a.StopEventPropagation(n)},_a.Style=n=>{let a=_handleQuoAjax(n,n.actVal).split(" "),r=a.shift();n.secSelObj.style[r]=a.join(" ")},_a.TakeClass=n=>{if(n.doc!=document)return console.log("Active CSS error - you cannot take a class if the element clicked on is not going to take the class. With iframes, use give-class instead."),!1;let a=n.actVal.substr(1);_eachRemoveClass(a,a,n.doc),_a.AddClass(n)},_a.ToggleClass=n=>{let a=n.actVal.replace(/\./g,"");_toggleClassObj(n.secSelObj,a)},_a.Trigger=n=>{"string"!=typeof n.obj||-1!==n.obj.indexOf("{@")||-1!==n.obj.indexOf("{$")||["~","|"].includes(n.obj.substr(0,1))?"string"==typeof n.secSel&&["~"].includes(n.secSel.substr(0,1))?_handleEvents({obj:n.secSel,evType:n.actVal,otherObj:n.ajaxObj,eve:n.e,origObj:n.obj,compRef:n.compRef,compDoc:n.compDoc,component:n.component,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo}):"draw"==n.actVal?_runInnerEvent(n,null,"draw"):_handleEvents({obj:n.secSelObj,evType:n.actVal,otherObj:n.ajaxObj,eve:n.e,compRef:n.compRef,compDoc:n.compDoc,component:n.component,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo}):n.doc.querySelectorAll(n.obj).forEach((function(a,r){["~"].includes(n.secSel.substr(0,1))?_handleEvents({obj:n.secSel,evType:n.actVal,otherObj:n.ajaxObj,eve:n.e,origObj:a,compRef:n.compRef,compDoc:n.compDoc,component:n.component,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo}):_handleEvents({obj:n.secSel,evType:n.actVal,otherObj:n.ajaxObj,eve:n.e,compRef:n.compRef,compDoc:n.compDoc,component:n.component,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo})}))},_a.TriggerReal=n=>{if(_isConnected(n.secSelObj))try{n.secSelObj.addEventListener(n.actVal,(function(n){}),{capture:!0,once:!0}),n.secSelObj[n.actVal]()}catch(n){console.log("Active CSS error: Only DOM events support trigger-real.")}else _a.StopPropagation(n)},_a.UrlChange=n=>{let a=n.actVal.split(" ")[0],r=n.actVal.replace(a,"").trim();""==r&&(r=document.title),_urlTitle(a,r,n)},_a.Var=n=>{let a=n.actVal.trim().split(" "),r=a.shift(),c=a.join(" ");if(!c)if(r.endsWith("++"))r=r.slice(0,-2),c=r+"+1";else{if(!r.endsWith("--"))return void console.log('Active CSS error: Invalid command "var: '+r+';" needs an expression to be assigned.');r=r.slice(0,-2),c=r+"-1"}r=_prefixScopedVars(r,n.compRef,"varname"),c=_prefixScopedVars(c,n.compRef);let l,i=!1;if("window."==r.substr(0,7))i=!0,l=r;else{l=r;let a=n.compRef&&privVarScopes[n.compRef]?n.compRef:"main";l=l.replace("scopedVars."+a+".",""),l=a+"."+l}l=_resolveInnerBracketVars(l),c="{="+c+"=}";let s=_replaceJSExpression(c,!0,null,n.compRef);_set(i?window:scopedVars,l,s)},ActiveCSS.first=n=>_focusOn({actVal:n},null,!0),ActiveCSS.last=n=>_focusOn({actVal:n},"l",!0),ActiveCSS.next=n=>_focusOn({actVal:n},"n",!0),ActiveCSS.nextCycle=n=>_focusOn({actVal:n},"ncc",!0),ActiveCSS.previous=n=>_focusOn({actVal:n},"p",!0),ActiveCSS.previousCycle=n=>_focusOn({actVal:n},"pcc",!0),ActiveCSS.trigger=(n,a,r,c,l)=>{"object"==typeof n?_handleEvents({obj:n,evType:a,compRef:r,compDoc:c,component:l}):_a.Trigger({secSel:n,actVal:a,compRef:r,compDoc:c,component:l})},ActiveCSS.triggerReal=(n,a,r,c,l)=>{"string"==typeof n&&(n=document.querySelector(n)),n?_a.TriggerReal({secSelObj:n,actVal:a,compRef:r,compDoc:c,component:l}):console.log("No object found in document to triggerReal.")},_c.IfCompletelyVisible=n=>ActiveCSS._ifVisible(n,!0),_c.IfCookieEquals=n=>{let a=n.actVal.split(" ");if(!_cookieExists(a[0]))return!1;let r=a[0];return a.shift(),a=a.join(" "),_getCookie(r)==a._ACSSRepQuo()},_c.IfCookieExists=n=>_cookieExists(n.actVal),_c.IfDisplay=n=>{let a=n.doc.querySelector(n.actVal);return a&&"none"!==getComputedStyle(a,null).display},_c.IfEmpty=n=>_selCompare(n,"eM"),_c.IfExists=n=>!!_getSel(n,n.actVal),_c.IfFocusFirst=n=>_ifFocus(n),_c.IfFocusLast=n=>_ifFocus(n,!1),_c.IfFormChanged=n=>_checkForm(_getSel(n,n.actVal),"check"),_c.IfFunc=n=>{if("true"==n.actVal)return!0;if("false"==n.actVal)return!1;try{return window[n.actVal](n)}catch(a){return console.log("Active CSS: Function "+n.actVal+" does not exist."),!1}},_c.IfHasClass=n=>{let a=_actValSelItem(n);return a[0]&&ActiveCSS._hasClassObj(a[0],a[1].substr(1))},_c.IfInnerHtml=n=>_selCompare(n,"iH"),_c.IfInnerText=n=>_selCompare(n,"iT"),_c.IfMaxLength=n=>_selCompare(n,"maL"),_c.IfMediaMaxWidth=n=>window.matchMedia("all and (max-width: "+n.actVal+")").matches,_c.IfMediaMinWidth=n=>window.matchMedia("all and (min-width: "+n.actVal+")").matches,_c.IfMinLength=n=>_selCompare(n,"miL"),_c.IfScrolltopGreater=n=>"body"==n.obj?(window.pageYOffset||document.documentElement.scrollTop)>n.actVal:n.obj.scrollTop>n.actVal,_c.IfScrolltopLess=n=>"body"==n.obj?(window.pageYOffset||document.documentElement.scrollTop)<n.actVal:n.obj.scrollTop<n.actVal,_c.IfSelection=n=>{let a=window.getSelection();return n.actVal=n.actVal._ACSSRepQuo().trim(),a.toString()==n.actVal},_c.IfVar=n=>{let a=n.actVal._ACSSSpaceQuoIn().split(" ");if(1==a.length)return _ifVarTrue(n.actVal,n.compRef);{let r=a.shift(),c=a.join(" ")._ACSSSpaceQuoOut();c="true"==c||"false"!=c&&c,c="string"==typeof c&&-1===c.indexOf('"')?Number(c._ACSSRepQuo()):c._ACSSRepQuo();let l=(n.compRef&&privVarScopes[n.compRef]?n.compRef:"main")+"."+r,i=_get(scopedVars,l);return void 0===i&&(i=window[r]),typeof i==typeof c&&i==c}},_c.IfVarTrue=n=>_ifVarTrue(n.actVal,n.compRef),_c.IfVisible=n=>ActiveCSS._ifVisible(n),_c.MqlTrue=n=>mediaQueries[n.actVal].val;const _addCancelAttr=(n,a)=>{let r=_getActiveID(n);cancelIDArr[r]||(cancelIDArr[r]=[]),cancelIDArr[r][a]=!0},_clearTimeouts=n=>{clearTimeout(n),clearInterval(n)},_delaySplit=(n,a,r)=>{let c,l,i;return c=new RegExp("("+a+' (stack|([\\{]?[\\@]?[\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w_\\-\\.\\:\\[\\]]+[\\}]?)(s|ms)))(?=(?:[^"]|"[^"]*")*)',"gm"),{str:(n=(n=n.replace(c,(function(n,a,c,i,s){return i&&-1!==i.indexOf("{")?(i=i.replace(/[\{\}]+/g,""),l=_replaceJSExpression("{="+i+"=}",!0,!1,r)+s):l=c,l=_convertToMS(l,"Invalid delay number format: "+a),""}))).replace(/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w_]+)(?=(?:[^"]|"[^"]*")*)$/gm,(function(n,r){return i=r.split(" ")[1],"every"==a?"":r}))).trim(),tim:l,lab:i}},_removeCancel=(n,a,r,c,l)=>{if(delayArr[n]&&delayArr[n][a]&&delayArr[n][a][r]&&delayArr[n][a][r][c]){let i=delayArr[n][a][r][c][l];if(i&&labelByIDs[i]){let n=labelByIDs[i];labelByIDs.splice(labelByIDs.indexOf[i]),delete labelData[n.lab]}delayArr[n][a][r][c][l]=null}["~","|"].includes(n.substr(0,1))?cancelCustomArr[n]&&cancelCustomArr[n][a]&&cancelCustomArr[n][a][r]&&cancelCustomArr[n][a][r][c]&&(cancelCustomArr[n][a][r][c][l]=null):cancelIDArr[n]&&cancelIDArr[n][a]&&(cancelIDArr[n][a]=null)},_setupLabelData=(n,a,r,c,l,i,s)=>{delayArr[a][r][c][l][i]=s,n&&(labelData[n]={del:a,func:r,pos:c,intID:l,loopRef:i,tid:s},labelByIDs[s]={del:a,func:r,pos:c,intID:l,loopRef:i,lab:n})},_unloadAllCancelTimer=()=>{let n;for(n in delayArr)_unloadAllCancelTimerLoop(n);delayArr=[],cancelIDArr=[],labelData=[],labelByIDs=[]},_unloadAllCancelTimerLoop=n=>{let a,r,c,l;for(a in delayArr[n])for(r in delayArr[n][a])for(c in delayArr[n][a][r])for(l in delayArr[n][a][r][c])_clearTimeouts(delayArr[n][a][r][c][l])},_actionValLoop=(n,a,r,c)=>{let l,{loopI:i,actVals:s,actValsLen:u}=a;for(l=0;l<u;l++)n.actVal=s[l].trim(),n.actPos=l,n.secSelObj=r,_handleFunc(n,null,c)},_addInlinePriorToRender=n=>{if(-1!==(n=n.replace(/_ACSS_later_brace_start/g,"{")).indexOf("<style ")&&-1!==n.indexOf('"text/acss"')){let a=document.createElement("div");a.innerHTML=n;let r=a.querySelectorAll('style[type="text/acss"]');r&&_getInline(r)}return n},_cloneAttrs=(n,a)=>{let r,c=Array.prototype.slice.call(a.attributes);for(r of c)"href"!=r.nodeName&&("class"==r.nodeName?ActiveCSS._addClassObj(n,r.nodeValue):n.getAttribute(r.nodeName)||n.setAttribute(r.nodeName,r.nodeValue));n.setAttribute("data-active-nav","1")},_escapeInline=(n,a)=>{let r=a.split(" ")[0],c=new RegExp("<"+a+"([\\s\\S]*?)>([\\s\\S]*?)</"+r+">","gi");return n=n.replace(c,(function(n,c,l){return"<"+a+c+">"+l.replace(/\{/g,"_ACSS_later_brace_start")+"</"+r+">"}))},_handleClickOutside=(n,a)=>{let r,c;for(r in clickOutsideSels)if(clickOutsideSels[r][0]&&(c=idMap[r],c&&!c.contains(n)&&_handleEvents({obj:c,evType:"clickoutside",eve:a,otherObj:n})&&!clickOutsideSels[r][1]))return!1;return!0},_handleEvents=n=>{let a,r=n.obj,c=n.evType,l=n.onlyCheck,i=n.otherObj,s=n.eve,u=n.afterEv,d=n.origObj,p=n.runButElNotThere,f=n.compDoc;a=f||document;let _=n.compRef,m=n._maEvCo,S=n.component?"|"+n.component:null;if("string"!=typeof r&&!r||!selectors[c]||void 0===c)return!1;let g,v,b,C,h,A=[],y=selectors[c].length;if("draw"==c&&(r._acssDrawn=!0),"string"!=typeof r){let n=!0;if(S&&("draw"!=c||-1===customTags.indexOf(r.tagName))){let a,l=_,i=S,s=compPrivEvs[_];for(;;){for(g=0;g<y;g++)if(b=selectors[c][g].indexOf(":"),selectors[c][g].substr(0,b)===i&&(v=selectors[c][g].substr(b+1),v=u&&d?_replaceAttrs(d,v):v,-1===v.indexOf("<")&&!A.includes(selectors[c][g])))if("&"==v)A.push(selectors[c][g]);else try{r.matches(v)&&A.push(selectors[c][g])}catch(n){console.log("Active CSS warning: "+v+" is not a valid CSS selector, skipping. (err: "+n+")")}if(a=compParents[l],s||-1!==["beforeComponentOpen","componentOpen"].indexOf(c))n=!1;else if(a.compRef){l=a.compRef,i="|"+a.component,s=a.privateEvs;continue}break}}if(n)for(g=0;g<y;g++)if(!["~","|"].includes(selectors[c][g].substr(0,1))&&(v=u&&d?_replaceAttrs(d,selectors[c][g]):selectors[c][g],-1===v.indexOf("<")&&!A.includes(selectors[c][g])))try{r.matches(v)&&A.push(selectors[c][g])}catch(n){console.log("Active CSS warning: "+v+" is not a valid CSS selector, skipping. (err: "+n+")")}}else A.push(r),r=d||r;S=S?S.substr(1):null,y=A.length;let E,O,D=0,R=[];for(C=0;C<y;C++)if(config[A[C]]&&config[A[C]][c]){if(l)return!0;for(O in config[A[C]][c])D++,"0"!=O&&_passesConditional(r,C,O,c,i,a,_,S,s,f)&&(R[D]=O)}D=0;e:for(C=0;C<y;C++)if(config[A[C]]&&config[A[C]][c])for(O in config[A[C]][c]){if(D++,E="","0"!=O){if(void 0===R[D])continue;E=R[D]}if(h=config[A[C]][c][O],!1!==h){let a,l;for(a in h)if(l={chilsObj:h,originalLoops:a,secSelLoops:a,obj:r,compDoc:f,evType:c,compRef:_,evObj:n,otherObj:i,passCond:E,sel:C,component:S,selectorList:A,eve:s,_maEvCo:m,runButElNotThere:p},_performSecSel(l),void 0!==maEv[m]&&maEv[m]._acssStopImmedEvProp)break e}}return!0},_handleFunc=function(n,a=null,r=!1){let c;if("string"==typeof n.secSel&&["~","|"].includes(n.secSel.substr(0,1)))c=n.secSel;else{if(!r&&!_isConnected(n.secSelObj))return a&&(delayArr[a]&&_unloadAllCancelTimerLoop(a),delayArr[a]=null,cancelIDArr[a]=null,cancelCustomArr[a]=null),_a.StopPropagation(n),void delete idMap[n.secSelObj];c=_getActiveID(n.secSelObj)}if("0"!=n.loopRef&&(n.actVal=_replaceLoopingVars(n.actVal,n.loopVars)),n.actVal.match(/(after|every) (stack|(\{)?(\@)?[\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\:\[\]]+(\})?(s|ms))(?=(?:[^"]|"[^"]*")*$)/gm)){let a,l,i,s=Object.assign({},n),u=["after","every"];for(a of u)if(l=_delaySplit(s.actVal,a,n.compRef),i=n.compRef?n.compRef:"main",l.lab&&(l.lab=i+l.lab),"number"==typeof l.tim&&l.tim>=0){if(s.actVal=l.str,s.actValSing=s.actVal,delayArr[c]=void 0!==delayArr[c]?delayArr[c]:[],delayArr[c][s.func]=void 0!==delayArr[c][s.func]?delayArr[c][s.func]:[],delayArr[c][s.func][s.actPos]=void 0!==delayArr[c][s.func][s.actPos]?delayArr[c][s.func][s.actPos]:[],delayArr[c][s.func][s.actPos][s.intID]=void 0!==delayArr[c][s.func][s.actPos][s.intID]?delayArr[c][s.func][s.actPos][s.intID]:[],delayArr[c][s.func][s.actPos][s.intID][s.loopRef]&&(_clearTimeouts(delayArr[c][s.func][s.actPos][s.intID][s.loopRef]),_removeCancel(c,s.func,s.actPos,s.intID,s.loopRef)),s.delayed=!0,"after"==a)return void _setupLabelData(l.lab,c,s.func,s.actPos,s.intID,s.loopRef,setTimeout(_handleFunc.bind(this,s,c,r),l.tim));s.interval=!0,_setupLabelData(l.lab,c,s.func,s.actPos,s.intID,s.loopRef,setInterval(_handleFunc.bind(this,s,c,r),l.tim)),n.interval=!0,n.actValSing=l.str}}else n.actValSing=n.actVal;if(-1!==n.actValSing.indexOf("label ")&&(n.actValSing=n.actValSing.replace(/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w_]+)(?=(?:[^"]|"[^"]*")*)/gm,"")),"string"==typeof n.secSel&&["~","|"].includes(n.secSel.substr(0,1))&&cancelCustomArr[c]&&cancelCustomArr[c][n.func]&&cancelCustomArr[c][n.func][n.actPos]&&cancelCustomArr[c][n.func][n.actPos][n.intID]&&cancelCustomArr[c][n.func][n.actPos][n.intID][n.loopRef])_removeCancel(c,n.func,n.actPos,n.intID,n.loopRef);else if(!(n.delayed&&cancelIDArr[c]&&cancelIDArr[c][n.func])){if("Var"==n.func&&(n.actValSing=n.actValSing.replace(/__ACSS_int_com/g,",")),n.actVal=_replaceAttrs(n.obj,n.actValSing,n.secSelObj,n,n.func,n.compRef),(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput(n),"function"!=typeof _a[n.func])n.secSelObj.style[n.actName]=n.actVal;else{let a=n.compRef&&privVarScopes[n.compRef]?n.compRef:"main";n.vars=scopedVars[a],_a[n.func](n,scopedVars,privVarScopes)}!n.interval&&a&&_removeCancel(c,n.func,n.actPos,n.intID,n.loopRef),-1===["LoadConfig","LoadScript","LoadStyle","Ajax","AjaxPreGet","AjaxFormSubmit","AjaxFormPreview"].indexOf(n.func)&&(r||_isConnected(n.secSelObj)||(n.secSelObj=void 0),_handleEvents({obj:n.secSelObj,evType:"after"+n.actName._ACSSConvFunc(),otherObj:n.secSelObj,eve:n.e,afterEv:!0,origObj:n.obj,compRef:n.compRef,compDoc:n.compDoc,component:n.component,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo}))}},_handleLoop=n=>{let a=n.originalLoops,r=n.compRef,c=n.loopRef?n.loopRef:"",l=n.loopVars?n.loopVars:[];if("@each "==a.substr(0,6)){let i,s,u=a.indexOf(" in "),d=a.substr(6,u-6);-1!==d.indexOf(",")&&(i=d.split(","));let p,f,_,m,S,g,v,b=a.substr(u+4),C=(r&&privVarScopes[r]?r:"main")+".",h=C+b;if(void 0!==l[b]?(p=_get(scopedVars,C+l[b]),b=l[b]):p=_get(scopedVars,h),void 0===p)return void console.log("Active CSS error: "+h+" is not defined - skipping loop.");if(Array.isArray(p)){p.length;for(m=0;m<p.length;m++){if(_=Object.assign({},n),_.loopVars||(_.loopVars={}),i){for(S in i)s=i[S].trim(),f=b+"["+m+"]["+S+"]",l[s]=f;_.loopRef=c+i[0]+"_"+m}else f=b+"["+m+"]",l[d]=f,_.loopRef=c+d+"_"+m;_.loopVars=l,_performSecSel(_)}}else{let a,r=0;for([g,v]of Object.entries(p))_=Object.assign({},n),_.loopVars||(_.loopVars={}),i?(l[i[0]]="-_-"+g,_.loopRef=i[0]+"_0_"+r,a=i[1].trim(),f=b+"."+g,l[a]=f,_.loopRef=c+a+"_1_"+r):(l[d]="-_-"+g,_.loopRef=c+d+"_0_"+r),r++,_.loopVars=l,_performSecSel(_)}}},_handleVarsInJS=function(n){let a={},r={},c=!1;return n=n.replace(/[\s]*vars[\s]*([\u00BF-\u1FFF\u2C00-\uD7FF\w_\, ]+)[\s]*\;/gi,(function(n,l){let i,s=l.split(",");s=[...new Set(s)];let u="(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)";for(i of(c=!0,s))i=i.trim(),a[u+"("+i+")"+u]="",r[i]="scopedVars[_activeVarScope]."+i;return""})),c&&(n=(n=n.replace(/\\"/g,"cjs_tmp-dq")).replace(/\\'/g,"cjs_tmp-sq"),n=(n=(n=(n=ActiveCSS._mapRegexReturn(a,n,r)).replace(/(["|'][\s\S]*?["|'])/gim,(function(n,a){return a.replace(/scopedVars\[_activeVarScope\]\./g,"")}))).replace(/cjs_tmp\-dq"/g,'\\"')).replace(/cjs_tmp\-sq/g,"\\'")),n},_mainEventLoop=(n,a,r,c,l)=>{if("cause-js-elements-ext"==a.target.id)return;let i,s,u=a.target==self||a.target.body;if("click"!=n&&u)return _handleEvents({obj:"body",evType:n,eve:a}),void _handleEvents({obj:"window",evType:n,eve:a});if(a.primSel)i=a.secSelObj;else{if("click"==n&&0!==a.button)return;i=a.target}if("mouseover"!=n||u||"A"==i.tagName&&1!==i["data-active-nav"]&&_setUpNavAttrs(i),"click"==n&&"bypass"!=a.primSel&&clickOutsideSet&&!_handleClickOutside(i,a))return a.primSel||a.preventDefault(),!1;s=_composedPath(a),mainEventCounter++,maEv[mainEventCounter]={};let d=s[0];if(_getRootNode(d).isSameNode(document)||a.target.isSameNode(d)){let r;for(i of s)if(1===i.nodeType&&("click"==n&&"A"==i.tagName&&1!==i["data-active-nav"]&&_setUpNavAttrs(i),r=_componentDetails(i),_handleEvents({obj:i,evType:n,eve:a,component:r.component,compDoc:r.compDoc,compRef:r.compRef,_maEvCo:mainEventCounter}),!i||!a.bubbles||"BODY"==i.tagName||maEv[mainEventCounter]._acssStopEventProp))break;!maEv[mainEventCounter]._acssStopEventProp&&document.parentNode&&_handleEvents({obj:window.frameElement,evType:n,eve:a})}setTimeout((function(){maEv=maEv.filter((function(n,a){return a!=mainEventCounter}))}),1e4)};ActiveCSS._nodeMutations=function(n){n.forEach(n=>{if("childList"==n.type)n.removedNodes&&n.removedNodes.forEach(n=>{n instanceof HTMLElement&&(idMap.splice(idMap.indexOf(n),1),varInStyleMap.splice(varInStyleMap.indexOf(n._acssActiveID),1),_isACSSStyleTag(n)?_regenConfig(n,"remove"):n.querySelectorAll('style[type="text/acss"]').forEach((function(n,a){_regenConfig(n,"remove")})))}),n.addedNodes&&n.addedNodes.forEach(n=>{n instanceof HTMLElement&&(_isACSSStyleTag(n)&&!_isInlineLoaded(n)?_regenConfig(n,"addDevTools"):n.querySelectorAll('style[type="text/acss"]').forEach((function(a,r){_isInlineLoaded(n)||_regenConfig(a,"addDevTools")})))});else if("characterData"==n.type){let a=n.target;a.nodeType==Node.TEXT_NODE&&_isACSSStyleTag(a.parentElement)&&setTimeout((function(){let n=a.parentElement,r='<style type="text/acss">'+n.innerText+"</style>";_regenConfig(n,"remove"),n.insertAdjacentHTML("beforebegin",r),n.type="text/dummy",n.remove()}),0)}})};const _passesConditional=(n,a,r,c,l,i,s,u,d,p)=>{let f,_,m,S,g,v,b,C,h=r.split(/ (?![^\(\[]*[\]\)])/),A=!1;for(S of h){let r=S.indexOf("(");if(-1===r){if(u&&(S="|"+u+"|"+S,void 0===conditionals[S])){let n=S.substr(u.length+2);console.log("Active CSS error: Conditional "+n+" not found in config for component "+u)}if(g=conditionals[S],g){for(f in g)if(g.hasOwnProperty(f)&&(_=g[f],"!"==_.name.substr(0,1)?(A=!1,m=_.name.substr(1)):(A=!0,m=_.name),m=m._ACSSConvFunc(),"function"==typeof _c[m])){let r=_.value.replace(/"[^"]*"|(\,)/g,(function(n,a){return a?"_ACSSComma":n}));for(r=_replaceAttrs(n,r,null,null,null,s),r=l&&"0"!=l.loopRef?_replaceLoopingVars(r,l.loopVars):r,v=r.split("_ACSSComma"),b=v.length,C=0;C<b;C++)if(_c[m]({func:m,actName:_.name,secSel:"conditional",secSelObj:n,actVal:v[C].trim(),primSel:a,rules:g,obj:n,e:d,doc:i,ajaxObj:l,component:u,compDoc:p,compRef:s},scopedVars,privVarScopes)!==A)return!1}}else console.log("Active CSS error: Conditional "+S+" not found in config for document scope.")}else{let c=S.substr(0,r);if(A=!1,"not-"==c.substr(0,4)?m=c.substr(4):"!"==c.substr(0,1)?m=c.substr(1):(A=!0,m=c),m=m._ACSSConvFunc(),"function"==typeof _c[m]){let f=S.slice(r+1,-1).trim().replace(/"[^"]*"|(\,)/g,(function(n,a){return a?"_ACSSComma":n}));for(f=_replaceAttrs(n,f,null,null,null,s),f=l&&"0"!=l.loopRef?_replaceLoopingVars(f,l.loopVars):f,v=f.split("_ACSSComma"),b=v.length,C=0;C<b;C++)if(_c[m]({func:m,actName:c,secSel:"conditional",secSelObj:n,actVal:v[C].trim(),primSel:a,rules:S,obj:n,e:d,doc:i,ajaxObj:l,component:u,compDoc:p,compRef:s},scopedVars,privVarScopes)!==A)return!1}}}return!0},_performAction=(n,a=!1)=>{if(n.doc.readyState&&"complete"!=n.doc.readyState)return setTimeout(_performAction.bind(this,n),200),!1;_performActionDo(n,null,a)},_performActionDo=(n,a=null,r=!1)=>{if(!n.secSel&&!r)return;let c=n.actVal;-1!==n.actVal.indexOf(",")&&(c=c.replace(/\(.*?\)/g,(function(n,a){return n.replace(/,/g,"_ACSStmpcomma_")})),c=c.replace(/"[^"]*"|(\,)/g,(function(n,a){return a?"_ACSSComma":n})),c=c.replace(/_ACSStmpcomma_/g,",")),"Var"==n.func&&(c=ActiveCSS._sortOutFlowEscapeChars(c),c=_escCommaBrack(c,n));let l,i=c.split("_ACSSComma");l=i.length;let s={loopI:a,actVals:i,actValsLen:l};if("string"!=typeof n.secSel||["~","|"].includes(n.secSel.substr(0,1))){let a=Object.assign({},n);"object"==typeof a.secSel?_actionValLoop(n,s,a.secSel):(r||["~","|"].includes(a.secSel.substr(0,1)))&&_actionValLoop(n,s,{},r)}else{let a=!1;"#"==n.secSel&&console.log("Error: "+n.primSel+" "+n.event+", "+n.actName+': "'+n.origSecSel+'" is being converted to "#". Attribute or variable is not present.');let r=_prepSelector(n.secSel,n.obj,n.doc);r&&r.forEach(r=>{a=!0;let c=Object.assign({},n);_actionValLoop(c,s,r)})}},_performSecSel=n=>{let a=n.chilsObj,r=n.secSelLoops,c=n.obj,l=n.compDoc||document,i=n.evType,s=n.compRef,u=n.evObj,d=n.otherObj,p=n.passCond,f=n.sel,_=n.component,m=n.selectorList,S=n.eve,g=n.loopVars,v=n._maEvCo,b=n.loopRef?n.loopRef:0,C=n.runButElNotThere;s=supportsShadow&&l instanceof ShadowRoot?"_"+l.host._acssActiveID.replace(/id\-/,""):!l.isSameNode(document)&&l.hasAttribute("data-active-scoped")?"_"+l._acssActiveID.replace(/id\-/,""):u.compRef?u.compRef:null;let h,A,y,E,O,D,R,j,V=["&","self","this"],w="";targetEventCounter++,taEv[targetEventCounter]={};e:for(h in a[r])for(A in a[r][h]){if(void 0!==taEv[targetEventCounter]&&taEv[targetEventCounter]._acssStopImmedEvProp)break e;if("conds"==A)continue;if(-1!==A.indexOf("@each")){let n=[];n.push(a[r][h][A]),_handleLoop({chilsObj:n,originalLoops:A,secSelLoops:"0",obj:c,compDoc:l,evType:i,compRef:s,evObj:u,otherObj:d,passCond:p,sel:f,component:_,selectorList:m,eve:S,_maEvCo:v,_taEvCo:targetEventCounter,loopVars:g,loopRef:b,runButElNotThere:C});continue}if(y=_splitIframeEls(A,c,l),!y)continue;if(E=y[0],O=y[1],"0"!=b&&(O=_replaceLoopingVars(O,g)),O=_replaceAttrs(c,O,null,null,null,s),O=_replaceAttrs(d,O,null,null,null,s),V.includes(O))"string"==typeof c?O=c:(w=_getActiveID(c),O=w?idMap[w]:c);else if("host"==O){let n=_getRootNode(c);O=n._acssScoped?n:n.host}let n;for(D in a[r][h][A])if(-1===a[r][h][A][D].name.indexOf("@each"))R=a[r][h][A][D].name._ACSSConvFunc(),j=a[r][h][A][D].value,n={event:i,func:R,actName:a[r][h][A][D].name,secSel:O,origSecSel:A,actVal:j,origActVal:j,primSel:m[f],rules:a[r][h][A],obj:c,doc:E,ajaxObj:d,e:S,_maEvCo:v,_taEvCo:targetEventCounter,passCond:p,file:a[r][h][A][D].file,line:a[r][h][A][D].line,intID:a[r][h][A][D].intID,activeID:w,compRef:s,compDoc:l,component:_,loopVars:g,loopRef:b},_performAction(n,C);else{let n=[];n.push(a[r][h][A][D].value);let y={chilsObj:n,originalLoops:a[r][h][A][D].name,secSelLoops:"0",obj:c,compDoc:l,evType:i,compRef:s,evObj:u,otherObj:d,passCond:p,sel:f,component:_,selectorList:m,eve:S,_maEvCo:v,_taEvCo:targetEventCounter,loopVars:g,loopRef:b,runButElNotThere:C};_handleLoop(y)}}setTimeout((function(){taEv=taEv.filter((function(n,a){return a!=targetEventCounter}))}),1e4)},_prepSelector=(n,a,r)=>{let c,l=n;if(-1!==n.indexOf("&")&&"&"==n.substr(0,1))switch(n){case"window":n=window;break;case"body":n=document.body;break;default:c=_getActiveID(a),a.setAttribute("data-activeid",c),n=n.replace(/&/g,"[data-activeid="+c+"]")}if(-1===n.indexOf("<")){let i;return"window"==l?[window]:"body"==l?[document.body]:(i=r.querySelectorAll(n),c&&a.removeAttribute("data-activeid",c),i)}let i,s,u=n.split("<"),d=r.querySelectorAll(u.shift()),p=new Set;return d.forEach(n=>{for(i of(s=n,u)){if(s=s.parentElement,!s)break;if(s=s.closest(i),!s)break}s&&p.add(s)}),c&&a.removeAttribute("data-activeid",c),p},_renderCompDoms=(n,a=n.doc,r=null)=>{a.querySelectorAll("data-acss-component").forEach((function(a,c){_renderCompDomsDo(n,a,r)}))},_renderCompDomsClean=n=>{let a,r;for([a,r]of(delete compPending[n],Object.entries(shadowDoms)))r.isConnected||delete scopedVars[a]},_renderCompDomsDo=(n,a,r)=>{let c,l,i,s,u,d,p,f,_,m;if(c=a.parentNode,i=_componentDetails(c),u=a.getAttribute("data-ref"),p=a.getAttribute("data-name"),l=components[p].privEvs,s=components[p].shadow,!s&&c.childNodes.length>1?(m=document.createElement("acss-scope"),c.replaceChild(m,a),c=m):a.remove(),s&&c.shadowRoot)_renderCompDomsClean(u);else{if(d=_getActiveID(c).replace("id-","_"),void 0===scopedVars[d]&&(scopedVars[d]={}),privVarScopes[d]=!!components[p].privVars,compParents[d]=i,compPrivEvs[d]=l,compPending[u]=_renderRefElements(compPending[u],r,"CHILDREN"),_handleEvents({obj:c,evType:"beforeComponentOpen",eve:n.e,compRef:d,compDoc:void 0,component:p,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo}),compPending[u]=_replaceAttrs(n.obj,compPending[u],null,null,n.func,d),compPending[u]=_replaceComponents(n,compPending[u]),compPending[u]=_replaceScopedVars(compPending[u],n.secSelObj,n.func,n,!1,c,d),compPending[u]=_replaceStringVars(n.ajaxObj,compPending[u]),f=document.createElement("template"),f.innerHTML=compPending[u],_renderCompDomsClean(u),s)try{_=c.attachShadow({mode:components[p].mode})}catch(n){console.log("Active CSS error in attaching a shadow DOM object. Ensure the shadow DOM has a valid parent *tag*. The error is: "+n)}else _=c,_.setAttribute("data-active-scoped",""),_._acssScoped=!0;if(c._acssComponent=p,c._acssCompRef=d,c._acssPrivEvs=l,shadowDoms[d]=_,actualDoms[d]=s?_:_.getRootNode(),_.appendChild(f.content),_.querySelectorAll("[data-activeid]").forEach((function(n){_replaceTempActiveID(n)})),setTimeout((function(){_removeVarPlaceholders(_),_handleEvents({obj:c,evType:"componentOpen",eve:n.e,compRef:d,compDoc:_,component:p,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo}),_.querySelectorAll("*").forEach((function(a){"DATA-ACSS-COMPONENT"!=a.tagName?_handleEvents({obj:a,evType:"draw",eve:n.e,otherObj:n.ajaxObj,compRef:d,compDoc:_,component:p,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo}):_renderCompDomsDo(n,a)}))}),0),s){let n;if(0==allEvents.length)Object.keys(window).forEach(a=>{/^on/.test(a)&&(n=a.slice(2),allEvents.push(n),_attachListener(_,n,!1,!0))});else for(n of allEvents)_attachListener(_,n,!1,!0)}}},_renderIt=(n,a,r,c)=>{let l=document.createElement("div");l.innerHTML=a;let i,s,u=[];for(i of(l.childNodes.forEach((function(n){n.nodeType===Node.ELEMENT_NODE&&"DATA-ACSS-COMPONENT"!=n.tagName&&(s=_getActiveID(n),u.push(s))})),a=l.innerHTML,n.component||(a=_addInlinePriorToRender(a)),n.renderPos?"replace"==n.renderPos?(n.secSelObj.insertAdjacentHTML("beforebegin",a),n.secSelObj.remove()):n.secSelObj.insertAdjacentHTML(n.renderPos,a):n.secSelObj.innerHTML=a,0==u.length&&_removeVarPlaceholders(n.secSelObj.parentNode),u)){let a=n.doc.querySelector("[data-activeid="+i+"]");_removeVarPlaceholders(a),_replaceTempActiveID(a),a.querySelectorAll("[data-activeid]").forEach((function(n){_replaceTempActiveID(n)})),!a||a.shadow||a.scoped||(_handleEvents({obj:a,evType:"draw",eve:n.e,otherObj:n.ajaxObj,compRef:n.compRef,compDoc:n.compDoc,component:n.component,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo}),a.querySelectorAll("*").forEach((function(a){a._acssDrawn||"DATA-ACSS-COMPONENT"==a.tagName||_handleEvents({obj:a,evType:"draw",eve:n.e,otherObj:n.ajaxObj,compRef:n.compRef,compDoc:n.compDoc,component:n.component,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo})})))}_renderCompDoms(n,void 0,r)},_renderRefElements=(n,a,r)=>{if(-1!==n.indexOf("{$"+r+"}")){let c="CHILDREN"==r?CHILDRENREGEX:SELFREGEX;n=n.replace(c,a)}return n},_replaceLoopingVars=(n,a)=>(-1!==n.indexOf("{")&&(n=n.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]+)(\}|\.|\[)/gm,(function(n,r,c){return a[r]?"-_-"==a[r].substr(0,3)?a[r].substr(3):"{"+a[r]+c:"{"+r+c}))),n),_runInnerEvent=(n,a,r,c=document,l=!1)=>{let i="draw"==r&&l;"string"==typeof a?c.querySelectorAll(a).forEach((function(n){n._acssDrawn&&i||_handleEvents({obj:n,evType:r})})):(_handleEvents({obj:n.secSelObj,evType:r}),_runInnerEvent(null,"*",r,n.secSelObj))},_setUpNavAttrs=n=>{let a,r,c;a=document.querySelector("#data-active-pages"),a&&(r=n.getAttribute("href"),r&&(c=a.querySelector('a[href="'+r+'"]'),c&&_cloneAttrs(n,c)))},_splitIframeEls=(n,a=null,r=null)=>{let c,l,i=a&&"object"==typeof a?_getRootNode(a):null,s=document,u=!1,d=!1,p=!1;if(i&&!i.isSameNode(document)&&(s=i,supportsShadow&&i instanceof ShadowRoot?u=!0:d=!0),-1!==n.indexOf(" -> ")){let r;p=!0;let f=n.split(" -> "),_=0;for(r of f){if(_++,_==f.length)break;if("document"==r)s=document;else if("parent"==r)u?(i=_getRootNode(i.host),s=i):d&&(window.parent.document?s=window.parent.document:console.log("Active CSS error. Reference to a parent element that doesn't exist."));else if((a=s.querySelector(r)).shadowRoot)s=a.shadowRoot;else{if("IFRAME"!=a.tagName)return console.log("ref "+r+" is unknown."),!1;s=a.contentWindow.document,l=r}}c=f[f.length-1]}else c=n;return"host"==c?d?s=_getRootNode(i):(i=_getRootNode(i.host),s=i):r&&!p&&(s=r),[s,c,l]},_addACSSStyleTag=n=>{let a=_getActiveID(n);return inlineIDArr.push(a),concatConfigLen++,_addConfig(n.innerHTML,{file:"_inline_"+a,inlineActiveID:a}),a},_addConfig=(n,a)=>{let r=n.match(/^.*((\r\n|\n|\r)|$)/gm),c="";for(let n=0;n<r.length;n++)c+="*debugfile:"+a.file+":"+(n+1)+"*"+r[n];concatConfigCo++;let l=_parseConfig(n=c,a.inlineActiveID);configBox.push({file:a.file,styles:l});parsedConfig=Object.assign({},parsedConfig,l),concatConfigCo>=concatConfigLen&&_readSiteMap(),concatConfigCo>concatConfigLen&&("load-config"==a.actName&&(configArr.push(a.avRaw),setupEnded&&(debuggerActive&&_tellPanelToUpdate(),evEditorActive&&_tellElementsToUpdate())),"load-config"==a.actName&&(_handleEvents({obj:"body",evType:"afterLoadConfig",eve:a.e}),_handleEvents({obj:a.obj,evType:"afterLoadConfig",eve:a.e,compRef:a.compRef,compDoc:a.compDoc,component:a.component,_maEvCo:a._maEvCo,_taEvCo:a._taEvCo})))},_addConfigError=(n,a)=>{_handleEvents({obj:a.obj,evType:"loadconfigerror",eve:a.e})},_assignLoopToConfig=(n,a,r,c,l,i,s,u)=>{let d,p,f,_,m,S=-1;if(-1!==["@each"].indexOf(a.substr(0,5)))return void 0===n[S]&&(n[S]=[a.replace(/acss_int_loop_comm/g,",")]),n[S]=_assignLoopToConfig(n[S],r.name,r.value,r.file,r.line,r.intID,s,u),n[S];for(d=a.split(","),p=d.length,_=0;_<p;_++)for(m in f=d[_].trim(),S++,r)"prevent-default"==r[m].name&&_checkPassiveState(s,u),void 0!==r[m].type&&(void 0===n[S]&&(n[S]=[]),void 0===n[S][f]&&(n[S][f]=[]),n[S][f].push({name:r[m].name,value:r[m].value,file:r[m].file,line:r[m].line,intID:r[m].intID}));return n},_attachListener=(n,a,r=!1,c=!1)=>{let l={capture:!0};doesPassive&&(!0===nonPassiveEvents[a]||!1===passiveEvents||c?l.passive=!1:l.passive=!0),doesPassive&&r&&n.removeEventListener(a,ActiveCSS._theEventFunction,{capture:!0}),n.addEventListener(a,ActiveCSS._theEventFunction,l)};ActiveCSS._theEventFunction=n=>{let a=n.type,r=n.target._acssComponent,c=n.target instanceof ShadowRoot?n.target:null,l=n.target._acssCompRef;if(!setupEnded)return;let i=_fullscreenDetails();switch(a){case"click":n.ctrlKey||n.metaKey||_mainEventLoop("click",n,r,c,l);break;case"keyup":case"keydown":let s=n.ctrlKey?"Ctrl":"",u=n.metaKey?"Meta":"",d=n.shiftKey?"Shift":"",p=n.key;switch(n.key){case":":p="Colon",d="";break;case";":p="Semicolon",d="";break;case"{":p="OpenCurly",d="";break;case"}":p="CloseCurly",d="";break;case'"':p="DoubleQuotes",d="";break;case"'":p="SingleQuote",d="";break;case"?":p="Question",d="";break;case"!":p="Exclamation",d=""}_mainEventLoop(a+u+s+d+p,n,r,c,l),_mainEventLoop(a,n,r,c,l);break;case i[1]+"fullscreenchange":_mainEventLoop(a,n,r,c,l),i[0]?_mainEventLoop("fullscreenEnter",n,r,c,l):_mainEventLoop("fullscreenExit",n,r,c,l);break;default:_mainEventLoop(a,n,r,c,l)}};const _checkPassiveState=(n,a)=>{if(doesPassive){let n=a;"key"==a.substr(0,3)&&("keyup"==a.substr(0,5)?n="keyup":"keydown"==a.substr(0,7)&&(n="keydown")),void 0===nonPassiveEvents[n]&&(nonPassiveEvents[n]=!0)}},_convConfig=(n,a,r,c)=>{let l,i,s,u,d,p={},f=null,_=0,m=!r;for(;null!==(f=PARSEREGEX.exec(n));){if(r>a)return console.log("Syntax error in config - possibly an incomplete set of curly brackets."),!1;if(f[PARSEDEBUG])d=f[PARSEDEBUG].split(":"),configFile=d[1],configLine=d[2].substr(0,d[2].length-1);else if(f[PARSESEL]){if(r++,l=f[PARSESEL].trim(),l=l.replace(/\*debugfile[\s\S]*?\*/g,""),u=_convConfig(n,a,r,c),!1===u)return!1;s={},s.name=_sortOutEscapeChars(l),c&&(s.name=s.name.replace(/inlineTag\:loaded/g,"~_inlineTag_"+c+":loaded")),s.value=u,s.line=configLine,s.file=configFile,s.intID=intIDCounter++,s.type="rule",p[m?masterConfigCo++:_++]=s}else{if(f[PARSEEND])return p;if(f[PARSEATTR]){var S=f[PARSEATTR].trim();S=S.replace(/\*debugfile[\s\S]*?\*|([^:]|^)\/\/.*$/g,"");var g=PARSELINEX.exec(S);g?(l=g[1].trim(),i=g[2].trim(),s={},s.name=_sortOutEscapeChars(l),s.value=_sortOutEscapeChars(i),s.type="attr",s.line=configLine,s.file=configFile,s.intID=intIDCounter++,p[_++]=s):p[_++]=S}}}return p},_getInline=n=>{n.forEach(n=>{_addACSSStyleTag(n)})};ActiveCSS._getPosOfRule=(n,a)=>_getValFromList(n,a,!0);const _initScriptTrack=()=>{document.querySelectorAll("script").forEach((function(n,a){-1===scriptTrack.indexOf(n.src)&&scriptTrack.push(n.src)}))},_isFromFile=(n,a)=>{let r,c,l,i=a.length;if(0==i){for(l in a)if(_isFromFile(n,a[l]))return!0}else for(c=0;c<i;c++)if(r=a[c],Array.isArray(r)){if(_isFromFile(n,r))return!0}else{if(r.file===n)return!0}return!1},_iterateConditionals=(n,a,r)=>{var c,l;return Object.keys(a).forEach((function(i){(l=a[i].name)&&(c=n[r].length,n[r][c]={},n[r][c].name=l,n[r][c].value=a[i].value,n[r][c].file=a[i].file,n[r][c].line=a[i].line,n[r][c].intID=a[i].intID)})),n},_iteratePageList=(n,a=!1)=>{if(!("content"in document.createElement("template")))return void console.log("Browser does not support html5. Cannot instantiate page navigation.");let r=document.getElementById("data-active-pages");var c,l;r||(r=document.createElement("template"),r.id="data-active-pages",document.body.appendChild(r));let i=Math.floor(1e7*Math.random());Object.keys(n).forEach((function(s){if(!(c=n[s].name))return;l=n[s].value.replace(/\{\$RAND\}/g,i);let u=c.replace(/"/g,"").trim(),d=u+" "+l.trim(),p=pagesDisplayed.indexOf(u);if(-1===p)pagesDisplayed.push(u),r.insertAdjacentHTML("beforeend","<a href="+d+">");else if(a){pagesDisplayed.splice(p,1);let n=r.querySelector('[href="'+u+'"]');n&&n.remove()}}))},_iterateRules=(n,a,r,c,l,i=null)=>{let s,u,d,p,f,_,m,S,g,v=-1;return Object.keys(a).forEach((function(b){if(S=a[b].name,g=a[b].value,S){if(-1!==["@each"].indexOf(S.substr(0,5)))return v++,n[v]=[],void(n[v][S]=_iterateRules([],g,r,c,l,i));if("string"==typeof g)return v++,"prevent-default"==S&&_checkPassiveState(i,c),n[v]=[],n[v]["&"]=[],void n[v]["&"].push({name:S,value:g,file:a[b].file,line:a[b].line,intID:a[b].intID});for(u="",d="",p=S.split(","),f=p.length,m=0;m<f;m++)for(s in _=p[m].trim(),v++,n[v]=[],n[v][_]=[],g)void 0!==g[s].type&&("&"==_&&"prevent-default"==g[s].name&&_checkPassiveState(i,c),n[v][_].push({name:g[s].name,value:g[s].value,file:g[s].file,line:g[s].line,intID:g[s].intID}))}})),n},_makeVirtualConfig=(n="",a="",r=null,c=!1,l="")=>{var i,s,u,d,p,f,_,m,S,g,v=""!==n?n:parsedConfig;let b=l.substr(8);if(Object.keys(v).forEach((function(n){if(v[n].name)for(f=v[n].name,g=!1,i=f.split(/,(?![^\(\[]*[\]\)])/),s=i.length,u=0;u<s;u++){let s;switch(d=i[u].trim(),p="@component "==d.substr(0,11),g&&(s=-1===d.indexOf("?"))?"?":!p||p&&-1===i[u].indexOf(":")?d.slice(0,1):""){case"?":let i=s?d:d.substr(1);r&&(i="|"+r+"|"+i),c?delete conditionals[i]:(conditionals[i]=void 0===conditionals[i]?[]:conditionals[i],conditionals=_iterateConditionals(conditionals,v[n].value,i)),g=!0;break;case"@":if("@pages"==d)_iteratePageList(v[n].value,c);else if(p){let a=d.split(" ")[1].trim();if(!c){components[a]||(components[a]={}),components[a].mode=null,components[a].shadow=!1,components[a].scoped=!1,components[a].privEvs=!1;let n=d+" ";-1!==n.indexOf(" shadow ")&&(components[a].shadow=!0,components[a].mode=-1!==d.indexOf(" closed")?"closed":"open"),-1===n.indexOf(" private ")&&-1===n.indexOf(" privateVars ")||(components[a].privVars=!0,components[a].scoped=!0),-1!==n.indexOf(" privateEvents ")&&(components[a].privEvs=!0)}_makeVirtualConfig(v[n].value,"",a,c,l),c?delete components[a]:void 0===components[a].data&&(components[a].data="",components[a].file="",components[a].line="",components[a].intID=""),a=""}else c||(a=_setupMediaQueryHandler(d.slice(7).trim()),_makeVirtualConfig(v[n].value,a,null,c,l)),a="";break;default:if("html"==d)c?r&&delete components[r]:r&&(components[r].data=v[n].value[0].value.slice(1,-1),components[r].data=components[r].data.replace(/\\\"/g,'"'),components[r].file=v[n].value[0].file,components[r].line=v[n].value[0].line,components[r].intID=v[n].value[0].intID);else{if(!(_=d.split(/:(?![^\(\[]*[\]\)])/))[1]){console.log('"'+f+'" '+d+" is not a fully formed selector - it may be missing an event or have incorrect syntax. Or you have too many closing curly brackets.");continue}if(S=_.shift(),c&&S=="~_inlineTag_"+b){delete config[S];continue}m=(m=_.pop()).trim();let i,s=[],u=[];if(_){let n,a;for(a of _)n=new RegExp(COLONSELS,"g"),n.test(a)?s.push(a):u.push(a)}if(""!==a&&u.push(a),s.length>0&&(S+=":"+s.join(":")),r&&(S="|"+r+":"+S,c?(delete shadowSels[r],delete components[r]):(shadowSels[r]=void 0===shadowSels[r]?[]:shadowSels[r],shadowSels[r][m]=!0,components[r].scoped=!0)),c||(config[S]=void 0===config[S]?{}:config[S],config[S][m]=void 0===config[S][m]?{}:config[S][m]),i=0===u.length?0:u.join(" "),c||(preSetupEvents.push({ev:m,sel:S}),void 0===config[S]&&(config[S]={}),void 0===config[S][m]&&(config[S][m]={}),void 0===config[S][m][i]&&(config[S][m][i]=[])),c){let n,a=config[S][m][i].length,r=[];for(n=0;n<a;n++)_isFromFile(l,config[S][m][i][n])&&r.push(n);for(n of r)config[S][m][i].splice(n,1);0==config[S][m][i].length&&delete config[S][m][i],0===Object.keys(config[S][m]).length&&delete config[S][m],0===Object.keys(config[S]).length&&delete config[S]}else config[S][m][i].push(_iterateRules([],v[n].value,S,m,i,r))}}}})),""!==n)return;let C=!!debugMode&&_doDebug("config");C&&Object.keys(config).sort().forEach((function(n){console.log(n,config[n])})),C=!!debugMode&&_doDebug("conditionals"),C&&Object.keys(conditionals).sort().forEach((function(n){console.log(n,conditionals[n])})),C=!!debugMode&&_doDebug("components"),C&&Object.keys(components).sort().forEach((function(n){console.log(n,components[n])}))};ActiveCSS._mapRegexReturn=(n,a,r=null)=>{if("string"!=typeof a)return a;let c=new RegExp(Object.keys(n).join("|"),"gim");return a=a.replace(c,(function(a){return r?r[a]:n[a]}))};const _parseConfig=(n,a=null)=>{n=(n=(n=(n=n.replace(COMMENTS,"")).replace(/[\r\n]+/g,"")).replace(/\\\"/g,"_ACSS_escaped_quote")).replace(/\\\"/g,"_ACSS_escaped_quote");let r="";n=n.replace(/@command[\s]+(conditional[\s]+)?([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]+[\s]*\{\=[\s\S]*?\=\})/g,(function(n,c,l){let i,s;return a?(i="~_inlineTag_"+a,s="loaded"):(i="~_acssSystem",s=setupEnded?"afterLoadConfig":"init"),r+=i+":"+s+"{"+(c?"create-conditional":"create-command")+":"+l+";}",""})),n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n+=r).replace(/\{\=([\s\S]*?)\=\}/g,(function(n,a){return-1!==a.indexOf("*debugfile:")&&(a=(a=a.trim().slice(0,-1)).replace(/\*debugfile\:[\s\S]*?\*/g,""),a+="*"),"_ACSS_subst_equal_brace_start"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,a)+"_ACSS_subst_equal_brace_end"}))).replace(/acss\-style/gi,"style")).replace(/<style>([\s\S]*?)<\/style>/gi,(function(n,a){return"<style>"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,a)+"</style>"}))).replace(/\{\$([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(n,a){return"_ACSS_subst_dollar_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\[\]]+)\}\}/gi,(function(n,a){return"_ACSS_subst_brace_start_ACSS_subst_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\#\:]+)\}\}/gi,(function(n,a){return"_ACSS_subst_brace_start_ACSS_subst_at_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\#\:]+)\}/gi,(function(n,a){return"_ACSS_subst_at_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(n,a){return"_ACSS_subst_pipe_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(n,a){return"_ACSS_subst_hash_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\$\[\]]+)\}/gi,(function(n,a){return"_ACSS_subst_brace_start"+(a=a.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\\{/g,"_ACSS_brace_start")).replace(/\\}/g,"_ACSS_brace_end")).replace(/([^\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]html[\s]*{)([\s\S]*?)}/gi,(function(n,a,r){return a+'{component: "'+(r=(r=(r=r.replace(/_ACSS_escaped_quote/g,'\\"')).replace(/"/g,"_ACSS_escaped_quote")).replace(/\t/g,"_ACSS_tab"))+'";}'}))).replace(/\t+/g," ")).replace(/_ACSS_tab/g,"\t");let c={"{":"_ACSS_brace_start","}":"_ACSS_brace_end",";":"_ACSS_semi_colon",":":"_ACSS_colon","/":"_ACSS_slash","@":"_ACSS_at"},l=(n=(n=(n=(n=n.replace(/("([^"]|"")*")/g,(function(n,a){return ActiveCSS._mapRegexReturn(c,a)}))).replace(/@conditional[\s]+/g,"?")).replace(/([\(]([^\(\)]|\(\))*[\)])/g,(function(n,a){return ActiveCSS._mapRegexReturn(c,a)}))).replace(/[\s]*var[\s]*\:([\s\S]*?)\;/gim,(function(n,a){return"var: "+ActiveCSS._mapRegexReturn(DYNAMICCHARS,a)+";"}))).split("{").length;return n=_convConfig(n,l,0,a),Object.keys(n).length||console.log("Active CSS: Either your config is empty or there is a structural syntax error. str:",n),n},_readSiteMap=()=>{var n=!!debugMode&&_doDebug("parser");let a;for(a of(n&&console.log(parsedConfig),setupEnded||_setupPassive(),_makeVirtualConfig(),parsedConfig={},preSetupEvents))_setupEvent(a.ev,a.sel);preSetupEvents=[],setupEnded||_startMainListen(),_initScriptTrack(),setupEnded?inlineIDArr.length>0&&_runInlineLoaded():(_handleEvents({obj:"~_acssSystem",evType:"init"}),_handleEvents({obj:"body",evType:"preInit"}),_handleEvents({obj:"body",evType:"init"}),inlineIDArr.length>0&&_runInlineLoaded(),_runInnerEvent(null,"*","draw",document,!0),_handleEvents({obj:"body",evType:"scroll"}),_wrapUpStart(),""!==lazyConfig&&setTimeout((function(){let n,a=lazyConfig.split(",");for(n of a)_a.LoadConfig({actName:"load-config",actVal:n,doc:document})}),1e3))},_regenConfig=(n,a)=>{setTimeout((function(){let r=n._acssActiveID;switch(a){case"remove":parsedConfig=configBox.find(n=>n.file=="_inline_"+r).styles,_makeVirtualConfig("","",null,!0,"_inline_"+r),concatConfigCo--,concatConfigLen--,configBox=configBox.filter(n=>n.file!="_inline_"+r),parsedConfig={};break;case"addDevTools":_addACSSStyleTag(n)}}),0)},_runInlineLoaded=()=>{inlineIDArr.forEach(n=>{_handleEvents({obj:"~_inlineTag_"+n,evType:"loaded"})}),inlineIDArr=[]},_setupEvent=(n,a,r)=>{if(void 0===selectors[n]&&(selectors[n]=[]),selectors[n].includes(a)){if(!setupEnded||!doesPassive)return}else selectors[n].push(a);if(debuggerEvs.includes(n)){if(!setupEnded||!doesPassive)return}else debuggerEvs.push(n);if(!1!==(n=_getRealEvent(n))&&(setupEnded||!eventState[n])){let r=document.parentNode&&"body"==a&&"scroll"==n?document.body:window;_attachListener(r,n,setupEnded),eventState[n]=!0}},_setupMediaQueryHandler=n=>{n=n.trim();let a=mediaQueriesOrig[n];if(void 0!==a)return void 0===conditionals[a]&&(conditionals[a]=[],conditionals[a].push({name:"mql-true",value:a})),a;let r="__mql_"+(mediaQueries.length+1);mediaQueriesOrig[n]=r,conditionals[r]=[],conditionals[r].push({name:"mql-true",value:r});let c=window.matchMedia(n),l=c.matches;return mediaQueries.push(r),mediaQueries[r]={ev:c,val:l},mediaQueries[r].ev.addListener((function(n){let a=mediaQueriesOrig[n.media];mediaQueries[a].val=n.matches})),r},_setupPassive=()=>{try{let n=Object.defineProperty({},"passive",{get:function(){doesPassive=!0}});window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}catch(n){}},_sortOutEscapeChars=n=>ActiveCSS._mapRegexReturn({_ACSS_brace_start:"{",_ACSS_brace_end:"}",_ACSS_escaped_quote:'\\"',_ACSS_semi_colon:";",_ACSS_colon:":",_ACSS_slash:"/",_ACSS_at:"@",_ACSS_subst_equal_brace_start:"{=",_ACSS_subst_equal_brace_end:"=}",_ACSS_subst_dollar_brace_start:"{$",_ACSS_subst_brace_start:"{",_ACSS_subst_at_brace_start:"{@",_ACSS_subst_pipe_brace_start:"{|",_ACSS_subst_hash_brace_start:"{#",_ACSS_subst_brace_end:"}",_ACSS_dot:"."},n),_startMainListen=()=>{window.addEventListener("message",(function(n){if(n.origin===window.location.origin&&"causejs-devtools-extension"!=n.data.source){var a=n.data;switch(a.type){case"activecss-unloading":case"activecss-loaded":let n=document.getElementById(a.el);_handleEvents({obj:n,evType:typ})}}})),document.parentNode?(window.addEventListener("beforeunload",(function(n){parent.postMessage({type:"activecss-unloading",el:window.frameElement.id},window.location.origin)})),parent.postMessage({type:"activecss-loaded",el:window.frameElement.id},window.location.origin)):window.addEventListener("popstate",(function(n){let a=n.state;if(!a)return;debuggerActive&&_debugOutput("Popstate event");let r=document.querySelector("#data-active-pages"),c=!1;if(a&&r){let n=new URL(a),l=n.pathname+n.search,i=r.querySelector('a[href="'+l+'"]');i&&(ActiveCSS.trigger(i,"click"),c=!0)}c||(window.location.href=a)})),currentPage=location.pathname,scopedVars=_observableSlim.create(scoped,!0,ActiveCSS._varUpdateDom)},_wrapUpStart=()=>{let n=_resolveURL(window.location.href);window.history.replaceState(n,document.title,n),setupEnded=!0,(elementObserver=new MutationObserver(ActiveCSS._nodeMutations)).observe(document.body,{characterData:!0,childList:!0,subtree:!0}),document.dispatchEvent(new CustomEvent("ActiveCSSInitialized",{}))};ActiveCSS.init=n=>{passiveEvents=void 0===(n=n||{}).passiveEvents||n.passiveEvents;let a=document.querySelectorAll('style[type="text/acss"]');if(autoStartInit)a&&(lazyConfig="",_getInline(a)),autoStartInit=!1;else{if(userSetupStarted=!0,setupEnded)return void console.log("Cannot initialize Active CSS twice.");let r;lazyConfig=n.lazyConfig||"",n.configLocation=n.configLocation||console.log("No inline or Active CSS config file setup - see installation docs."),n.debugMode&&(debugMode=n.debugMode,document.parentNode?console.log("Active CSS debug mode in iframe ID "+window.frameElement.id+": "+debugMode):console.log("Active CSS debug mode: "+debugMode));let c=n.configLocation.split(",");for(r of(concatConfigLen=c.length,a&&_getInline(a),c))r=r.trim(),configArr.push(_getBaseURL(r)),_getFile(r,"txt",{file:r})}};const _addScopedAttr=(n,a,r,c,l)=>{let i=_addScopedCID(n,a.secSelObj,l),s=a.actVal.split(" ")[0],u=c?r:r.substr(r.indexOf(" ")+1)._ACSSRepQuo();_set(scopedData,n+".attrs["+i+"]["+s+"]",{orig:u,scopeRef:l})},_addScopedCID=(n,a,r)=>{let c=_getActiveID(a);return _set(scopedData,n+".cids["+c+"]",{cid:c,scopeRef:r}),c},_escapeItem=n=>{let a=document.createElement("div");return a.textContent=n.replace(/\{\=|\=\}/gm,""),a.innerHTML},_getObjFromDots=(n,a)=>void 0===n[a]?"":n[a],_observableSlim=(paths=[],observables=[],targets=[],targetsProxy=[],dupProxy=null,_create=function(n,a,r,c){var l=r||null,i=c||[{target:n,property:""}];paths.push(i),n instanceof Array&&(n.__length=n.length);var s=[],u=function(n,a,r){for(var c="",l=null,s=0;s<i.length;s++)l instanceof Array&&!isNaN(i[s].property)&&(i[s].property=l.indexOf(i[s].target)),c=c+"."+i[s].property,l=i[s].target;return c=(c=c+"."+a).substring(2),!0===r&&(c="/"+c.replace(/\./g,"/")),c},d=function(n){if(!0!==l.paused)if(!0===a)setTimeout((function(){if(n===s.length){var a=s.slice(0);s=[];for(var r=0;r<l.observers.length;r++)l.observers[r](a)}}),10);else{var r=s.slice(0);s=[];for(var c=0;c<l.observers.length;c++)l.observers[c](r)}},p={get:function(n,r){if("__getTarget"===r)return n;if("__isProxy"===r)return!0;if("__getParent"===r)return function(n=1){var a=u(0,"__getParent").split(".");return a.splice(-(n+1),n+1),function(n,a){return a.split(".").reduce((function(n,a){return n?n[a]:void 0}),n||self)}(l.parentProxy,a.join("."))};if("__getPath"===r)return u(0,"__getParent").slice(0,-12);var c=n[r];if(n instanceof Date&&c instanceof Function&&null!==c)return c.bind(n);if(c instanceof Object&&null!==c&&n.hasOwnProperty(r)){if(!0===c.__isProxy&&(c=c.__getTarget),c.__targetPosition>-1&&null!==targets[c.__targetPosition])for(var s=targetsProxy[c.__targetPosition],d=0,p=s.length;d<p;d++)if(l===s[d].observable)return s[d].proxy;var f=i.slice(0);return f.push({target:c,property:r}),_create(c,a,l,f)}return c},deleteProperty:function(n,a){var r=!0;dupProxy===_&&(r=!1,dupProxy=null);var c=Object.assign({},n);if(s.push({type:"delete",target:n,property:a,newValue:null,previousValue:c[a],currentPath:u(0,a),jsonPointer:u(0,a,!0),proxy:_}),!0===r){l.changesPaused||delete n[a];for(var i=0,p=targets.length;i<p&&n!==targets[i];i++);for(var f=targetsProxy[i]||[],m=f.length;m--;)f[m].proxy!==_&&(dupProxy=f[m].proxy,delete f[m].proxy[a])}return d(s.length),!0},set:function(n,a,r,c){r&&r.__isProxy&&(r=r.__getTarget);var i=!0;dupProxy===_&&(i=!1,dupProxy=null);var p=n[a];if(p!==r||!1===i||"length"===a&&n instanceof Array&&n.__length!==r){var f=!0,m=typeof p,S="update";if("undefined"===m&&(S="add"),s.push({type:S,target:n,property:a,newValue:r,previousValue:c[a],currentPath:u(0,a),jsonPointer:u(0,a,!0),proxy:_}),"length"===a&&n instanceof Array&&n.__length!==r&&(s[s.length-1].previousValue=n.__length,n.__length=r),!0===i){l.changesPaused||(n[a]=r),f=!1;for(var g=n.__targetPosition,v=targetsProxy[g].length;v--;)if(l===targetsProxy[g][v].observable&&null!==targets[targetsProxy[g][v].observable.parentTarget.__targetPosition]){f=!0;break}if(f){for(var b=targetsProxy[g],C=0,h=b.length;C<h;C++)b[C].proxy!==_&&(dupProxy=b[C].proxy,b[C].proxy[a]=r);setTimeout((function(){if("object"===m&&null!==p){for(var a=Object.keys(n),r=0,c=a.length;r<c;r++)if(n[a[r]]===p)return;var i=!1;if(function n(a){for(var r=Object.keys(a),c=0,l=r.length;c<l;c++){var s=a[r[c]];if(s instanceof Object&&null!==s&&n(s),s===p)return void(i=!0)}}(n),!0===i)return;!function n(a){var i=Object.keys(a);for(r=0,c=i.length;r<c;r++){var s=a[i[r]];s instanceof Object&&null!==s&&n(s)}var u=-1;for(r=0,c=targets.length;r<c;r++)if(a===targets[r]){u=r;break}if(u>-1){for(var d=targetsProxy[u],p=d.length;p--;)if(l===d[p].observable){d.splice(p,1);break}0==d.length&&(targets[u]=null)}}(p)}}),1e4)}}f&&d(s.length)}return!0}},f=n.__targetPosition;(!f||f<0)&&Object.defineProperty(n,"__targetPosition",{value:targets.length,writable:!1,enumerable:!1,configurable:!1});var _=new Proxy(n,p);null===l&&(l={parentTarget:n,domDelay:a,parentProxy:_,observers:[],paused:!1,path:i,changesPaused:!1},observables.push(l));var m={target:n,proxy:_,observable:l};return f>-1?(null===targets[f]&&(targets[f]=n),targetsProxy[f].push(m)):(targets.push(n),targetsProxy.push([m])),_},{create:function(n,a,r){!0===n.__isProxy&&(n=n.__getTarget);var c=_create(n,a);return"function"==typeof r&&this.observe(c,r),function n(a){for(var r=a.__getTarget,c=Object.keys(r),l=0,i=c.length;l<i;l++){var s=c[l];r[s]instanceof Object&&null!==r[s]&&n(a[s])}}(c),c},observe:function(n,a){for(var r=observables.length;r--;)if(observables[r].parentProxy===n){observables[r].observers.push(a);break}}});var paths,observables,targets,targetsProxy,dupProxy,_create;const _prefixScopedVars=function(n,a=null){let r,c;return n=n.replace(/(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)(\\"|"(?:\\"|[^"])*"|[\u00BF-\u1FFF\u2C00-\uD7FF\w_\.]+)(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)/gim,(function(n,l){if(-1!==l.indexOf('"')||l.match(/^[\d]+$/))return l;if("true"==l||"false"==l)return l;if(-1!==l.indexOf(".")){let n=l.split(".")[0];if("window"==n||"scopedVars"==n)return l}return r=(a&&privVarScopes[a]?a:"main")+"."+l,c=_get(scopedVars,r),c?"scopedVars."+r:l}))},_removeVarPlaceholders=n=>{let a,r,c,l,i,s=document.createTreeWalker(n,NodeFilter.SHOW_COMMENT),u=[];for(;s.nextNode();)a=s.currentNode,"active-var-"==a.data.substr(0,11)?(u.push(a),r=a.data.substr(11),void 0===varMap[r]&&(varMap[r]=[]),"/active-var"==a.nextSibling.data?(u.push(a.nextSibling),c=a.parentNode.insertBefore(document.createTextNode(""),a.nextSibling),varMap[r].push(c)):varMap[r].push(a.nextSibling)):"/active-var"==a.data&&u.push(a);u.forEach(n=>{n.remove()}),s=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT);do{i=s.currentNode,"STYLE"!=i.tagName||_isACSSStyleTag(i)||(i._acssActiveID||_getActiveID(i),l=s.currentNode.textContent,void 0===varInStyleMap[i._acssActiveID]&&(varInStyleMap[i._acssActiveID]=l),l=varInStyleMap[i._acssActiveID].replace(STYLEREGEX,(function(n,a,r,c){void 0===varStyleMap[a]&&(varStyleMap[a]=[]),varStyleMap[a].push(i);let l=a.indexOf("HOST");if(-1!==l){let n=a.substr(l+4),r=idMap["id-"+a.substr(1,l-1)];return r&&r.hasAttribute(n)?r.getAttribute(n):""}{let n=_get(scopedVars,a);return n||""}})),i.textContent=l)}while(s.nextNode())},_replaceAttrs=(n,a,r=null,c=null,l="",i=null)=>{if(!a)return"";if(-1!==a.indexOf("{$RAND}")){let n=Math.floor(1e7*Math.random());a=a.replace(/\{\$RAND\}/g,n)}return-1===a.indexOf("{=")||c&&["CreateCommand","CreateConditional","Eval","Run"].includes(c.func)||(a=ActiveCSS._sortOutFlowEscapeChars(a),a=_replaceJSExpression(a,null,null,i)),-1!==a.indexOf("{@")&&(a=a.replace(/\{\@([^\t\n\f \/>"'=(?!\{)]+)\}/gi,(function(a,l){let i,s=l.split("."),u=[];if(s[1]&&"selected"==s[0]&&"SELECT"==n.tagName){if(i=n.options[n.selectedIndex].getAttribute(s[1]),i)return _escapeItem(i);if(i=n.options[n.selectedIndex][s[1]],i)return _escapeItem(i);u.push("Neither attribute or property "+s[1]+" found in target or primary selector:")}else{let a=l.lastIndexOf(":");if(-1!==a){let r,s=l.substr(0,a);if("host"!=s||c&&-1!==["beforeComponentOpen","componentOpen"].indexOf(c.event))r=_getSel(c,s);else{if(!n.shadowRoot)return"{@"+l+"}";r=n.shadowRoot}let d=l.substr(a+1);if("IFRAME"==r.tagName&&"url"==d)return _escapeItem(r.contentWindow.location.href);if(i=r.getAttribute(d),i)return _escapeItem(i);if(i=r[d],i)return _escapeItem(i);u.push("Neither attribute or property "+d+" found in target or primary selector:")}else if(n&&"string"!=typeof n){if(r){if(i=r.getAttribute(l),i)return _escapeItem(i);if(i=r[l],i)return _escapeItem(i)}if(i=n.getAttribute(l),i)return _escapeItem(i);if(i=n[l],i)return _escapeItem(i);u.push("Attribute not property "+l+" found in target or primary selector:")}}return u&&u.push(n),""}))),a=_replaceStringVars(c,a,i),_replaceScopedVars(a,r,l,c,null,null,i)},_replaceComponents=(n,a)=>{let r,c=0;for(;c<50&&(r=!1,c++,a=(a=a.replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-_]+)\}/gi,(function(n,a){let r=document.getElementById(a);return r?r.innerHTML:"{#"+a+"}"}))).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-_]+)\}/gi,(function(a,c){let l=!1;if("_acss-host_"==c.substr(0,11)&&(l=!0,c=c.substr(11)),!components[c])return"{|"+c+"}";let i=components[c].data.trim();if(r=!0,i=ActiveCSS._sortOutFlowEscapeChars(i),i="0"!=n.loopRef?_replaceLoopingVars(i,n.loopVars):i,components[c].shadow||components[c].scoped||l){let n='<data-acss-component data-name="'+c+'" data-ref="'+ ++compCount+'"></data-acss-component>';compPending[compCount]=i,i=n}else i=_replaceAttrs(n.obj,i,null,null,n.func,n.compRef),i=_replaceStringVars(n.ajaxObj,i);return i||""})),r););return 50==c&&console.log("Active CSS recursion detected during component rendering. Skipped after 50 attempts.\nFile: "+n.file+", line: "+n.line),a},_replaceJSExpression=(n,a=!1,r=!1,c=null)=>{let l;return n=n.replace(/\{\=([\s\S]*?)\=\}/gm,(function(i,s){s=_replaceScopedVarsExpr(s,c);try{l=Function("scopedVars",'"use strict";return ('+s+");")(scopedVars)}catch(a){console.log("JavaScript expression error ("+a+"): "+n),console.log("Actual expression evaluated: "+s)}if(!a){let n="";r&&(n='"'),l=!0===l?"true":!1===l?"false":"string"==typeof l?n+l+n:"number"==typeof l?l.toString():"Invalid expression ("+s.trim()+")"}return l})),a?l:n},_replaceScopedVars=(n,a=null,r="",c=null,l=!1,i=null,s=null)=>{let u,d,p,f,_,m,S,g,v,b;if(-1===n.indexOf("{{")||l||-1===n.indexOf("</"))n=_replaceScopedVarsDo(n,a,r,c,!1,i,s);else{for(u=document.createElement("template"),u.innerHTML=n,d=document.createTreeWalker(u.content,NodeFilter.SHOW_ELEMENT);d.nextNode();)customTags.includes(d.currentNode.tagName)&&d.currentNode.setAttribute("data-active-scoped","");for(d.currentNode=u.content;d.nextNode();)for(b of(g=d.currentNode,v=g.attributes,m=g.parentElement?g.parentElement.closest("[data-active-scoped]"):null,S=m||i,v)){if(-1!==["data-activeid"].indexOf(b.nodeName))continue;let n=_replaceScopedVarsDo(b.nodeValue,null,"SetAttribute",{secSelObj:g,actVal:b.nodeName+" "+b.nodeValue},!0,S,s);g.setAttribute(b.nodeName,n)}for(d=document.createTreeWalker(u.content,NodeFilter.SHOW_TEXT);d.nextNode();)g=d.currentNode,p=g.parentNode,11!=p.nodeType&&(_=_getActiveID(p),f=g.textContent,m=g.parentElement?g.parentElement.closest("[data-active-scoped]"):null,S=m||i,g.textContent=_replaceScopedVarsDo(f,p,"Render",null,!0,S,s));n=(n=(n=(n=(n=u.innerHTML).replace(/_cj_s_lt_/gm,"\x3c!--")).replace(/_cj_s_gt_/gm,"--\x3e")).replace(/_cj_s_lts_/gm,"/*")).replace(/_cj_s_gts_/gm,"*/")}return n},_replaceScopedVarsDo=(n,a=null,r="",c=null,l=!1,i=null,s=null)=>{let u,d=!1,p=!1,f=!1,_=n;return-1!==n.indexOf("{")&&(n=n.replace(/\{((\{)?(\@)?[\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\:\[\]]+(\})?)\}/gm,(function(n,m){let S;if("{"==m[0]&&(d=!0,m=m.slice(1,-1)),"@"==m[0]){if(!i)return n;p=!0;let a="host:";if(-1===(m=m.slice(1)).indexOf(a))return console.log("Non component attribution substitution is not yet supported."),n;if(f=!0,m=m.replace(a,""),!i.hasAttribute(m))return console.log("Component host attribute "+m+" not found. Looking in host element: ",i),n;u=_escapeItem(i.getAttribute(m)),S=_getActiveID(i).replace("d-","")+"HOST"+m}else{if(-1!==(m=(m=m.replace(/\[/,".")).replace(/\]/,"")).indexOf(".")){let n=m.split(".")[0];if("window"==n)return m;"scopedVars"==n&&(m=m.replace(/^scopedVars\./,""))}m=s&&privVarScopes[s]?s+"."+m:"main."+m,u=_get(scopedVars,m),u=!0===u?"true":!1===u?"false":"string"==typeof u?_escapeItem(u,r):"number"==typeof u?u.toString():u&&"object"==typeof u?"__object":"",S=m}if(d&&-1!==r.indexOf("Render")){let n,r;return _addScopedCID(S,a,s),"STYLE"==a.tagName?(n=l?"_cj_s_lts_":"/*",r=l?"_cj_s_gts_":"*/"):(n=l?"_cj_s_lt_":"\x3c!--",r=l?"_cj_s_gt_":"--\x3e"),n+"active-var-"+S+r+u+n+"/active-var"+r}return"SetAttribute"==r&&_addScopedAttr(S,c,_,l,s),u}))),n},_replaceScopedVarsExpr=(n,a=null)=>{let r,c,l;return n=n.replace(/([\u00BF-\u1FFF\u2C00-\uD7FFa-z][\u00BF-\u1FFF\u2C00-\uD7FF\w_\.\:\[\]]+)(?!\u00BF-\u1FFF\u2C00-\uD7FF\w)/gim,(function(n,i){if(c=i,-1!==i.indexOf(".")){if(l=i.split(".")[0],"window"==l)return i;"scopedVars"==l&&(i=i.replace(/^scopedVars\./,""))}return i=a&&privVarScopes[a]?a+"."+i:"main."+i,r=_get(scopedVars,i),void 0!==r?"scopedVars."+i:c}))},_replaceStringVars=(n,a,r)=>{let c="";return a=a.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\[\]\.\$]+)\}/gi,(function(a,l){if("$STRING"==l)return c=n&&n.res?n.res:"{$STRING}",c;if(-1!==l.indexOf("$")&&-1===["$CHILDREN","$SELF"].indexOf(l)){let n=(r&&privVarScopes[r]?r:"main")+"."+l;return c=_get(scopedVars,n),c||""}return"{"+l+"}"}))},_resolveAjaxVars=n=>{let a=typeof n.res;if("object"!==a||n.preGet)"string"===a&&(n.res=_escapeInline(n.res,"script"),n.res=_escapeInline(n.res,'style type="text/acss"'));else{let a=n.compRef&&privVarScopes[n.compRef]?n.compRef:"main";if("main"!=a)return void setTimeout((function(){_resolveAjaxVarsDecl(n.res,a),_ajaxCallbackDisplay(n)}),0);_resolveAjaxVarsDecl(n.res,a)}_ajaxCallbackDisplay(n)},_resolveAjaxVarsDecl=(n,a)=>{let r;for(r in n)_set(scopedVars,a+"."+r,n[r])},_resolveInnerBracketVars=n=>(-1!==n.indexOf("[")&&(n=n.replace(/\[([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.]+)\]/gm,(function(n,a){let r;return"scopedVars."==a.substr(0,11)?(a=a.substr(11),r=_get(scopedVars,a)):"window."==a.substr(0,7)?(a=a.substr(7),r=_get(window,a)):r=a,"["+r+"]"}))),n),_resolvePath=(n,a=self,r=".")=>((Array.isArray(n)?n:n.split(r)).reduce((n,a)=>n&&n[a],a),a);ActiveCSS._sortOutFlowEscapeChars=n=>ActiveCSS._mapRegexReturn({_ACSS_later_comma:",",_ACSS_later_brace_start:"{",_ACSS_later_brace_end:"}",_ACSS_later_semi_colon:";",_ACSS_later_colon:":",_ACSS_later_double_quote:'"'},n),ActiveCSS._varUpdateDom=n=>{let a,r,c,l;for(a of n)if(-1!==a.currentPath.indexOf(".")||-1!==a.currentPath.indexOf("HOST"))if("object"==typeof a.previousValue||"object"==typeof a.newValue)for(l of(a.previousValue=a.previousValue?a.previousValue:[],a.previousValue=!0===a.previousValue.__isProxy?a.previousValue.__getTarget:a.previousValue,c=recursiveDiff.getDiff(a.previousValue,a.newValue),c))l.path=a.currentPath+(l.path?"."+l.path.join("."):""),r=_get(scopedData,l.path),r&&(l.val=l.val?l.val:"",_varUpdateDomDo({currentPath:l.path,newValue:l.val,type:l.op},r));else{if(r=_get(scopedData,a.currentPath),!r)continue;_varUpdateDomDo(a,r)}};const _varUpdateDomDo=(n,a)=>{let r,c,l,i,s,u,d,p,f,_;r=n.newValue,f=n.currentPath.indexOf("HOST");let m,S=null;if("_"==n.currentPath.substr(0,1)&&(S=n.currentPath.substr(0,n.currentPath.indexOf(".")),"delete"==n.type&&""==S))return delete shadowDoms[n.currentPath],delete scopedData[n.currentPath],delete actualDoms[n.currentPath],delete compParents[n.currentPath],delete compPrivEvs[n.currentPath],delete varMap[n.currentPath],void delete varStyleMap[n.currentPath];for(c in"object"==typeof varMap[n.currentPath]&&varMap[n.currentPath].forEach((a,c)=>{a.isConnected?a.textContent=_escapeItem(r):varMap[n.currentPath].splice(c,1)}),"object"==typeof varStyleMap[n.currentPath]&&varStyleMap[n.currentPath].forEach((a,c)=>{if(a.isConnected){let c=varInStyleMap[a._acssActiveID].replace(STYLEREGEX,(function(a,c){if(c==n.currentPath)return r;{let n=c.indexOf("HOST");if(-1!==n){let r=c.substr(n+4),l=idMap["id-"+c.substr(1,n-1)];return l&&l.hasAttribute(r)?l.getAttribute(r):a}{let n=_get(scopedVars,c);return n||a}}}));a.textContent=_escapeItem(c)}else varStyleMap[n.currentPath].splice(c,1),delete varInStyleMap[a]}),a.attrs)for(i in m=!1,a.attrs[c]){if(!m){if(m=!0,_=a.attrs[c][i].scopeRef,p=_?actualDoms[_]:document,void 0===p)break;if(d=supportsShadow&&p instanceof ShadowRoot?p.host:idMap["id-"+n.currentPath.substr(1,f-1)],l=idMap[c],!l){delete a.attrs[c];break}}if(s=a.attrs[c][i].orig,!l.hasAttribute(i))return;u=_replaceScopedVars(s,null,"",null,!0,d,S),l.setAttribute(i,u)}};ActiveCSS._deHighlightDOM=()=>{document.querySelectorAll(".activecss-internal-devtools-overlay").forEach((function(n){ActiveCSS._removeObj(n)}))};const _drawHighlight=(n,a)=>{let r=document.createElement("div");r.classList="activecss-internal-devtools-overlay","full"==a?(r.style.backgroundColor="rgba(81, 136, 195, 0.46)",r.style.border="1px solid #34f4ff"):r.style.border="3px dashed #34f4ff",r.style.position="fixed",r.style.zIndex="99999999999999",r.style.display="block",r.style.borderRadius="3px",r.style.top=n.y+"px",r.style.left=n.x+"px",r.style.width=n.width+(isNaN(n.width)?"":"px"),r.style.height=n.height+(isNaN(n.height)?"":"px"),document.body.appendChild(r)};ActiveCSS._hasSetupEnded=()=>setupEnded,ActiveCSS._highlightDOM=n=>{if("body"==(n=_stripOffConditionals(n))||"window"==n)_drawHighlight({x:0,y:0,width:"100%",height:"100%"},"full");else{try{document.querySelectorAll(n).forEach((function(n){if("none"!==getComputedStyle(n,null).display)_drawHighlight(n.getBoundingClientRect(),"full");else{let a=n.style.getPropertyValue("display"),r=n.style.getPropertyPriority("display");n.style.setProperty("display","block","important"),_drawHighlight(n.getBoundingClientRect()),""!==a?n.style.removeProperty("display"):n.style.setProperty("display",a,r)}}))}catch(a){console.log(n+" is not a valid selector.")}}};const _sendMessage=(n,a,r,c="")=>{let l;if("object"==typeof n){let a=Object.assign({},n);a.e&&(a.e=""),a.doc&&(a.doc=""),a.compDoc&&(a.compDoc=""),a.obj&&(a.obj=""),a.secSelObj&&(a.secSelObj=""),l=JSON.stringify(a)}else l=n;if(!setupEnded)return debuggerCo++,void devtoolsInit.push([l,a,debuggerCo]);"debugOutput"==a&&(c||(c=++debuggerCo)),window.postMessage({message:l,messageType:a,orderNo:c,whereTo:r,source:"causejs-devtools-extension"},"*")};ActiveCSS._sendOverMediaQueries=()=>JSON.stringify(Object.assign({},mediaQueriesOrig));const _stripOffConditionals=n=>{let a,r=n.split(":"),c=r.length,l=r[0];for(a=1;a<c;a++)""!==r[a].trim()&&(l+=conditionals[r[a]]?"":":"+r[a]);return l},_tellElementsToUpdate=()=>{debuggerActive&&_sendMessage("reloadElements","instruction","editor")},_tellPanelToUpdate=()=>{debuggerActive&&_sendMessage("reloadPanel","instruction","tracker")};ActiveCSS._addToConfig=(n,a,r,c,l,i,s,u)=>{switch(_setupEvent(a,r),n){case"a":u=_cleanUpRuleValue(u);let n,d=config,p=u.split(", "),f=p.length;for(n=0;n<f;n++)config=_assignRule(d,r,a,c,i,s,p[n],"","","",l)}_tellPanelToUpdate()},ActiveCSS._checkEvEditor=n=>evEditorExtID&&evEditorExtID==n,ActiveCSS._checkEventDupe=(n,a,r)=>{if(!(config[n]&&config[n][r]&&config[n][r][a||0]))return 0;try{return document.querySelector(n)?1:2}catch(a){return console.log(n+" is not a valid selector (4)."),2}},ActiveCSS._checkPrimSel=(n,a,r)=>{if("window"==a||"body"==a)return!0;let c=!1;try{return document.querySelectorAll(a).forEach((function(a,r){if(a.contains(n))return c=!0,!1})),!!c}catch(n){return console.log(a+" is not a valid selector (2)."),!1}};const _cleanUpRuleValue=n=>{let a,r=n.split(","),c=r.length;for(a=0;a<c;a++)r[a]=r[a].trim();return r.join(", ")};ActiveCSS._editConfig=(n,a,r,c,l,i,s,u="",d="",p="",f="",_="",m="",S="",g="")=>{switch(u=u||"0",d=d||"0",_setupEvent(r,l),S=_cleanUpRuleValue(S),g=_cleanUpRuleValue(g),n){case"p":if(!(config[c]&&config[c][a]&&config[c][a][i]&&config[c][a][i][u]))return;let n,v,b,C=config[c][a][i][u];for(n in delete config[c][a][i][u],0===Object.keys(config[c][a][i]).length&&delete config[c][a][i],0===Object.keys(config[c][a]).length&&delete config[c][a],0===Object.keys(config[c]).length&&delete config[c],C)for(v=C[n].length,b=0;b<v;b++)m=C[n][b].name,g=C[n][b].value,ActiveCSS._addToConfig("a",r,l,s,d,n,m,g);break;case"s":if(!(config[c]&&config[c][a]&&config[c][a][i]&&config[c][a][i][u][p]&&config[c][a][i][u][p]))return;let h=config[c][a][i][u][p];delete config[c][a][i][u][p],config[c][a][i][u][f]=h;break;case"a":ActiveCSS._removeFromConfig("a",r,l,s,d,f,_,S),ActiveCSS._addToConfig("a",r,l,s,d,f,m,g)}_tellPanelToUpdate()},ActiveCSS._formatConditional=n=>{let a,r=n.split(":"),c=r.length,l=r[0];for(a=1;a<c;a++)""!==r[a].trim()&&(l+=":",l+=conditionals[r[a]]?'<span class="active-event-cond-inline">'+r[a]+"</span>":r[a]);return l},ActiveCSS._inspectEl=n=>{try{let a=document.querySelector(n);inspect(a)}catch(a){console.log(n+" is not a valid selector (3).")}};const _miniHandleEventForEditor=n=>{let a,r,c,l,i=n.obj,s=n.thisAction,u=n.component?"|"+n.component:null,d=[],p={},f=!1,_=selectors[s].length;if(u){for(a=0;a<_;a++)if(l=selectors[s][a].indexOf(":"),selectors[s][a].substr(0,l)===u&&(r=selectors[s][a].substr(l+1),-1===r.indexOf("<")&&!d.includes(selectors[s][a])))if("&"==r)d.push(selectors[s][a]);else try{i.matches(r)&&d.push(selectors[s][a])}catch(n){}}else for(a=0;a<_;a++)if(!["~","|"].includes(selectors[s][a].substr(0,1))&&(r=selectors[s][a],-1===r.indexOf("<")&&!d.includes(selectors[s][a])))try{i.matches(r)&&d.push(selectors[s][a])}catch(n){}for(_=d.length,c=0;c<_;c++)config[d[c]]&&config[d[c]][s]&&(p[d[c]]||(p[d[c]]={}),p[d[c]]=config[d[c]][s],f=!0);return[p,f]},_removeArrItem=(n,a)=>{let r;for(r=0;r<n.length;r++)if(n[r]===a){n.splice(r,1);break}return n};ActiveCSS._removeFromConfig=(n,a,r,c,l,i,s,u)=>{switch(n){case"p":if(!config[r]||!config[r][a]||!config[r][a][c])return;delete config[r][a][c],0===Object.keys(config[r][a]).length&&delete config[r][a],0===Object.keys(config[r]).length&&delete config[r];break;case"s":if(!(config[r]&&config[r][a]&&config[r][a][c]&&config[r][a][c][l]&&config[r][a][c][l][i]))return;_removeArrItem(config[r][a][c][l],config[r][a][c][l][i]),0===config[r][a][c][l].length&&_removeArrItem(config[r][a][c],config[r][a][c][l]),0===Object.keys(config[r][a][c]).length&&delete config[r][a][c],0===Object.keys(config[r][a]).length&&delete config[r][a],0===Object.keys(config[r]).length&&delete config[r];break;case"a":config=_removeRule(config,r,a,c,l,i,s,u)}_tellPanelToUpdate()};const _removeRule=(n,a,r,c,l,i,s,u)=>{let d;if(void 0===n[a][r][c])return n;if(void 0===n[a][r][c][l])return n;if(void 0===n[a][r][c][l][i])return n;if(d=ActiveCSS._getPosOfRule(n[a][r][c][l][i],s),-1!=d)if(u=_cleanUpRuleValue(u),n[a][r][c][l][i][d].value==u)n[a][r][c][l][i].splice(d,1),0===n[a][r][c][l][i].length&&_removeArrItem(config[a][r][c][l],config[a][r][c][l][i]),0===n[a][r][c][l].length&&delete config[a][r][c][l],0===Object.keys(n[a][r][c]).length&&delete config[a][r][c],0===Object.keys(n[a][r]).length&&delete config[a][r],0===Object.keys(n[a]).length&&delete config[a];else{let s,p,f,_,m=u.split(","),S=m.length;for(s=0;s<S;s++)_=m[s].trim(),p=n[a][r][c][l][i][d].value.split(", "),f=p.indexOf(_),-1!==index&&p.splice(index,1),n[a][r][c][l][i][d].value=p.join(", ")}return n};ActiveCSS._returnTree=n=>{if(!setupEnded)return;let a,r,c,l,i,s={},u=n;l=_getRootNode(n),l.isSameNode(document)||(i=l.host._acssComponent,i||(i=null)),Object.keys(selectors).sort().forEach((function(l){var d,p,f="";n=u,r=0;let _=l;if(_=_getRealEvent(_),c=!0,!1===_&&(c=!1),f=i,c){let n=document.createElement("div");n.id="cause-js-elements-ext",document.body.append(n),n.attachShadow({mode:"open"});let a=document.createElement("div");n.shadowRoot.append(a),a.addEventListener(_,(function(n){n.preventDefault(),n.stopImmediatePropagation(),d=n.bubbles,p=n.composed}),{capture:!1,once:!0});try{a[_]()}catch(n){d=!1,p=!1}ActiveCSS._removeObj(n)}else d=!1;if("mouseover"!=l&&"click"!=l||"A"!=n.tagName||n._acssNavDrawn||_setUpNavAttrs(n),"window"!=n&&n){for(;n.parentNode&&(a=_miniHandleEventForEditor({obj:n,thisAction:l,component:f}),a[1]&&(s[l]||(s[l]={}),s[l][r]||(s[l][r]={}),s[l][r]=a[0],r++),d);)if((n=n.parentNode)&&n instanceof ShadowRoot){if(!p)break;n=n.host;let a=_getRootNode(n);a.isSameNode(document)?f=null:(f=a.host._acssComponent)||(f=null)}a=_miniHandleEventForEditor({obj:window,thisAction:l})}})),_sendMessage(s,"treeSent","editor")},ActiveCSS._startEvEditor=n=>(evEditorActive=!0,evEditorExtID=n,coreVersionExtension),ActiveCSS._checkDebugger=n=>debuggerExtID&&debuggerExtID==n;const _debugOutput=n=>{_sendMessage(n,"debugOutput","tracker")};ActiveCSS._sendInitMessages=()=>{let n,a=devtoolsInit.length;for(n=0;n<a;n++)_sendMessage(devtoolsInit[n][0],devtoolsInit[n][1],"tracker",devtoolsInit[n][2]);devtoolsInit=[]},ActiveCSS._sendOverComponents=()=>JSON.stringify(Object.assign({},components)),ActiveCSS._sendOverConditionals=()=>JSON.stringify(Object.assign({},conditionals)),ActiveCSS._sendOverConfig=()=>JSON.stringify(Object.assign({},config)),ActiveCSS._sendOverEvents=()=>debuggerEvs,ActiveCSS._startDebugger=n=>(debuggerness=!0,debuggerActive=!0,debuggerExtID=n,coreVersionExtension);const _stopDebugger=()=>{debuggerness=!1,debuggerActive=!1},_stopEvEditor=()=>{evEditorActive=!1},_cookieExists=n=>!(!n||/^(?:expires|max\-age|path|domain|secure)$/i.test(n))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie),_getCookie=n=>n&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null,_setCookie=(n,a,r,c,l,i,s,u)=>{if(!n||/^(?:expires|max\-age|path|domain|secure)$/i.test(n))return!1;var d="";if(r)switch(r.constructor){case Number:d=r===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+r;break;case String:d="; expires="+r}return document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(a)+d+(l?"; domain="+l:"")+(c?"; path="+c:"")+(i?"; Secure":"")+(s?"; samesite="+s:u?"; HttpOnly":""),!0},_addActValRaw=n=>{n.avRaw=n.actVal,-1!==n.avRaw.indexOf("?")&&(n.avRaw=_getBaseURL(n.avRaw))},_ajax=(n,a,r,c,l,i,s)=>{preGetMid++;var u,d=new XMLHttpRequest;switch(d.open(n,r,!0),a){case"html":case"txt":u="text/html";break;case"json":u="application/json";break;default:u="application/x-www-form-urlencoded"}d.setRequestHeader("Content-type",u),d.onreadystatechange=function(){if(4==d.readyState){if(200!=d.status){if(preGetMid--,!i)return void console.log("Tried to get file: "+r+", but failed with error code: "+d.status);i(d.responseText,d.status,s)}preGetMid--,null!==l&&l(d.responseText,s)}},"POST"==n&&null!==c?d.send(c):d.send()},_ajaxCallback=(n,a)=>{"string"==typeof n&&""!==n.trim()?(a.res="JSON"==a.dataType?JSON.parse(n):n,_resolveAjaxVars(a)):(a.res="",_ajaxCallbackDisplay(a))},_ajaxCallbackDisplay=n=>{n.error||!n.cache&&!n.preGet||(ajaxResLocations[n.finalURL]=n.res),!n.error&&n.preGet?_handleEvents({obj:n.obj,evType:"afterAjaxPreGet"+(n.error?n.errorCode:""),eve:n.e,otherObj:n,compRef:n.compRef,compDoc:n.compDoc,component:n.component,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo}):_ajaxDisplay(n),delete n.res},_ajaxCallbackErr=(n,a,r)=>{r.preGet?(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax-pre-get callback error debug: failed with error "'+a+'".'):(r.error=!0,r.errorCode=a,_ajaxCallback(n,r),(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax callback error debug: failed with error "'+a+'".'))},_ajaxDisplay=n=>{let a="afterAjax"+(n.formSubmit?"Form"+(n.formPreview?"Preview":n.formSubmit?"Submit":""):"");n.error&&(a+=n.errorCode),_handleEvents({obj:n.obj,evType:a,eve:n.e,otherObj:n,compRef:n.compRef,compDoc:n.compDoc,component:n.component,_maEvCo:n._maEvCo,_taEvCo:n._taEvCo}),""!==n.hash&&(document.location.hash="",document.location.hash=n.hash)},_ajaxDo=n=>{if(n.preGet&&preGetMid){let a=_getParVal(n.actVal,"max");if(preGetMid==(preGetMax=""!=a?a:6))return}let a=n.actVal.split(" ");n.formMethod=_optDef(a,"get","GET","POST"),n.dataType=_optDef(a,"html","HTML","JSON"),n.cache=_optDef(a,"cache",!0,!1),n.nocache=_optDef(a,"nocache",!0,!1);let r=(n.nocache?"_="+Date.now()+"&":"")+"_ACSS=1"+(n.formPreview?"&_ACSSFORMPREVIEW=1":"")+(n.formSubmit?"&_ACSSFORMSUBMIT=1":"")+"&_ACSSTYPE="+n.dataType;n.pars=r;let c=n.url;if(n.preGet&&""===c)return;n.formSubmit&&(n.pars+="&"+_checkForm(n.secSelObj,"pars")),"GET"==n.formMethod&&(c=_appendURIPar(c,n.pars,n.doc)),n.hash="";let l=c.indexOf("#");-1!==l&&(n.hash=c.substr(l+1),c=c.substr(0,l)),c=_attachGetVals(n.actVal,c,n.doc,"get-pars"),n.pars=_attachPostVals(n.actVal,n.pars),n.finalURL="GET"==n.formMethod?c:_appendURIPar(c,n.pars,n.doc),ajaxResLocations[n.finalURL]?n.preGet||(n.res=ajaxResLocations[n.finalURL],_resolveAjaxVars(n)):_ajax(n.formMethod,n.dataType,c,n.pars,_ajaxCallback.bind(this),_ajaxCallbackErr.bind(this),n)},_appendURIPar=(n,a,r)=>{var c=new RegExp("^([a-z]+://|//)","i");""!==n&&c.test(n)||(n=window.location.protocol+"//"+window.location.host+("/"!=n.substr(0,1)?"/":"")+n);let l,i,s=new URL(n),u=a.split("&"),d="";for(l of u)if(-1!==l.indexOf("="))i=l.split("="),i[1]?s.searchParams.set(i[0],i[1]):s.searchParams.set(i[0],"");else if("{#"==l.substr(0,2)){let n=l.slice(2,-1),a=r.getElementById(n);if("FORM"==a.tagName){let n=_checkForm(a,"pars"),c=_appendURIPar(s,n,r);s=new URL(c)}}else d+=l;return s+d},_attachGetVals=(n,a,r,c)=>{let l=_getParVal(n,c);return l&&(a=_appendURIPar(a,l,r)),a},_attachPostVals=(n,a)=>{let r=_getParVal(n,"post-pars");return r&&(a+="&"+r),a},_getFile=(n,a,r={})=>{_ajax("GET",a,n,null,_addConfig.bind(this),_addConfigError.bind(this),r)},_getParVal=(n,a)=>{if(-1!==n.indexOf(a+"(")){let r=new RegExp(a+"\\(([^)]*)\\)","g").exec(n)||"";if(r)return r[1]}return""},_actValSelItem=n=>{let a=n.actVal.split(" "),r=a.splice(-1);return[_getSel(n,a.join(" ")),r[0]]};ActiveCSS._addClassObj=(n,a)=>{if(!n||!n.classList)return;let r=a.replace(".","").split(" ");n.classList.add(...r)};const _checkForm=(n,a)=>{if(!n)return!1;for(var r,c,l,i,s,u,d="check"==a,p="pars"==a,f="",_=[],m=0,S=n.elements.length;m<S;m++)if(c=!1,(r=n.elements[m]).hasAttribute("name")){switch(r.nodeName.toLowerCase()){case"select":for(l=0,i=0,s=r.options.length;i<s;i++)u=r.options[i],c=c||u.selected!=r.defaultSelected,u.defaultSelected&&(l=i);c&&!r.multiple&&(c=l!=r.selectedIndex),f+="&"+r.getAttribute("name")+"="+encodeURIComponent(r.options[r.selectedIndex].value);break;case"textarea":case"input":switch(r.type.toLowerCase()){case"checkbox":c=r.checked!=r.defaultChecked,f+="&"+r.getAttribute("name")+"="+(r.checked?"on":"");break;case"radio":c=r.checked!=r.defaultChecked,r.checked&&(f+="&"+r.getAttribute("name")+"="+encodeURIComponent(r.value));break;default:c=r.value!=r.defaultValue,f+="&"+r.getAttribute("name")+"="+encodeURIComponent(r.value)}break;case"hidden":f+=p?"&"+r.getAttribute("name")+"="+encodeURIComponent(r.value):""}d&&c&&_.push(r)}return d?!!_.length:p?"_ACSSFORMNAME="+(n.name?n.name:"")+f:void 0},_componentDetails=n=>{let a=_getRootNode(n);return _getComponentDetails(a)},_composedPath=n=>{if(n.composedPath)return n.composedPath();{if(n.path)return n.path;let a=n.target,r=[];for(;null!==a.parentNode;)r.push(a),a=a.parentNode;return r.push(document,window),r}},_convertToMS=(n,a)=>{if("stack"==n)return 0;var r=/^(\d+)(ms|s)?$/i.exec(n);if(!r)return console.log(a),!1;var c=parseFloat(r[1]);return"s"==(r[2]||"ms").toLowerCase()?1e3*c:c};ActiveCSS._decodeHTML=n=>(new DOMParser).parseFromString(n,"text/html").documentElement.textContent;const _doDebug=(n,a)=>{if(a){if(-1!==debugMode.indexOf(":")){let r=a.split(":");return-1!==debugMode.indexOf(r[0]+":"+n)}return-1!==debugMode.indexOf(a)||-1!==debugMode.indexOf(n)}return-1!==debugMode.indexOf(":")?-1!==debugMode.indexOf(n)&&debugMode.indexOf(":")!==debugMode.indexOf(n)-1:-1!==debugMode.indexOf(n)},_eachRemoveClass=(n,a,r)=>{r.querySelectorAll("."+n).forEach((function(n,r){n&&ActiveCSS._removeClassObj(n,a)}))};function _escCommaBrack(n,a){n=(n=n.replace(/\\\"/g,"_ACSS_i_dq")).replace(/\\'/g,"_ACSS_i_sq");let r,c={"\\,":"__ACSS_int_com","\\(":"_ACSS_i_bo","\\)":"_ACSS_i_bc","\\{":"_ACSS_i_co","\\}":"_ACSS_i_cc","\\[":"_ACSS_i_so","\\]":"_ACSS_i_sc"},l={",":"__ACSS_int_com","(":"_ACSS_i_bo",")":"_ACSS_i_bc","{":"_ACSS_i_co","}":"_ACSS_i_cc","[":"_ACSS_i_so","]":"_ACSS_i_sc"},i=(n=(n=n.replace(/("([^"]|"")*")/g,(function(n,a){return ActiveCSS._mapRegexReturn(c,a,l)}))).replace(/('([^']|'')*')/g,(function(n,a){return ActiveCSS._mapRegexReturn(c,a,l)}))).split(","),s=0,u="";for(r of i)s+=r.split("[").length-r.split("]").length,s+=r.split("(").length-r.split(")").length,s+=r.split("{").length-r.split("}").length,u+=0!==s?r+"__ACSS_int_com":r+",";return 0!==s?(u=_escCommaBrackClean(u,l),u=u.replace(/__ACSS_int_com/g,","),console.log("Unbalanced JavaScript equation in var command - too many brackets, curlies or parentheses, or there could be incorrectly escaped characters: "+u+", in config: "+a.file+", line: "+a.line),u):(u=u.slice(0,-1),u=u.replace(/\,/g,"_ACSSComma"),u=_escCommaBrackClean(u),u)}function _escCommaBrackClean(n,a){let r={_ACSS_i_dq:'\\"',_ACSS_i_sq:"\\'",__ACSS_int_com:",",_ACSS_i_bo:"(",_ACSS_i_bc:")",_ACSS_i_co:"{",_ACSS_i_cc:"}",_ACSS_i_so:"[",_ACSS_i_sc:"]"};return n=(n=n.replace(/("([^"]|"")*")/g,(function(n,a){return ActiveCSS._mapRegexReturn(r,a)}))).replace(/('([^']|'')*')/g,(function(n,a){return ActiveCSS._mapRegexReturn(r,a)}))}const _fullscreenDetails=()=>{let n;return n="MSGesture"in window?[document.webkitFullscreenElement,"webkit"]:[document.fullscreenElement,""],n},_get=(n,a,r)=>(n=n[(a=Array.isArray(a)?a:a.replace(/(\[(\d)\])/g,".$2").split("."))[0]])&&a.length>1?_get(n,a.slice(1),r):void 0===n?r:n,_getActiveID=n=>{if(!n.isConnected)return _getTempActiveID(n);if(n){if(!n._acssActiveID){let a="id-"+ ++activeIDTrack;n._acssActiveID=a,idMap[a]=n}return n._acssActiveID}return!1},_getBaseURL=n=>-1!==n.indexOf("?")?n.substr(0,n.indexOf("?")):n,_getComponentDetails=n=>{let a,r,c,l,i;return n.isSameNode(document)?(r=null,c=null,l=null,i=null):(a=n,supportsShadow&&n instanceof ShadowRoot&&(a=n.host),r=a._acssComponent,c=n,l=a._acssCompRef,i=a._acssPrivEvs),{component:r,compDoc:c,compRef:l,privateEvs:i}},_getComponentRoot=n=>{let a=!(!n.parentElement||supportsShadow&&(!supportsShadow||n.parentNode instanceof ShadowRoot))&&n.parentElement.closest("[data-active-scoped]"),r=n.getRootNode();return!a&&r.isSameNode(document)?document:a?a&&r.isSameNode(document)?a:idMap[a._acssActiveID]?a:r:r},_getFieldValType=n=>{switch(n.tagName){case"INPUT":case"TEXTAREA":return"value";default:return"innerText"}},_getFocusedOfNodes=(n,a)=>{let r,c,l,i=-1,s=-1;if(r=_splitIframeEls(n,a.obj,a.compDoc),!r)return!1;if(null===r[0].activeElement)return-1;for(l of(c=r[0].querySelectorAll(r[1])||null,c))if(i++,l.isSameNode(r[0].activeElement)){s=i;break}return[c,s]},_getObj=n=>{let a=_splitIframeEls(n);if(!a)return!1;try{return a[0].querySelector(a[1])}catch(n){return!1}},_getPastFutureDate=n=>{let a,r=1,c=n.replace(/^([\+|\-]?[\d\.]+)/,(function(n,a){return r=1*a,""})).trim();c=c.replace(/s/g,"").toLowerCase().trim();let l=new Date;switch(c){case"year":a=l.setFullYear(l.getFullYear()+r);break;case"month":a=l.setMonth(l.getMonth()+r);break;case"day":a=l.setHours(l.getHours()+24*r);break;case"hour":case"minute":a=l.setHours(l.getHours()+r);break;case"econd":a=l.setSeconds(l.getSeconds()+r);break;default:a=null}return a?new Date(a):null},_getRealEvent=n=>{let a=n.substr(0,5);if("after"==a&&"afterprint"!=n)return!1;if("keyup"==a)n="keyup";else if("keydown"==n.substr(0,7))n="keydown";else if("fullscreenEnter"==n||"fullscreenExit"==n)n=_fullscreenDetails()[1]+"fullscreenchange";else{if(["draw","disconnectCallback","adoptedCallback","attributeChangedCallback","beforeComponentOpen","componentOpen"].includes(n))return!1;if("attrChange"==n.substr(0,10))return!1}return n},_getRootNode=n=>supportsShadow?_getComponentRoot(n):_getScopedRoot(n)||document,_getScopedRoot=n=>n.parentNode?n.parentNode.closest("[data-active-scoped]"):null,_getSel=(n,a,r)=>{switch(a){case"me":case"self":case"this":return n.secSelObj;case"host":if(-1!==["beforeComponentOpen","componentOpen"].indexOf(n.event))return n.secSelObj;let c=_getRootNode(n.secSelObj);return c._acssScoped?c:c.host;default:return!0!==r&&_getObj(a)}},_getTempActiveID=n=>!(!n||!n.dataset)&&(n.dataset.activeid||(activeIDTrack++,n.dataset.activeid="id-"+activeIDTrack),n.dataset.activeid),_getValFromList=(n,a,r=!1)=>{let c,l,i,s=-1;for(c in n)if(n.hasOwnProperty(c)){if(s++,l=n[c],r&&l.name==a)return s;for(i in l)if(l.hasOwnProperty(i)&&!r&&l[i]==a)return l.value.replace(/"/g,"")}return!!r&&-1},_getWindow=n=>{try{return n.defaultView||n.parentWindow}catch(n){return window}},_handleQuoAjax=(n,a)=>a._ACSSRepQuo();ActiveCSS._hasClassObj=(n,a)=>n.classList.contains(a)||!1;const _htmlToElement=n=>{let a=document.createElement("template");return n=n.trim(),a.innerHTML=n,a.content.firstChild},_ifFocus=(n,a=!0)=>{let r=_getFocusedOfNodes(n.actVal,n);return a?0===r[1]:r[1]==r[0].length-1},_ifVarTrue=(n,a)=>{if("true"==n)return!0;if("false"==n)return!1;let r=(a&&privVarScopes[a]?a:"main")+"."+n,c=_get(scopedVars,r);return void 0===c&&(c=window[n]),!!c};ActiveCSS._ifVisible=(n,a)=>{let r=("object"==typeof n.actVal?n.actVal:""==n.actVal._ACSSRepQuo().trim()?n.secSelObj:_getSel(n,n.actVal)).getBoundingClientRect(),c=r.top,l=r.bottom;return a?c>=0&&l<=window.innerHeight:c<window.innerHeight&&l>=0};const _isACSSStyleTag=n=>"STYLE"==n.tagName&&n.hasAttribute("type")&&"text/acss"==n.getAttribute("type"),_isConnected=n=>n.isConnected||n===self||n===document.body,_isInlineLoaded=n=>{let a="_inline_"+_getActiveID(n);return configBox.find(n=>n.file===a)},_mimicReset=n=>{var a,r;for(a in n.target.cjsReset)if("title"!=a)switch((r=n.target.cjsReset[a]).type){case"text":r.el.innerText=r.value;break;default:r.el.value=r.value}n.target.cjsReset.title&&(currDocTitle=ActiveCSS._decodeHTML(n.target.cjsReset.title),document.title=currDocTitle)},_optDef=(n,a,r,c)=>(Array.isArray(n)||(n=n.split(" ")),a=a.toLowerCase(),-1!==n.findIndex(n=>a===n.toLowerCase())?r:c),_outDebug=(n,a)=>{if(n){let n;for(n of a)console.log(n)}};var e,t;e="undefined"!=typeof self?self:this,t=function(){return function(n){var a={};function r(c){if(a[c])return a[c].exports;var l=a[c]={i:c,l:!1,exports:{}};return n[c].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=n,r.c=a,r.d=function(n,a,c){r.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:c})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,a){if(1&a&&(n=r(n)),8&a)return n;if(4&a&&"object"==typeof n&&n&&n.__esModule)return n;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&a&&"string"!=typeof n)for(var l in n)r.d(c,l,function(a){return n[a]}.bind(null,l));return c},r.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(a,"a",a),a},r.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},r.p="",r(r.s=0)}([function(n,a,r){const{types:c,iterableTypes:l,errors:i}=r(1),s=r(2),u={[c.NUMBER]:s.isNumber,[c.BOOLEAN]:s.isBoolean,[c.STRING]:s.isString,[c.DATE]:s.isDate,[c.UNDEFINED]:s.isUndefined,[c.NULL]:s.isNull,[c.ARRAY]:s.isArray,[c.MAP]:s.isMap,[c.SET]:s.isSet,[c.ITERABLE_OBJECT]:s.isIterableObject},d={[c.DATE]:s.areDatesEqual};function p(n){const a=Object.keys(u);let r=c.DEFAULT;for(let c=0;c<a.length;c+=1)if(u[a[c]](n)){r=a[c];break}return r}function f(n,a,r,l){let i;return r===c.UNDEFINED&&l!==c.UNDEFINED?i="add":r!==c.UNDEFINED&&l===c.UNDEFINED?i="delete":function(n,a,r,c){return r===c&&(d[r]?d[r](n,a):n===a)}(n,a,r,l)?s.noop():i="update",i}const _={add:s.setValueByPath,update:s.setValueByPath,delete:s.deleteValueByPath};n.exports={getDiff:(n,a,r=!1)=>function n(a,r,i,s,u){const d=p(a),_=p(r),m=s||[],S=u||[];if(function(n,a){return n===a&&l.indexOf(n)>=0}(d,_)){const l=function(n,a,r){let l;return r===c.ITERABLE_OBJECT?l=new Set(Object.keys(n).concat(Object.keys(a))):r===c.ARRAY&&(l=n.length>a.length?new Array(n.length):new Array(a.length),l=l.fill(0,0),l=l.map((n,a)=>a),l=new Set(l)),l}(a,r,d).values();let s=l.next().value;for(;null!=s;)n(a[s],r[s],i,m.concat(s),S),s=l.next().value}else{const n=f(a,r,d,_);null!=n&&S.push(function(n,a,r,c,l){const i={op:r,path:c};return"add"!==r&&"update"!==r||(i.val=a),l&&"add"!==r&&(i.oldVal=n),i}(a,r,n,s,i))}return S}(n,a,r),applyDiff:(n,a,r)=>function(n,a,r){if(!(a instanceof Array))throw new Error(i.INVALID_DIFF_FORMAT);let c=n;return a.forEach(n=>{const{op:a,val:l,path:s}=n;if(!_[a])throw new Error(i.INVALID_DIFF_OP);c=_[a](c,s,l,r)}),c}(n,a,r)}},function(n,a){const r={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",STRING:"STRING",NULL:"NULL",UNDEFINED:"UNDEFINED",DATE:"DATE",ARRAY:"ARRAY",MAP:"MAP",SET:"SET",ITERABLE_OBJECT:"ITERABLE_OBJECT",DEFAULT:"OBJECT"};n.exports={types:r,iterableTypes:[r.ITERABLE_OBJECT,r.MAP,r.ARRAY,r.SET],errors:{EMPTY_DIFF:"No diff object is provided, Nothing to apply",INVALID_DIFF_FORMAT:"Invalid diff format",INVALID_DIFF_OP:"Unsupported operation provided into diff object"}}},function(n,a){const r=n=>a=>a instanceof n,c=r(Date),l=r(Array),i=r(Map),s=r(Set),u=n=>"[object Object]"===Object.prototype.toString.call(n);n.exports={isNumber:n=>"number"==typeof n,isBoolean:n=>"boolean"==typeof n,isString:n=>"string"==typeof n,isDate:c,isUndefined:n=>void 0===n,isNull:n=>null===n,isArray:l,isMap:i,isSet:s,isIterableObject:u,noop:()=>{},areDatesEqual:(n,a)=>n.getTime()===a.getTime(),setValueByPath:function(n,a=[],r,c){if(!l(a))throw new Error(`Diff path: "${a}" is not valid`);const{length:i}=a;if(0===i)return r;let s=n;for(let l=0;l<i;l+=1){const u=a[l];if(!s)throw new Error(`Invalid path: "${a}" for object: ${JSON.stringify(n,null,2)}`);if(null==u)throw new Error(`Invalid path: "${a}" for object: ${JSON.stringify(n,null,2)}`);l!==i-1?(s=s[u],c&&c(s)):s[u]=r}return n},deleteValueByPath:function(n,a){const r=a||[];if(0===r.length)return;let c=n;const{length:l}=r;for(let i=0;i<l;i+=1)if(i!==l-1){if(!c[r[i]])throw new Error(`Invalid path: "${a}" for object: ${JSON.stringify(n,null,2)}`);c=c[r[i]]}else if(u(c))delete c[r[i]];else{const n=parseInt(r[i],10);for(;c.length>n;)c.pop()}return n}}}])},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.recursiveDiff=t():e.recursiveDiff=t(),ActiveCSS._removeClassObj=(n,a)=>{if(!n||!n.classList)return;let r=a.replace(".","").split(" ");n.classList.remove(...r)},ActiveCSS._removeObj=n=>{n&&n.remove()};const _replaceTempActiveID=n=>{n&&n.dataset&&n.dataset.activeid&&(n._acssActiveID=n.dataset.activeid,n.removeAttribute("data-activeid"),idMap[n._acssActiveID]=n)},_resolveURL=n=>{let a=document.location.href,r=history.state,c=document.title;history.replaceState(r,c,n);let l=document.location.href;return history.replaceState(r,c,a),l},_selCompare=(n,a)=>{let r,c,l,i=n.actVal._ACSSSpaceQuoIn();if("eM"==a){if(!i)return!0;if(i&&"__object"==i)return!1;r=i._ACSSSpaceQuoOut()}else r=i.split(" "),c=r.pop()._ACSSSpaceQuoOut()._ACSSRepQuo(),r=r.join(" ");switch(l=_getSel(n,r),l||(l=r),a){case"eM":case"maL":case"miL":let n;if(l&&l.nodeType&&l.nodeType==Node.ELEMENT_NODE){n=l[_getFieldValType(l)]}else n=l;switch(a){case"eM":return!n||""===n;case"maL":return n.length<=c;case"miL":return n.length>=c}break;case"iT":return l&&c==l.innerText;case"iH":return l&&c==l.innerHTML}},_set=(n,a,r)=>Object(n)!==n?n:(Array.isArray(a)||(a=a.toString().match(/[^.[\]]+/g)||[]),a.slice(0,-1).reduce((n,r,c)=>Object(n[r])===n[r]?n[r]:n[r]=Math.abs(a[c+1])>>0==+a[c+1]?[]:{},n)[a[a.length-1]]=r,n),_setClassObj=(n,a)=>{n&&n.classList&&(n.className=a)},_setsrcObj=(n,a)=>{n&&(n.src=a)},_toggleClassObj=(n,a)=>{n&&n.classList&&n.classList.toggle(a)},_urlTitle=(n,a,r)=>{n=n.replace(/"/g,""),a=a.replace(/"/g,""),n=_resolveURL(n),window.location.href!=n&&window.history.pushState(n,a,n),document.title=a};String.prototype._ACSSCapitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype._ACSSCapitalizeAttr=function(){return this.replace(/(^|[\s-])\S/g,(function(n){return n.toUpperCase()}))},String.prototype._ACSSConvFunc=function(){return this._ACSSCapitalizeAttr().replace(/\-/g,"")},String.prototype._ACSSRepAllQuo=function(){return this.replace(/"/g,"")},String.prototype._ACSSRepQuo=function(){var n=this.replace(/\\"/g,"_ACSS*%_");return n=(n=n.replace(/(^")|("$)/g,"")).replace(/_ACSS\*%_/g,'"')},String.prototype._ACSSSpaceQuoIn=function(){return this.replace(/"(.+?)"/g,(function(n,a){return a='"'+a.replace(/ /g,"_ACSS_space")+'"'}))},String.prototype._ACSSSpaceQuoOut=function(){return this.replace(/_ACSS_space/g," ")},document.head.attachShadow||(supportsShadow=!1,"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(n,a){a=a||window;for(var r=0;r<this.length;r++)n.call(a,this[r],r,this)}),document.addEventListener("DOMContentLoaded",(function(n){setTimeout((function(){userSetupStarted||(autoStartInit=!0,ActiveCSS.init())}),0)}))}(window,document);