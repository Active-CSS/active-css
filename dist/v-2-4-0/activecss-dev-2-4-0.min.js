!function(global,document){"use strict";const PARSELINEX=/([^\:]+):([^\;]*)(;)?/,PARSEREGEX=/((?!\*debugfile)[^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|((?!\*debugfile)[^\;\{\}]+\;(?!\s*\*\/))|(\*debugfile[\s\S]*?\*)/gim,PARSESEL=1,PARSEEND=2,PARSEATTR=3,PARSEDEBUG=4,COMMENTS=/\/\*[\s\S]*?\*\/|(\t| |^)\/\/.*$/gm,COLONSELS="^((active|any\\-link|blank|checked|current|default|disabled|drop|empty|enabled|first\\-child|first\\-of\\-type|focus|focus\\-visible|focus\\-within|future|hover|indeterminate|in\\-range|invalid|last\\-child|last\\-of\\-type|link|local\\-link|only\\-child|only\\-of\\-type|optional|out\\-of\\-range|past|paused|placeholder\\-shown|playing|read\\-only|read\\-write|required|root|scope|target|target\\-within|user\\-error|user\\-invalid|valid|visited)(?![\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w_\\-])|(current|dir|drop|has|is|lang|not|nth\\-column|nth\\-child|nth\\-last\\-child|nth\\-last\\-column|nth\\-last\\-of\\-type|nth\\-of\\-type|where)\\()",DYNAMICCHARS={",":"_ACSS_later_comma","{":"_ACSS_later_brace_start","}":"_ACSS_later_brace_end",";":"_ACSS_later_semi_colon",":":"_ACSS_later_colon",'"':"_ACSS_later_double_quote"},STYLEREGEX=/\/\*active\-var\-([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\:\[\]]+)\*\/(((?!\/\*).)*)\/\*\/active\-var\*\//g,CHILDRENREGEX=/\{\$CHILDREN\}/g,SELFREGEX=/\{\$SELF\}/g;window.ActiveCSS={},"undefined"!=typeof module&&(module.exports=ActiveCSS);var coreVersionExtension="2-0-0",_a={},_c={},parsedConfig={},config=[],configArr=[],configLine="",configFile="",configBox=[],lazyConfig=[],concatConfigCo=0,concatConfigLen=0,masterConfigCo=0,currentPage="",ajaxResLocations={},pageList=[],eventState={},delayArr=[],cancelIDArr=[],cancelCustomArr=[],intIDCounter=0,selectors=[],userSetupStarted=!1,autoStartInit=!1,setupEnded=!1,clickOutsideSet=!1,clickOutsideSels=[],mimicClones=[],currDocTitle=document.title,debugMode="",conditionals=[],components=[],mediaQueries=[],mediaQueriesOrig=[],activeIDTrack=0,scriptTrack=[],debuggerActive=!1,debuggerness=!1,debuggerExtID=null,debuggerEvs=["afterLoadConfig"],debuggerCo=0,evEditorExtID=null,evEditorActive=!1,devtoolsInit=[],scoped={},scopedVars=null,scopedData={},labelData=[],labelByIDs=[],customTags=[],compCount=0,compPending={},compParents=[],compPrivEvs=[],privVarScopes=[],strictPrivVarScopes=[],shadowSels=[],shadowDoms={},actualDoms={},preGetMax=6,preGetMid=0,reverseShadowEvs={},allEvents=[],doesPassive=!1,preSetupEvents=[],nonPassiveEvents=[],passiveEvents=!0,supportsShadow=!0,idMap=[],varMap=[],varStyleMap=[],varInStyleMap=[],maEv=[],mainEventCounter=-1,taEv=[],targetEventCounter=-1,elementObserver,pageStore,pagesDisplayed=[],inlineRefCo=0,inlineRefArr=[],inlineIDArr=[],inIframe=window.location!==window.parent.location,htmlRawMap=[];ActiveCSS.customHTMLElements={},_a.AddClass=a=>{ActiveCSS._addClassObj(a.secSelObj,a.actVal)},_a.Ajax=a=>{a.url=a.actVal.split(" ")[0]._ACSSRepQuo(),_ajaxDo(a)},_a.AjaxFormPreview=a=>{a.formPreview=!0,_a.AjaxFormSubmit(a)},_a.AjaxFormSubmit=a=>{a.formSubmit=!0;const r=a.secSelObj;r?(a.url=r.action,_ajaxDo(a)):console.log("Active CSS error: Form not found.",a.secSelObj)},_a.AjaxPreGet=a=>{a.preGet=!0,_a.Ajax(a)},_a.Alert=a=>{alert(a.actVal._ACSSRepQuo())},_a.Blur=a=>{document.activeElement.blur()},_a.CancelTimer=a=>{let r,n,c,l,s,i=a.actVal.trim(),u=i._ACSSConvFunc(),p=!0,d=a.varScope?a.varScope:"main";if(labelData[d+i]){let a=labelData[d+i];_clearTimeouts(delayArr[a.del][a.func][a.pos][a.intID][a.loopRef]),_removeCancel(a.del,a.func,a.pos,a.intID,a.loopRef)}else{if(l="string"==typeof a.secSel&&["~","|"].includes(a.secSel.substr(0,1))?a.secSel:_getActiveID(a.secSelObj),!l)return;if(delayArr[l])if("all"==i)for(r in delayArr[l])for(n in delayArr[l][r])for(c in delayArr[l][r][n])for(s in delayArr[l][r][n][c])_clearTimeouts(delayArr[l][r][n][c][s]),_removeCancel(l,r,n,c,s);else if(delayArr[l]&&delayArr[l][u])for(n in delayArr[l][u])for(c in delayArr[l][u][n])for(s in delayArr[l][u][n][c])_clearTimeouts(delayArr[l][u][n][c][s]),_removeCancel(l,u,n,c,s);else p=!1;else p=!1;if(!p){let r,n=[];if(Object.keys(delayArr).forEach((function(r){["~","|"].includes(r.substr(0,1))||a.doc.querySelectorAll(r).forEach((function(a,r){n.push(_getActiveID(a))}))})),"object"==typeof a.secSel)r=_getActiveID(a.secSel),cancelIDArr[r]&&cancelIDArr[r][u]||!n.includes(r)||_addCancelAttr(a.secSel,u);else if(["~","|"].includes(a.secSel.substr(0,1))){if(!(delayArr[l]&&delayArr[l][u]&&delayArr[l][u][a.actPos]&&delayArr[l][u][a.actPos][a.intID]&&delayArr[l][u][a.actPos][a.intID][a.loopRef]))return;cancelCustomArr.push([a.secSel][u][a.actPos][a.intID][a.loopRef])}else a.doc.querySelectorAll(a.secSel).forEach((function(a){r=_getActiveID(a),cancelIDArr[r]&&cancelIDArr[r][u]||!n.includes(r)||_addCancelAttr(a,u)}))}}},_a.CancelTimerAll=a=>{_unloadAllCancelTimer()},_a.ClickOnFirst=a=>{_focusOn(a)},_a.ClickOnLast=a=>{_focusOn(a,"l")},_a.ClickOnNext=a=>{_focusOn(a,"n")},_a.ClickOnNextCycle=a=>{_focusOn(a,"nc")},_a.ClickOnPrevious=a=>{_focusOn(a,"p")},_a.ClickOnPreviousCycle=a=>{_focusOn(a,"pc")},_a.ClickoutsideEvent=a=>{let r=_getActiveID(a.secSelObj);-1!==a.actVal.indexOf("true")?(clickOutsideSels[r]=[],clickOutsideSels[r][0]=!0,clickOutsideSet=!0,-1!==a.actVal.indexOf("continue")&&(clickOutsideSels[r][1]=!0)):clickOutsideSels[r]&&(clickOutsideSels[r][0]=!1,clickOutsideSet=!1)},_a.Clone=a=>{let r=_getSel(a,a.actVal);if(r)if("IFRAME"==r.tagName){if("complete"!=r.contentWindow.document.readyState)return setTimeout(_a.Clone.bind(this,a),200),!1;let n=_getActiveID(r);mimicClones[n]=document.importNode(r.contentWindow.document.body,!0)}else{let a=_getActiveID(r);mimicClones[a]=document.importNode(r,!0)}},_a.ConsoleLog=a=>{console.log(a.actVal._ACSSRepQuo())},_a.CopyToClipboard=a=>{let r=_getSel(a,a.actVal);if(-1!==["INPUT","TEXTAREA"].indexOf(r.tagName)){let a="readonly"==r.getAttribute("readonly");r.removeAttribute("readonly"),r.select(),document.execCommand("copy"),a&&r.setAttribute("readonly","readonly")}else{let a=document.createElement("textarea");a.id="activecss-copy-field",a.innerHTML=r.innerText,document.body.appendChild(a);let n=document.getElementById("activecss-copy-field");n.select(),document.execCommand("copy"),ActiveCSS._removeObj(n)}},_a.CreateCommand=a=>{let r=a.actVal.trim().split(" ")[0],n=a.actVal.replace(r,"").trim();r=r._ACSSConvFunc(),_a[r]||(n=ActiveCSS._sortOutFlowEscapeChars(n).slice(2,-2),n=_handleVarsInJS(n),n='let actionName = o.actName,actionPosition = o.actPos,actionValue = o.actVal,actionValueUnEval = o.actValSing,actionValuesUnEval = o.origActVal,actionFunc = o.func,eventSelector = o.obj,eventSelectorName = o.primSel,carriedEventObject = o.ajaxObj,conditionals = o.passCond,targetSelector = o.secSelObj,targetSelectorName = o.origSecSel,activeID = o.activeID,doc = o.doc,e = o.e,eventName = o.event,configFile = o.file,configLine = o.line,rulesArray = o.rules,selectorRef = o.secSel,compDoc = o.compDoc,component = o.component,_loopVars = o.loopVars,_loopRef = o.loopRef,_activeVarScope = (o.varScope && privVarScopes[o.varScope]) ? o.varScope : "main";scopedVars[_activeVarScope] = (scopedVars[_activeVarScope] === undefined) ? {} : scopedVars[_activeVarScope];'+n,_a[r]=new Function("o","scopedVars","privVarScopes",n))},_a.CreateConditional=a=>{let r=a.actVal.trim().split(" ")[0],n=a.actVal.replace(r,"").trim();r=r._ACSSConvFunc(),_c[r]||(n=ActiveCSS._sortOutFlowEscapeChars(n).slice(2,-2),n=_handleVarsInJS(n),n='let conditionalName = o.actName,conditionalFunc = o.func,conditionalValue = o.actVal,eventSelectorName = o.primSel,eventSelector = o.obj,e = o.e,doc = o.doc,component = o.component,compDoc = o.compDoc,carriedEventObject = o.ajaxObj,_activeVarScope = (o.varScope && privVarScopes[o.varScope]) ? o.varScope : "main";scopedVars[_activeVarScope] = (scopedVars[_activeVarScope] === undefined) ? {} : scopedVars[_activeVarScope];'+n,_c[r]=new Function("o","scopedVars","privVarScopes",n))},_a.CreateElement=a=>{let r,n,c,l,s,i,u,p,d=a.actVal,_="";p=d.split(" "),r=p[0],n=r.toUpperCase();let f=!1;if(customTags.includes(n)&&(f=!0),p[1]&&-1===p[1].indexOf("observe(")){u=p[1],void 0===config[r]&&(config[r]={}),void 0===config[r].draw&&(config[r].draw={}),void 0===config[r].draw[0]&&(config[r].draw[0]=[]),void 0===config[r].draw[0][0]&&(config[r].draw[0][0]=[]);let a=[];a["&"]=[],a["&"][0]={file:"",line:"",intID:intIDCounter++,name:"render",value:'"{|_acss-host_'+u+'}"'},f&&void 0!==config[r].draw[0][0][0]&&void 0!==config[r].draw[0][0][0]["&"]&&void 0!==config[r].draw[0][0][0]["&"][0]&&"render"==config[r].draw[0][0][0]["&"][0].name&&config[r].draw[0][0][0]["&"][0].value=='"{|_acss-host_'+u+'}"'||(config[r].draw[0][0].unshift(a),_setupEvent("draw",r))}if(!f){for(l of(c=_getParVal(d,"observe").split(" "),c))l&&(_+="'"+l.trim()+"',");customTags.push(n),s=r._ACSSConvFunc(),i="ActiveCSS.customHTMLElements."+s+" = class "+s+" extends HTMLElement {",_&&(i+="static get observedAttributes() {return ["+_.slice(0,-1)+"];}"),i+="constructor() {super();}connectedCallback() {let compDetails = _componentDetails(this);_handleEvents({ obj: this, evType: 'connectedCallback', component: compDetails.component, compDoc: compDetails.compDoc, varScope: compDetails.varScope, evScope: compDetails.evScope });}disconnectedCallback() {let compDetails = _componentDetails(this);_handleEvents({ obj: this, evType: 'disconnectedCallback', component: compDetails.component, compDoc: compDetails.compDoc, varScope: compDetails.varScope, evScope: compDetails.evScope, runButElNotThere: true });}",_&&(i+="attributeChangedCallback(name, oldVal, newVal) {if (!oldVal && oldVal !== '' || oldVal === newVal) return;this.setAttribute(name + '-old', oldVal); let ref = this._acssActiveID.replace('d-', '') + 'HOST' + name;ActiveCSS._varUpdateDom([{currentPath: ref, previousValue: oldVal, newValue: newVal, type: 'update'}]);let compDetails = _componentDetails(this);_handleEvents({ obj: this, evType: 'attrChange' + name._ACSSConvFunc(), component: compDetails.component, compDoc: compDetails.compDoc, varScope: compDetails.varScope, evScope: compDetails.evScope });}"),i+="};customElements.define('"+r+"', ActiveCSS.customHTMLElements."+s+");",Function("_handleEvents, _componentDetails",'"use strict";'+i)(_handleEvents,_componentDetails)}},_a.DocumentTitle=a=>{document.title=a.actVal._ACSSRepQuo()},_a.Eval=o=>{let evalContent=ActiveCSS._sortOutFlowEscapeChars(o.actVal.trim().slice(2,-2));eval(evalContent)},_a.FocusOff=a=>{_a.Blur(a)},_a.FocusOn=a=>{_focusOn(a)};const _focusOn=(a,r,n=!1)=>{let c,l,s,i,u,p=!1,d=1,_=a.actVal;"pcc"!=r&&"ncc"!=r||(-1!==_.indexOf(" click")&&(p=!0,_=_.replace(/ click/,"")),_=_.replace(/ ([\d]+)( |$)?/gm,(function(a,r){return d=r,""})),_=_.trim());if(-1!==["l","n","p","nc","pc","ncc","pcc"].indexOf(r))if("l"!=r)s=_getFocusedOfNodes(_,a),l=s[0],i=s[1],"pcc"!=r&&"ncc"!=r||d>l.length&&(d%=l.length);else{let r=_splitIframeEls(_,a);if(!r)return!1;l=r[0].querySelectorAll(r[1])||null}switch(r){case"p":case"pc":case"pcc":if("p"==r){if(0===i)return}else i=d>i?l.length-d-i+1:i-d+1;c=l[i-1];break;case"n":case"nc":case"ncc":if("n"==r){if(i==l.length-1)return}else i=l.length<=d+i?d+i-l.length-1:i+d-1;c=l[i+1];break;case"l":c=l[l.length-1];break;default:c=_getSel(a,_)}if(c)return u="FORM"==c.tagName?c.elements[0]:c,!p||"pcc"!=r&&"ncc"!=r?n||("Click"==a.func.substr(0,5)?ActiveCSS.trigger(u,"click"):c.focus()):(ActiveCSS.trigger(u,"click"),setTimeout((function(){u.focus()}),0)),u};_a.FocusOnFirst=a=>{_focusOn(a)},_a.FocusOnLast=a=>{_focusOn(a,"l")},_a.FocusOnNext=a=>{_focusOn(a,"n")},_a.FocusOnNextCycle=a=>{_focusOn(a,"nc")},_a.FocusOnPrevious=a=>{_focusOn(a,"p")},_a.FocusOnPreviousCycle=a=>{_focusOn(a,"pc")},_a.FormReset=a=>{let r=_getSel(a,a.actVal);r&&"FORM"==r.tagName&&r.reset()},_a.FullscreenExit=a=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},_a.FullscreenOn=a=>{let r=a.secSelObj;r.requestFullscreen?r.requestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.msRequestFullscreen&&r.msRequestFullscreen()},_a.Func=a=>{let r=[];a.actVal=a.actVal._ACSSSpaceQuoIn();let n=a.actVal.trim().split(" "),c=n.splice(0,1);if("function"!=typeof window[c])console.log(c+" is not a function.");else{let l;for(l of n)l="true"==l||"false"!=l&&(isNaN(l)?l._ACSSSpaceQuoOut()._ACSSRepQuo():parseFloat(l)),r.push(l);window[c](a,r)}},_a.IframeReload=a=>{let r=a.secSelObj.cloneNode(!1);a.secSelObj.parentNode.insertBefore(r,a.secSelObj),ActiveCSS._removeObj(a.secSelObj)},_a.LoadConfig=a=>{a.actVal=a.actVal._ACSSRepQuo().trim(),_addActValRaw(a),configArr.includes(a.avRaw)?_handleEvents({obj:a.obj,evType:"afterLoadConfig",eve:a.e,varScope:a.varScope,evScope:a.evScope,compDoc:a.compDoc,component:a.component,_maEvCo:a._maEvCo,_taEvCo:a._taEvCo}):(a.file=a.actVal,_getFile(a.actVal,"txt",a))},_a.LoadImages=a=>{let r=a.actVal;a.doc.querySelectorAll("img["+r+"], picture source["+r+"]").forEach((function(a,n){let c="IMG"==a.tagName?"src":"srcset";a.setAttribute(c,a.getAttribute(r)),a.removeAttribute(r)}))},_a.LoadScript=(a,r)=>{let n=a.actVal._ACSSRepQuo(),c=supportsShadow&&a.compDoc instanceof ShadowRoot,l=("style"==r&&c?a.varScope+"|":"")+_getBaseURL(n);if(!scriptTrack.includes(l)){let s="style"==r?"link":"script",i="style"==r?"href":"src",u=document.createElement(s);"style"==r&&(u.rel="stylesheet"),u[i]=n,u.onload=function(){_handleEvents({obj:a.obj,evType:"afterLoad"+("style"==r?"Style":"Script"),eve:a.e,varScope:a.varScope,evScope:a.evScope,compDoc:a.compDoc,component:a.component,_maEvCo:a._maEvCo,_taEvCo:a._taEvCo})},c?a.compDoc.appendChild(u):document.head.appendChild(u),scriptTrack.push(l)}},_a.LoadStyle=a=>{_a.LoadScript(a,"style")},_a.Location=a=>{let r=a.actVal._ACSSRepQuo();a.doc.contentWindow?a.doc.contentWindow.document.location.href=r:document.location.href=r},_a.MediaControl=a=>{let r=a.secSelObj,n=a.actVal.split(" ");if(n[1])switch(n[1]=n[1]._ACSSRepQuo(),n[0]){case"load":r.setAttribute("src",n[1]);break;case"seek":r.currentTime=parseFloat(n[1]);break;case"volume":r.volume=parseFloat(n[1])}switch(n[0]){case"play":r.play();break;case"pause":r.pause();break;case"load":r.load()}},_a.MimicInto=a=>{let r,n,c,l,s;if(r=a.secSelObj,"title"==a.actVal)s="title",n="title",c=currDocTitle;else{if(s=_getSel(a,a.actVal),!s)return;n="INPUT"==s.tagName||"TEXTAREA"==s.tagName?"input":"text"}l=_getFieldValType(r),"title"!=a.actVal&&(c=r[l]);var i,u=0,p=a.secSelObj.form||a.secSelObj.closest("form");switch(p&&(p.cjsReset||(p.cjsReset=[],p.addEventListener("reset",_mimicReset)),"title"==n?p.cjsReset.title||(p.cjsReset.title=r.getAttribute("value")):r.activeResetValueSet||(u=p.cjsReset.length,p.cjsReset[u]={},p.cjsReset[u].el=s,p.cjsReset[u].value=c,p.cjsReset[u].type=n,r.activeResetValueSet=!0)),i=a.secSelObj[l],n){case"input":s.value=i;break;case"text":s.innerText=i;break;case"title":document.title=ActiveCSS._decodeHTML(i),currDocTitle=ActiveCSS._decodeHTML(i)}},_a.PreventDefault=a=>{a.e&&a.e.preventDefault()},_a.Remove=a=>{let r=_getSel(a,a.actVal.trim(),!0);if(!1!==r)ActiveCSS._removeObj(r);else{let r=_splitIframeEls(a.actVal,a);if(!r)return!1;r[0].querySelectorAll(r[1]).forEach((function(a){ActiveCSS._removeObj(a)}))}},_a.RemoveAttribute=a=>{a.secSelObj.removeAttribute(a.actVal)},_a.RemoveClass=a=>(ActiveCSS._removeClassObj(a.secSelObj,a.actVal),!0),_a.RemoveClone=a=>{let r=_getSel(a,a.actVal),n=_getActiveID(r);n&&(mimicClones[n]=null)},_a.RemoveCookie=a=>{let r,n,c,l,s=a.actVal._ACSSRepAllQuo();r=encodeURIComponent(_getParVal(s,"name")),n=_getParVal(s,"domain"),c=_getParVal(s,"path"),l=`${r}=; expires=Thu, 01 Jan 1970 00:00:00 GMT;`,l+=n?` domain=${n};`:"",l+=c?` path=${c};`:"",document.cookie=l},_a.RemoveProperty=a=>{a.secSelObj.style.removeProperty(a.actVal)},_a.Render=a=>{let r=_handleQuoAjax(a,a.actVal),n="",c="";if(a.secSelObj.nodeType===Node.ELEMENT_NODE){let l=a.secSelObj.cloneNode(!0);-1!==r.indexOf("{$SELF}")&&(n=l.outerHTML,a.renderPos="replace"),c=l.innerHTML}r=_replaceComponents(a,r),r=_replaceStringVars(a.ajaxObj,r),""!=c&&(r=_renderRefElements(r,c,"CHILDREN")),""!=n&&(r=_renderRefElements(r,n,"SELF")),r=_replaceScopedVars(r,a.secSelObj,"Render",null,!1),_renderIt(a,r,c,n)},_a.RenderAfterBegin=a=>{a.renderPos="afterbegin",_a.Render(a)},_a.RenderAfterEnd=a=>{a.renderPos="afterend",_a.Render(a)},_a.RenderBeforeBegin=a=>{a.renderPos="beforebegin",_a.Render(a)},_a.RenderBeforeEnd=a=>{a.renderPos="beforeend",_a.Render(a)},_a.RenderReplace=a=>{a.renderPos="replace",_a.Render(a)},_a.RestoreClone=a=>{let r=_getSel(a,a.actVal),n=_getActiveID(r);if(mimicClones[n])if("IFRAME"==r.tagName){if("complete"!=r.contentWindow.document.readyState)return!1;setTimeout((function(){r.contentWindow.document.body=mimicClones[n]}),0)}else setTimeout((function(){let c=r.parentNode;c.replaceChild(mimicClones[n],r),_a.Trigger({secSel:"",actVal:"draw",secSelObj:c,ajaxObj:a.ajaxObj,e:a.el||null})}),0)},_a.Run=a=>{let r,n='"use strict";'+a.actVal.replace(/\{\=([\s\S]*?)\=\}/m,(function(a,n){return r=_handleVarsInJS(ActiveCSS._sortOutFlowEscapeChars(n)),r})),c=a.varScope&&privVarScopes[a.varScope]?a.varScope:"main";scopedVars[c]=void 0===scopedVars[c]?{}:scopedVars[c];try{Function("scopedVars, _activeVarScope",n)(scopedVars,c)}catch(a){console.log("Function syntax error ("+a+"): "+n)}},_a.ScrollIntoView=a=>{let r=a.actVal.split(" "),n="start",c="nearest",l=_optDef(r,"behaviour-smooth","smooth","auto");"true"==a.actVal||"false"==a.actVal&&(n="end"),n=_optDef(r,"block-center","center",n),n=_optDef(r,"block-end","end",n),n=_optDef(r,"block-nearest","nearest",n),c=_optDef(r,"inline-center","center",c),c=_optDef(r,"inline-end","end",c),c=_optDef(r,"inline-nearest","nearest",c);try{a.secSelObj.scrollIntoView({behaviour:l,block:n,inline:c})}catch(r){a.secSelObj.scrollIntoView({behaviour:l,inline:c})}},_a.ScrollX=a=>{if("body"==a.secSel)"left"==a.actVal?window.scrollTo({left:0}):"right"==a.actVal?window.scrollTo({left:1e7}):window.scrollTo({left:a.actVal});else{let r=a.secSelObj;"left"==a.actVal?r.scrollLeft=0:"right"==a.actVal?r.scrollLeft=1e7:r.scrollLeft=a.actVal}},_a.ScrollY=a=>{if("body"==a.secSel)"top"==a.actVal?window.scrollTo({top:0}):"bottom"==a.actVal?window.scrollTo({top:1e7}):window.scrollTo({top:a.actVal});else{let r=a.secSelObj;r&&("top"==a.actVal?r.scrollTop=0:"bottom"==a.actVal?r.scrollTop=r.scrollHeight:r.scrollTop=a.actVal)}},_a.SelectAll=a=>{requestAnimationFrame(()=>document.execCommand("selectAll"))},_a.SelectNone=a=>{getSelection().removeAllRanges()},_a.SetAttribute=a=>{a.actVal=a.actVal._ACSSSpaceQuoIn();let r=a.actVal.split(" ");r[1]=_handleQuoAjax(a,r[1])._ACSSSpaceQuoOut(),a.secSelObj.setAttribute(r[0],r[1])},_a.SetClass=a=>{let r=a.actVal.replace(/\./g,"")._ACSSRepQuo();_setClassObj(a.secSelObj,r)},_a.SetCookie=a=>{let r,n,c,l,s,i,u,p,d,_,f=a.actVal;if(f=f.replace(/\\\"/g,"_ACSS_escaped_quote"),f=f._ACSSSpaceQuoIn(),f=f.replace(/_ACSS_escaped_quote/g,'\\"'),r=encodeURIComponent(_getParVal(f,"name")._ACSSRepQuo()),n=encodeURIComponent(_getParVal(f,"value")._ACSSSpaceQuoOut()._ACSSRepQuo()),c=_getParVal(f,"expires")._ACSSSpaceQuoOut()._ACSSRepQuo(),"Infinity"==c)c="Fri, 31 Dec 9999 23:59:59 GMT";else{let a=_getPastFutureDate(c);c=a instanceof Date?a.toUTCString():c}if(l=_getParVal(f,"maxAge")._ACSSRepQuo(),l){new RegExp("^\\d+$").test(l)||console.log("set-cookie error: maxAge is not a number.")}s=_getParVal(f,"domain")._ACSSRepQuo(),i=_getParVal(f,"path")._ACSSRepQuo(),_=_getParVal(f,"sameSite")._ACSSCapitalize()._ACSSRepQuo();let S=f.split(" ");u=_optDef(S,"httponly",!0,!1),d=_optDef(S,"secureIfHttps",!0,!1),p=d?"https:"==window.location.protocol:_optDef(S,"secure",!0,!1);let m=`${r}=${n};`;m+=c?` Expires=${c};`:"",m+=l?` Max-Age=${l};`:"",m+=s?` Domain=${s};`:"",m+=i?` Path=${i};`:"",m+=p?" Secure;":"",m+=_?` SameSite=${_};`:"",m+=u?" HttpOnly;":"",m=m._ACSSSpaceQuoOut(),document.cookie=m},_a.SetProperty=a=>{a.actVal=a.actVal._ACSSSpaceQuoIn();let r=a.actVal.split(" ");r[1]=_handleQuoAjax(a,r[1])._ACSSSpaceQuoOut(),a.secSelObj[r[0]]="true"==r[1]||"false"!=r[1]&&r[1]},_a.StopEventPropagation=a=>{void 0!==maEv[a._maEvCo]&&(maEv[a._maEvCo]._acssStopEventProp=!0)},_a.StopImmediateEventPropagation=a=>{void 0!==taEv[a._taEvCo]&&(taEv[a._taEvCo]._acssStopImmedEvProp=!0),void 0!==maEv[a._maEvCo]&&(maEv[a._maEvCo]._acssStopEventProp=!0)},_a.StopImmediatePropagation=a=>{a.e&&a.e.stopImmediatePropagation(),_a.StopImmediateEventPropagation(a)},_a.StopPropagation=a=>{a.e&&a.e.stopPropagation(),_a.StopEventPropagation(a)},_a.Style=a=>{let r=_handleQuoAjax(a,a.actVal).split(" "),n=r.shift();a.secSelObj.style[n]=r.join(" ")},_a.TakeClass=a=>{let r=a.actVal.substr(1);_eachRemoveClass(r,r,a.doc),_a.AddClass(a)},_a.ToggleClass=a=>{let r=a.actVal.replace(/\./g,"");_toggleClassObj(a.secSelObj,r)},_a.Trigger=a=>{"string"==typeof a.secSel&&"~"==a.secSel.substr(0,1)?_handleEvents({obj:a.secSel,evType:a.actVal,otherObj:a.ajaxObj,eve:a.e,origObj:a.obj,varScope:a.varScope,evScope:a.evScope,compDoc:a.compDoc,component:a.component,_maEvCo:a._maEvCo,_taEvCo:a._taEvCo}):"draw"==a.actVal?_runInnerEvent(a,null,"draw"):"body"==a.secSel||"window"==a.secSel?(_handleEvents({obj:"body",evType:a.actVal}),_handleEvents({obj:"window",evType:a.actVal})):_handleEvents({obj:a.secSelObj,evType:a.actVal,otherObj:a.ajaxObj,eve:a.e,varScope:a.varScope,evScope:a.evScope,compDoc:a.compDoc,component:a.component,_maEvCo:a._maEvCo,_taEvCo:a._taEvCo})},_a.TriggerReal=a=>{if(_isConnected(a.secSelObj))try{a.secSelObj.addEventListener(a.actVal,(function(a){}),{capture:!0,once:!0}),a.secSelObj[a.actVal]()}catch(a){console.log("Active CSS error: Only DOM events support trigger-real.")}else _a.StopPropagation(a)},_a.UrlChange=a=>{let r=a.actVal.split(" ")[0],n=a.actVal.replace(r,"").trim();""==n&&(n=document.title),_urlTitle(r,n,a)},_a.Var=a=>{let r=a.actVal.trim().split(" "),n=r.shift(),c=r.join(" ");c||(n.endsWith("++")?(n=n.slice(0,-2),c="{"+n+"}+1"):n.endsWith("--")?(n=n.slice(0,-2),c="{"+n+"}-1"):c="null"),n=_prefixScopedVars(n,a.varScope,"varname"),c=_prefixScopedVars(c,a.varScope);let l,s=!1;if(n.startsWith("window."))s=!0,l=n,l=_resolveInnerBracketVars(l);else if(n.startsWith("scopedVars."))l=n;else{l=n;let r=a.varScope&&privVarScopes[a.varScope]?a.varScope:"main";l=l.replace("scopedVars."+r+".",""),l=r+"."+l,l=_resolveInnerBracketVars(l),l=_resolveInheritance(l).name}l=l.replace("scopedVars.",""),c=_replaceHTMLVars(a,c),c="{="+c+"=}";let i=_replaceJSExpression(c,!0,null,a.varScope);_set(s?window:scopedVars,l,i)},ActiveCSS.first=a=>_focusOn({actVal:a},null,!0),ActiveCSS.last=a=>_focusOn({actVal:a},"l",!0),ActiveCSS.next=a=>_focusOn({actVal:a},"n",!0),ActiveCSS.nextCycle=a=>_focusOn({actVal:a},"ncc",!0),ActiveCSS.previous=a=>_focusOn({actVal:a},"p",!0),ActiveCSS.previousCycle=a=>_focusOn({actVal:a},"pcc",!0),ActiveCSS.trigger=(a,r,n,c,l,s)=>{"object"==typeof a?_handleEvents({obj:a,evType:r,varScope:n,evScope:s,compDoc:c,component:l}):_a.Trigger({secSel:a,actVal:r,varScope:n,evScope:s,compDoc:c,component:l})},ActiveCSS.triggerReal=(a,r,n,c,l)=>{"string"==typeof a&&(a=document.querySelector(a)),a?_a.TriggerReal({secSelObj:a,actVal:r,varScope:n,compDoc:c,component:l}):console.log("No object found in document to triggerReal.")},_c.IfCompletelyVisible=a=>ActiveCSS._ifVisible(a,!0),_c.IfCookieEquals=a=>{let r=a.actVal.split(" ");if(!_cookieExists(r[0]))return!1;let n=r[0];return r.shift(),r=r.join(" "),_getCookie(n)==r._ACSSRepQuo()},_c.IfCookieExists=a=>_cookieExists(a.actVal),_c.IfDisplay=a=>{let r=a.doc.querySelector(a.actVal);return r&&"none"!==getComputedStyle(r,null).display},_c.IfEmpty=a=>_selCompare(a,"eM"),_c.IfExists=a=>!!_getSel(a,a.actVal),_c.IfFocusFirst=a=>_ifFocus(a),_c.IfFocusLast=a=>_ifFocus(a,!1),_c.IfFormChanged=a=>_checkForm(_getSel(a,a.actVal),"check"),_c.IfFunc=a=>{if("true"==a.actVal)return!0;if("false"==a.actVal)return!1;try{return window[a.actVal](a)}catch(r){return console.log("Active CSS: Function "+a.actVal+" does not exist."),!1}},_c.IfHasClass=a=>{let r=_actValSelItem(a);return r[0]&&ActiveCSS._hasClassObj(r[0],r[1].substr(1))},_c.IfInnerHtml=a=>_selCompare(a,"iH"),_c.IfInnerText=a=>_selCompare(a,"iT"),_c.IfMaxHeight=a=>_selCompare(a,"maH"),_c.IfMaxLength=a=>_selCompare(a,"maL"),_c.IfMaxWidth=a=>_selCompare(a,"maW"),_c.IfMediaMaxWidth=a=>window.matchMedia("all and (max-width: "+a.actVal+")").matches,_c.IfMediaMinWidth=a=>window.matchMedia("all and (min-width: "+a.actVal+")").matches,_c.IfMinHeight=a=>_selCompare(a,"miH"),_c.IfMinLength=a=>_selCompare(a,"miL"),_c.IfMinWidth=a=>_selCompare(a,"miW"),_c.IfScrolltopGreater=a=>"body"==a.obj?(window.pageYOffset||document.documentElement.scrollTop)>a.actVal:a.obj.scrollTop>a.actVal,_c.IfScrolltopLess=a=>"body"==a.obj?(window.pageYOffset||document.documentElement.scrollTop)<a.actVal:a.obj.scrollTop<a.actVal,_c.IfSelection=a=>{let r=window.getSelection();return a.actVal=a.actVal._ACSSRepQuo().trim(),r.toString()==a.actVal},_c.IfVar=a=>{let r=a.actVal._ACSSSpaceQuoIn().split(" ");if(1==r.length)return _ifVarTrue(a.actVal,a.varScope);{let n=r.shift(),c=r.join(" ")._ACSSSpaceQuoOut();c="true"==c||"false"!=c&&c,"boolean"!=typeof c&&(c="string"==typeof c&&-1===c.indexOf('"')?Number(c._ACSSRepQuo()):c._ACSSRepQuo());let l=(a.varScope&&privVarScopes[a.varScope]?a.varScope:"main")+"."+n;l=_resolveInnerBracketVars(l);let s=_resolveInheritance(l).val;return void 0===s&&(s=window[n]),typeof s==typeof c&&s==c}},_c.IfVarTrue=a=>(a.actVal+=" true",_c.IfVar(a)),_c.IfVisible=a=>ActiveCSS._ifVisible(a),_c.MqlTrue=a=>mediaQueries[a.actVal].val;const _addCancelAttr=(a,r)=>{let n=_getActiveID(a);cancelIDArr[n]||(cancelIDArr[n]=[]),cancelIDArr[n][r]=!0},_clearTimeouts=a=>{clearTimeout(a),clearInterval(a)},_delaySplit=(a,r,n)=>{let c,l,s;return c=new RegExp("("+r+' (stack|([\\{]?[\\@]?[\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w_\\-\\.\\:\\[\\]]+[\\}]?)(s|ms)))(?=(?:[^"]|"[^"]*")*)',"gm"),{str:(a=(a=a.replace(c,(function(a,r,c,s,i){return s&&-1!==s.indexOf("{")?(s=s.replace(/[\{\}]+/g,""),l=_replaceJSExpression("{="+s+"=}",!0,!1,n)+i):l=c,l=_convertToMS(l,"Invalid delay number format: "+r),""}))).replace(/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w_]+)(?=(?:[^"]|"[^"]*")*)$/gm,(function(a,n){return s=n.split(" ")[1],"every"==r?"":n}))).trim(),tim:l,lab:s}},_removeCancel=(a,r,n,c,l)=>{if(delayArr[a]&&delayArr[a][r]&&delayArr[a][r][n]&&delayArr[a][r][n][c]){let s=delayArr[a][r][n][c][l];if(s&&labelByIDs[s]){let a=labelByIDs[s];labelByIDs.splice(labelByIDs.indexOf[s]),delete labelData[a.lab]}delayArr[a][r][n][c][l]=null}["~","|"].includes(a.substr(0,1))?cancelCustomArr[a]&&cancelCustomArr[a][r]&&cancelCustomArr[a][r][n]&&cancelCustomArr[a][r][n][c]&&(cancelCustomArr[a][r][n][c][l]=null):cancelIDArr[a]&&cancelIDArr[a][r]&&(cancelIDArr[a][r]=null)},_setupLabelData=(a,r,n,c,l,s,i)=>{delayArr[r][n][c][l][s]=i,a&&(labelData[a]={del:r,func:n,pos:c,intID:l,loopRef:s,tid:i},labelByIDs[i]={del:r,func:n,pos:c,intID:l,loopRef:s,lab:a})},_unloadAllCancelTimer=()=>{let a;for(a in delayArr)_unloadAllCancelTimerLoop(a);delayArr=[],cancelIDArr=[],labelData=[],labelByIDs=[]},_unloadAllCancelTimerLoop=a=>{let r,n,c,l;for(r in delayArr[a])for(n in delayArr[a][r])for(c in delayArr[a][r][n])for(l in delayArr[a][r][n][c])_clearTimeouts(delayArr[a][r][n][c][l])},_actionValLoop=(a,r,n,c)=>{let l,{loopI:s,actVals:i,actValsLen:u}=r;for(l=0;l<u;l++)a.actVal=i[l].trim(),a.actPos=l,a.secSelObj=n,_handleFunc(a,null,c)},_addInlinePriorToRender=a=>{if(-1!==(a=a.replace(/_ACSS_later_brace_start/g,"{")).indexOf("<style ")&&-1!==a.indexOf('"text/acss"')){let r=document.createElement("div");r.innerHTML=a;let n=r.querySelectorAll('style[type="text/acss"]');n&&_getInline(n)}return a},_checkScopeForEv=a=>{let r=compParents[a];return!(!r||!r.evScope||r.evScope==a)&&{compDoc:r.compDoc,topVarScope:r.varScope,evScope:r.evScope,component:r.component?"|"+r.component:null,privateEvs:r.privateEvs}},_cloneAttrs=(a,r)=>{let n,c=Array.prototype.slice.call(r.attributes);for(n of c)"href"!=n.nodeName&&("class"==n.nodeName?ActiveCSS._addClassObj(a,n.nodeValue):a.getAttribute(n.nodeName)||a.setAttribute(n.nodeName,n.nodeValue));a.setAttribute("data-active-nav","1")},_escapeInline=(a,r)=>{let n=r.split(" ")[0],c=new RegExp("<"+r+"([\\s\\S]*?)>([\\s\\S]*?)</"+n+">","gmi");return a=a.replace(c,(function(a,c,l){return"<"+r+c+">"+l.replace(/\{/g,"_ACSS_later_brace_start")+"</"+n+">"}))},_handleClickOutside=(a,r)=>{let n,c;for(n in clickOutsideSels)if(clickOutsideSels[n][0]&&(c=idMap[n],c&&!c.contains(a)&&_handleEvents({obj:c,evType:"clickoutside",eve:r,otherObj:a})&&!clickOutsideSels[n][1]))return!1;return!0},_handleEvents=a=>{let r,{obj:n,evType:c,onlyCheck:l,otherObj:s,eve:i,afterEv:u,origObj:p,runButElNotThere:d,evScope:_,compDoc:f,_maEvCo:S}=a;r=f||document;let m=a.varScope,v=a.component?"|"+a.component:null;if("string"!=typeof n&&!n||!selectors[c]||void 0===c)return!1;let g,b,C,h=[],A=selectors[c].length;"draw"==c&&(n._acssDrawn=!0);let y,E,O={compDoc:f,topVarScope:m,evScope:_,component:v,privateEvs:compPrivEvs[_]},D=O,V=!0;if(v&&("string"==typeof n||"draw"!=c||-1===customTags.indexOf(n.tagName)))for(;;){for(g=0;g<A;g++){let a=selectors[c][g];if(C=a.indexOf(":"),a.substr(0,C)===O.component&&(b=a.substr(C+1),("string"==typeof n||"~"!=b.substr(0,1))&&(b=u&&p?_replaceAttrs(p,b):b,-1===b.indexOf("<")&&!h.includes(a))))if("&"==b)h.push({primSel:a,componentRefs:O});else if("string"!=typeof n)try{n.matches(b)&&h.push({primSel:a,componentRefs:O})}catch(a){console.log("Active CSS warning: "+b+" is not a valid CSS selector, skipping. (err: "+a+")")}else n==b&&h.push({primSel:a,componentRefs:O})}if(O.privateEvs||-1!==["beforeComponentOpen","componentOpen"].indexOf(c))V=!1;else if(O=_checkScopeForEv(O.evScope),!1!==O)continue;break}if(V)for(O=D,g=0;g<A;g++){let a=selectors[c][g];if("|"!=a.substr(0,1)&&("string"==typeof n||"~"!=a.substr(0,1))&&(b=u&&p?_replaceAttrs(p,a):a,-1===b.indexOf("<")&&!h.includes(a)))if("string"!=typeof n)try{n.matches(b)&&h.push({primSel:a,componentRefs:O})}catch(a){console.log("Active CSS warning: "+b+" is not a valid CSS selector, skipping. (err: "+a+")")}else n==b&&h.push({primSel:a,componentRefs:O})}"string"==typeof n&&(n=p||n),A=h.length;let w,j,x=0,I=[];for(y=0;y<A;y++){let a=h[y].primSel,{compDoc:u,topVarScope:p,evScope:d,component:_}=h[y].componentRefs;if(_=_?_.substr(1):null,config[a]&&config[a][c]){if(l)return!0;for(j in config[a][c])x++,"0"!=j&&_passesConditional(n,y,j,c,s,r,p,_,i,u)&&(I[x]=j)}}x=0;e:for(y=0;y<A;y++){let r=h[y].primSel,{compDoc:l,topVarScope:u,evScope:p,component:_}=h[y].componentRefs;if(_=_?_.substr(1):null,config[r]&&config[r][c])for(j in config[r][c]){if(x++,w="","0"!=j){if(void 0===I[x])continue;w=I[x]}if(E=config[r][c][j],!1!==E){let r,f;for(r in E)if(f={chilsObj:E,originalLoops:r,secSelLoops:r,obj:n,compDoc:l,evType:c,varScope:u,evScope:p,evObj:a,otherObj:s,passCond:w,sel:y,component:_,selectorList:h,eve:i,_maEvCo:S,runButElNotThere:d},_performSecSel(f),void 0!==maEv[S]&&maEv[S]._acssStopImmedEvProp)break e}}}return!0},_handleFunc=function(a,r=null,n=!1){let c;if("string"==typeof a.secSel&&["~","|"].includes(a.secSel.substr(0,1)))c=a.secSel;else{if(!n&&!_isConnected(a.secSelObj))return r&&(delayArr[r]&&_unloadAllCancelTimerLoop(r),delayArr[r]=null,cancelIDArr[r]=null,cancelCustomArr[r]=null),_a.StopPropagation(a),void delete idMap[a.secSelObj];c=_getActiveID(a.secSelObj)}if("0"!=a.loopRef&&(a.actVal=_replaceLoopingVars(a.actVal,a.loopVars)),a.actVal.match(/(after|every) (stack|(\{)?(\@)?[\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\:\[\]]+(\})?(s|ms))(?=(?:[^"]|"[^"]*")*$)/gm)){let r,l,s,i=Object.assign({},a),u=["after","every"];for(r of u)if(l=_delaySplit(i.actVal,r,a.varScope),s=a.varScope?a.varScope:"main",l.lab&&(l.lab=s+l.lab),"number"==typeof l.tim&&l.tim>=0){if(i.actVal=l.str,i.actValSing=i.actVal,delayArr[c]=void 0!==delayArr[c]?delayArr[c]:[],delayArr[c][i.func]=void 0!==delayArr[c][i.func]?delayArr[c][i.func]:[],delayArr[c][i.func][i.actPos]=void 0!==delayArr[c][i.func][i.actPos]?delayArr[c][i.func][i.actPos]:[],delayArr[c][i.func][i.actPos][i.intID]=void 0!==delayArr[c][i.func][i.actPos][i.intID]?delayArr[c][i.func][i.actPos][i.intID]:[],delayArr[c][i.func][i.actPos][i.intID][i.loopRef]&&(_clearTimeouts(delayArr[c][i.func][i.actPos][i.intID][i.loopRef]),_removeCancel(c,i.func,i.actPos,i.intID,i.loopRef)),i.delayed=!0,"after"==r)return void _setupLabelData(l.lab,c,i.func,i.actPos,i.intID,i.loopRef,setTimeout(_handleFunc.bind(this,i,c,n),l.tim));i.interval=!0,_setupLabelData(l.lab,c,i.func,i.actPos,i.intID,i.loopRef,setInterval(_handleFunc.bind(this,i,c,n),l.tim)),a.interval=!0,a.actValSing=l.str}}else a.actValSing=a.actVal;if(-1!==a.actValSing.indexOf("label ")&&(a.actValSing=a.actValSing.replace(/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w_]+)(?=(?:[^"]|"[^"]*")*)/gm,"")),"string"==typeof a.secSel&&["~","|"].includes(a.secSel.substr(0,1))&&cancelCustomArr[c]&&cancelCustomArr[c][a.func]&&cancelCustomArr[c][a.func][a.actPos]&&cancelCustomArr[c][a.func][a.actPos][a.intID]&&cancelCustomArr[c][a.func][a.actPos][a.intID][a.loopRef])_removeCancel(c,a.func,a.actPos,a.intID,a.loopRef);else if(!(a.delayed&&cancelIDArr[c]&&cancelIDArr[c][a.func])){if("Var"==a.func&&(a.actValSing=a.actValSing.replace(/__ACSS_int_com/g,",")),a.actVal=_replaceAttrs(a.obj,a.actValSing,a.secSelObj,a,a.func,a.varScope).trim(),(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput(a),"function"!=typeof _a[a.func])a.secSelObj.style[a.actName]=a.actVal;else{let r=a.varScope&&privVarScopes[a.varScope]?a.varScope:"main";a.vars=scopedVars[r],_a[a.func](a,scopedVars,privVarScopes)}!a.interval&&r&&_removeCancel(c,a.func,a.actPos,a.intID,a.loopRef),-1===["LoadConfig","LoadScript","LoadStyle","Ajax","AjaxPreGet","AjaxFormSubmit","AjaxFormPreview"].indexOf(a.func)&&(n||_isConnected(a.secSelObj)||(a.secSelObj=void 0),_handleEvents({obj:a.secSelObj,evType:"after"+a.actName._ACSSConvFunc(),otherObj:a.secSelObj,eve:a.e,afterEv:!0,origObj:a.obj,varScope:a.varScope,evScope:a.evScope,compDoc:a.compDoc,component:a.component,_maEvCo:a._maEvCo,_taEvCo:a._taEvCo}))}},_handleLoop=a=>{let{originalLoops:r,varScope:n}=a,c=a.loopRef?a.loopRef:"",l=a.loopVars?a.loopVars:[];if("@each "==r.substr(0,6)){let s,i,u=r.indexOf(" in "),p=r.substr(6,u-6);-1!==p.indexOf(",")&&(s=p.split(","));let d,_,f,S,m,v,g,b=r.substr(u+4),C=(n&&privVarScopes[n]?n:"main")+".",h=C+b;if(void 0!==l[b]?(d=_get(scopedVars,C+l[b]),b=l[b]):d=_get(scopedVars,h),void 0===d)return void console.log("Active CSS error: "+h+" is not defined - skipping loop.");if(Array.isArray(d)){d.length;for(S=0;S<d.length;S++){if(f=Object.assign({},a),f.loopVars||(f.loopVars={}),s){for(m in s)i=s[m].trim(),_=b+"["+S+"]["+m+"]",l[i]=_;f.loopRef=c+s[0]+"_"+S}else _=b+"["+S+"]",l[p]=_,f.loopRef=c+p+"_"+S;f.loopVars=l,_performSecSel(f)}}else{let r,n=0;for([v,g]of Object.entries(d))f=Object.assign({},a),f.loopVars||(f.loopVars={}),s?(l[s[0]]="-_-"+v,f.loopRef=s[0]+"_0_"+n,r=s[1].trim(),_=b+"."+v,l[r]=_,f.loopRef=c+r+"_1_"+n):(l[p]="-_-"+v,f.loopRef=c+p+"_0_"+n),n++,f.loopVars=l,_performSecSel(f)}}},_handleVarsInJS=function(a){let r={},n={},c=!1;return a=a.replace(/[\s]*vars[\s]*([\u00BF-\u1FFF\u2C00-\uD7FF\w_\, ]+)[\s]*\;/gi,(function(a,l){let s,i=l.split(",");i=[...new Set(i)];let u="(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)";for(s of(c=!0,i))s=s.trim(),r[u+"("+s+")"+u]="",n[s]="scopedVars[_activeVarScope]."+s;return""})),c&&(a=(a=a.replace(/\\"/g,"cjs_tmp-dq")).replace(/\\'/g,"cjs_tmp-sq"),a=(a=(a=(a=ActiveCSS._mapRegexReturn(r,a,n)).replace(/(["|'][\s\S]*?["|'])/gim,(function(a,r){return r.replace(/scopedVars\[_activeVarScope\]\./g,"")}))).replace(/cjs_tmp\-dq"/g,'\\"')).replace(/cjs_tmp\-sq/g,"\\'")),a},_mainEventLoop=(a,r,n,c,l)=>{if("cause-js-elements-ext"==r.target.id)return;let s,i,u=r.target==self||r.target.body;if("click"!=a&&u)return _handleEvents({obj:"body",evType:a,eve:r}),void _handleEvents({obj:"window",evType:a,eve:r});if(r.primSel)s=r.secSelObj;else{if("click"==a&&0!==r.button)return;s=r.target}if("mouseover"!=a||u||"A"==s.tagName&&1!==s["data-active-nav"]&&_setUpNavAttrs(s),"click"==a&&"bypass"!=r.primSel&&clickOutsideSet&&!_handleClickOutside(s,r))return r.primSel||r.preventDefault(),!1;i=_composedPath(r),mainEventCounter++,maEv[mainEventCounter]={};let p=i[0];if(_getRootNode(p).isSameNode(document)||r.target.isSameNode(p)){let n;for(s of i)if(1===s.nodeType&&("click"==a&&"A"==s.tagName&&1!==s["data-active-nav"]&&_setUpNavAttrs(s),n=_componentDetails(s),_handleEvents({obj:s,evType:a,eve:r,component:n.component,compDoc:n.compDoc,varScope:n.varScope,evScope:n.evScope,_maEvCo:mainEventCounter}),!s||!r.bubbles||"BODY"==s.tagName||maEv[mainEventCounter]._acssStopEventProp))break;!maEv[mainEventCounter]._acssStopEventProp&&document.parentNode&&_handleEvents({obj:window.frameElement,evType:a,eve:r})}setTimeout((function(){maEv=maEv.filter((function(a,r){return r!=mainEventCounter}))}),1e4)};ActiveCSS._nodeMutations=function(a){a.forEach(a=>{if("childList"==a.type)a.removedNodes&&a.removedNodes.forEach(a=>{a instanceof HTMLElement&&(idMap.splice(idMap.indexOf(a),1),varInStyleMap.splice(varInStyleMap.indexOf(a._acssActiveID),1),_isACSSStyleTag(a)?_regenConfig(a,"remove"):a.querySelectorAll('style[type="text/acss"]').forEach((function(a,r){_regenConfig(a,"remove")})))}),a.addedNodes&&a.addedNodes.forEach(a=>{a instanceof HTMLElement&&(_isACSSStyleTag(a)&&!_isInlineLoaded(a)?_regenConfig(a,"addDevTools"):a.querySelectorAll('style[type="text/acss"]').forEach((function(r,n){_isInlineLoaded(a)||_regenConfig(r,"addDevTools")})))});else if("characterData"==a.type){let r=a.target;r.nodeType==Node.TEXT_NODE&&_isACSSStyleTag(r.parentElement)&&setTimeout((function(){let a=r.parentElement,n='<style type="text/acss">'+a.innerText+"</style>";_regenConfig(a,"remove"),a.insertAdjacentHTML("beforebegin",n),a.type="text/dummy",a.remove()}),0)}})};const _passesConditional=(a,r,n,c,l,s,i,u,p,d)=>{let _,f,S,m,v,g,b,C,h=n.split(/ (?![^\(\[]*[\]\)])/),A=!1;for(m of h){let n=m.indexOf("(");if(-1===n){if(u&&(m="|"+u+"|"+m,void 0===conditionals[m])){let a=m.substr(u.length+2);console.log("Active CSS error: Conditional "+a+" not found in config for component "+u)}if(v=conditionals[m],v){for(_ in v)if(v.hasOwnProperty(_)&&(f=v[_],"!"==f.name.substr(0,1)?(A=!1,S=f.name.substr(1)):(A=!0,S=f.name),S=S._ACSSConvFunc(),"function"==typeof _c[S])){let n=f.value.replace(/"[^"]*"|(\,)/g,(function(a,r){return r?"_ACSSComma":a}));for(n=_replaceAttrs(a,n,null,null,null,i),n=l&&"0"!=l.loopRef?_replaceLoopingVars(n,l.loopVars):n,g=n.split("_ACSSComma"),b=g.length,C=0;C<b;C++)if(_c[S]({func:S,actName:f.name,secSel:"conditional",secSelObj:a,actVal:g[C].trim(),primSel:r,rules:v,obj:a,e:p,doc:s,ajaxObj:l,component:u,compDoc:d,varScope:i},scopedVars,privVarScopes)!==A)return!1}}else console.log("Active CSS error: Conditional "+m+" not found in config for document scope.")}else{let _=m.substr(0,n);if(A=!1,"not-"==_.substr(0,4)?S=_.substr(4):"!"==_.substr(0,1)?S=_.substr(1):(A=!0,S=_),S=S._ACSSConvFunc(),"function"==typeof _c[S]){let f=m.slice(n+1,-1).trim().replace(/"[^"]*"|(\,)/g,(function(a,r){return r?"_ACSSComma":a}));for(f=_replaceAttrs(a,f,null,null,null,i,c),f=l&&"0"!=l.loopRef?_replaceLoopingVars(f,l.loopVars):f,g=f.split("_ACSSComma"),b=g.length,C=0;C<b;C++){let n={func:S,actName:_,secSel:"conditional",secSelObj:a,actVal:g[C].trim(),primSel:r,rules:m,obj:a,e:p,doc:s,ajaxObj:l,component:u,compDoc:d,varScope:i};if(_c[S](n,scopedVars,privVarScopes)!==A)return!1}}}}return!0},_performAction=(a,r=!1)=>{if(a.doc.readyState&&"complete"!=a.doc.readyState)return setTimeout(_performAction.bind(this,a),200),!1;_performActionDo(a,null,r)},_performActionDo=(a,r=null,n=!1)=>{if(!a.secSel&&!n)return;let c=a.actVal;-1!==a.actVal.indexOf(",")&&(c=c.replace(/\(.*?\)/g,(function(a,r){return a.replace(/,/g,"_ACSStmpcomma_")})),c=c.replace(/"[^"]*"|(\,)/g,(function(a,r){return r?"_ACSSComma":a})),c=c.replace(/_ACSStmpcomma_/g,",")),"Var"==a.func&&(c=ActiveCSS._sortOutFlowEscapeChars(c),c=_escCommaBrack(c,a));let l,s=c.split("_ACSSComma");l=s.length;let i={loopI:r,actVals:s,actValsLen:l};if("string"!=typeof a.secSel||["~","|"].includes(a.secSel.substr(0,1))){let r=Object.assign({},a);"object"==typeof r.secSel?_actionValLoop(a,i,r.secSel):(n||["~","|"].includes(r.secSel.substr(0,1)))&&_actionValLoop(a,i,{},n)}else{let r=!1;"#"==a.secSel&&console.log("Error: "+a.primSel+" "+a.event+", "+a.actName+': "'+a.origSecSel+'" is being converted to "#". Attribute or variable is not present.');let n=_prepSelector(a.secSel,a.obj,a.doc);n&&n.forEach(n=>{r=!0;let c=Object.assign({},a);_actionValLoop(c,i,n)})}},_performSecSel=a=>{let{chilsObj:r,secSelLoops:n,obj:c,evType:l,varScope:s,evScope:i,evObj:u,otherObj:p,passCond:d,sel:_,component:f,primSel:S,eve:m,loopVars:v,_maEvCo:g,runButElNotThere:b}=a,C=a.compDoc||document,h=a.loopRef?a.loopRef:0;s=supportsShadow&&C instanceof ShadowRoot?"_"+C.host._acssActiveID.replace(/id\-/,""):!C.isSameNode(document)&&C.hasAttribute("data-active-scoped")?"_"+C._acssActiveID.replace(/id\-/,""):u.varScope?u.varScope:null;let A,y,E,O,D,V,w,j,x=["&","self","this"],I="";targetEventCounter++,taEv[targetEventCounter]={};e:for(A in r[n])for(y in r[n][A]){if(void 0!==taEv[targetEventCounter]&&taEv[targetEventCounter]._acssStopImmedEvProp)break e;if("conds"==y)continue;if(-1!==y.indexOf("@each")){let a=[];a.push(r[n][A][y]),_handleLoop({chilsObj:a,originalLoops:y,secSelLoops:"0",obj:c,compDoc:C,evType:l,varScope:s,evScope:i,evObj:u,otherObj:p,passCond:d,sel:_,component:f,primSel:S,eve:m,_maEvCo:g,_taEvCo:targetEventCounter,loopVars:v,loopRef:h,runButElNotThere:b});continue}if(E=_splitIframeEls(y,{obj:c,compDoc:C}),!E)continue;if(O=E[0],D=E[1],"0"!=h&&(D=_replaceLoopingVars(D,v)),D=_replaceAttrs(c,D,null,null,null,s),D=_replaceAttrs(p,D,null,null,null,s),x.includes(D))"string"==typeof c?D=c:(I=_getActiveID(c),D=I?idMap[I]:c);else if("host"==D){let a=_getRootNode(c);D=a._acssScoped?a:a.host}let a;for(V in r[n][A][y])if(-1===r[n][A][y][V].name.indexOf("@each"))w=r[n][A][y][V].name._ACSSConvFunc(),j=r[n][A][y][V].value,a={event:l,func:w,actName:r[n][A][y][V].name,secSel:D,origSecSel:y,actVal:j,origActVal:j,primSel:S,rules:r[n][A][y],obj:c,doc:O,ajaxObj:p,e:m,_maEvCo:g,_taEvCo:targetEventCounter,passCond:d,file:r[n][A][y][V].file,line:r[n][A][y][V].line,intID:r[n][A][y][V].intID,activeID:I,varScope:s,evScope:i,compDoc:C,component:f,loopVars:v,loopRef:h},_performAction(a,b);else{let a=[];a.push(r[n][A][y][V].value);let E={chilsObj:a,originalLoops:r[n][A][y][V].name,secSelLoops:"0",obj:c,compDoc:C,evType:l,varScope:s,evScope:i,evObj:u,otherObj:p,passCond:d,sel:_,component:f,primSel:S,eve:m,_maEvCo:g,_taEvCo:targetEventCounter,loopVars:v,loopRef:h,runButElNotThere:b};_handleLoop(E)}}setTimeout((function(){taEv=taEv.filter((function(a,r){return r!=targetEventCounter}))}),1e4)},_prepSelector=(a,r,n)=>{let c,l=a;if(-1!==a.indexOf("&")&&"&"==a.substr(0,1))switch(a){case"window":a=window;break;case"body":a=n.body;break;default:c=_getActiveID(r),r.setAttribute("data-activeid",c),a=a.replace(/&/g,"[data-activeid="+c+"]")}if(-1===a.indexOf("<")){let s;return"window"==l?[window]:"body"==l?[n.body]:(s=n.querySelectorAll(a),c&&r.removeAttribute("data-activeid",c),s)}let s,i,u=a.split("<"),p=n.querySelectorAll(u.shift()),d=new Set;return p.forEach(a=>{for(s of(i=a,u)){if(i=i.parentElement,!i)break;if(i=i.closest(s),!i)break}i&&d.add(i)}),c&&r.removeAttribute("data-activeid",c),d},_renderCompDoms=(a,r=a.doc,n=null)=>{r.querySelectorAll("data-acss-component").forEach((function(r,c){_renderCompDomsDo(a,r,n)}))},_renderCompDomsClean=a=>{let r,n;for([r,n]of(delete compPending[a],Object.entries(shadowDoms)))n.isConnected||delete scopedVars[r]},_renderCompDomsDo=(a,r,n)=>{let c,l,s,i,u,p,d,_,f,S,m,v;if(c=r.parentNode,s=_componentDetails(c),u=r.getAttribute("data-ref"),_=r.getAttribute("data-name"),l=components[_].privEvs,i=components[_].shadow,m=components[_].strictVars,!i&&c.childNodes.length>1?(v=document.createElement("acss-scope"),c.replaceChild(v,r),c=v):r.remove(),i&&c.shadowRoot)return void _renderCompDomsClean(u);p=_getActiveID(c).replace("id-","_"),void 0===scopedVars[p]&&(scopedVars[p]={}),d=p,privVarScopes[p]=!!components[_].privVars;let g=privVarScopes[p]?p:a.varScope?a.varScope:null;if(a.varScope=g,compParents[d]=s,compPrivEvs[d]=l,compPending[u]=_renderRefElements(compPending[u],n,"CHILDREN"),strictPrivVarScopes[d]=m,c._acssComponent=_,c._acssVarScope=g,c._acssPrivEvs=l,c._acssStrictVars=m,c._acssEvScope=d,_handleEvents({obj:c,evType:"beforeComponentOpen",eve:a.e,varScope:g,evScope:d,compDoc:void 0,component:_,_maEvCo:a._maEvCo,_taEvCo:a._taEvCo}),compPending[u]=_replaceAttrs(a.obj,compPending[u],null,null,a.func,g),compPending[u]=_replaceComponents(a,compPending[u]),compPending[u]=_replaceScopedVars(compPending[u],a.secSelObj,a.func,a,!1,c,g),compPending[u]=_replaceStringVars(a.ajaxObj,compPending[u]),f=document.createElement("template"),f.innerHTML=compPending[u],_renderCompDomsClean(u),i)try{S=c.attachShadow({mode:components[_].mode})}catch(a){console.log("Active CSS error in attaching a shadow DOM object. Ensure the shadow DOM has a valid parent *tag*. The error is: "+a)}else S=c,S.setAttribute("data-active-scoped",""),S._acssScoped=!0;i?c._acssTopEvDoc=S:l?c._acssTopEvDoc=c:s.topEvDoc?c._acssTopEvDoc=s.topEvDoc:c._acssTopEvDoc=document,shadowDoms[p]=S,actualDoms[p]=i?S:S.getRootNode(),S.appendChild(f.content),S.querySelectorAll("[data-activeid]").forEach((function(a){_replaceTempActiveID(a)}));let b=i||l?S:a.doc;if(setTimeout((function(){_removeVarPlaceholders(S),_handleEvents({obj:c,evType:"componentOpen",eve:a.e,varScope:g,evScope:d,compDoc:b,component:_,_maEvCo:a._maEvCo,_taEvCo:a._taEvCo}),S.querySelectorAll("*").forEach((function(r){"DATA-ACSS-COMPONENT"!=r.tagName?_handleEvents({obj:r,evType:"draw",eve:a.e,otherObj:a.ajaxObj,varScope:g,evScope:d,compDoc:b,component:_,_maEvCo:a._maEvCo,_taEvCo:a._taEvCo}):_renderCompDomsDo(a,r)}))}),0),i){let a;if(0==allEvents.length)Object.keys(window).forEach(r=>{/^on/.test(r)&&(a=r.slice(2),allEvents.push(a),_attachListener(S,a,!1,!0))});else for(a of allEvents)_attachListener(S,a,!1,!0)}},_renderIt=(a,r,n,c)=>{let l,s=[];l="IFRAME"==a.secSelObj.tagName;let i=[];if(-1!==r.indexOf("<iframe")){let a=_sortOutDynamicIframes(r);r=a.str,i=a.iframes}let u,p,d,_=document.createElement("div");if(_.innerHTML=r,_.childNodes.forEach((function(a){a.nodeType===Node.ELEMENT_NODE&&"DATA-ACSS-COMPONENT"!=a.tagName&&(u=_getActiveID(a),s.push(u))})),r=_.innerHTML,a.component||(r=_addInlinePriorToRender(r)),r=_unEscNoVars(r),a.renderPos&&!l?"replace"==a.renderPos?(a.secSelObj.insertAdjacentHTML("beforebegin",r),a.secSelObj.remove()):a.secSelObj.insertAdjacentHTML(a.renderPos,r):a.secSelObj.innerHTML=r,i.length>0&&_resolveDynamicIframes(i,a),!l){for(p of(0==s.length&&_removeVarPlaceholders(a.secSelObj.parentNode),s))d=a.doc.querySelector("[data-activeid="+p+"]"),d&&("IFRAME"!=d.tagName&&(_removeVarPlaceholders(d),_replaceTempActiveID(d)),d.querySelectorAll("[data-activeid]").forEach((function(a){"IFRAME"!=a.tagName&&_replaceTempActiveID(a)})),!d||d.shadow||d.scoped||"IFRAME"==d.tagName||(_handleEvents({obj:d,evType:"draw",eve:a.e,otherObj:a.ajaxObj,varScope:a.varScope,evScope:a.evScope,compDoc:a.compDoc,component:a.component,_maEvCo:a._maEvCo,_taEvCo:a._taEvCo}),d.querySelectorAll("*").forEach((function(r){r._acssDrawn||-1!==["DATA-ACSS-COMPONENT","IFRAME"].indexOf(r.tagName)||_handleEvents({obj:r,evType:"draw",eve:a.e,otherObj:a.ajaxObj,varScope:a.varScope,evScope:a.evScope,compDoc:a.compDoc,component:a.component,_maEvCo:a._maEvCo,_taEvCo:a._taEvCo})}))));_renderCompDoms(a,void 0,n)}},_renderRefElements=(a,r,n)=>{if(-1!==a.indexOf("{$"+n+"}")){let c="CHILDREN"==n?CHILDRENREGEX:SELFREGEX;a=a.replace(c,r)}return a},_replaceHTMLVars=(a,r)=>r=r.replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-\:_]+)\}/gi,(function(r,n){let c,l,s,i;-1!==n.indexOf(":NOVARS")&&(l=!0,n=n.replace(/\:NOVARS/,"")),-1!==n.indexOf(":ESCAPED")&&(s=!0,n=n.replace(/\:ESCAPED/,"")),-1!==n.indexOf(":UNESCAPED")&&(i=!0,n=n.replace(/\:UNESCAPED/,"")),n.startsWith("document:")?(n=n.substr(9),c=document):c=_resolveDocObj(a.doc);let u=c.getElementById(n);if(u){let a;switch(u.tagName){case"INPUT":case"TEXTAREA":a=u.value;break;default:a=u.innerHTML}return l&&(a=_escNoVars(a)),s&&(a=_safeTags(a)),i&&(a=_unSafeTags(a)),a}return"{#"+n+"}"})),_replaceLoopingVars=(a,r)=>(-1!==a.indexOf("{")&&(a=a.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]+)(\}|\.|\[)/gm,(function(a,n,c){return r[n]?"-_-"==r[n].substr(0,3)?r[n].substr(3):"{"+r[n]+c:"{"+n+c}))),a),_resolveDocObj=a=>a.nodeType!==Node.DOCUMENT_NODE?a.getRootNode():a,_resolveDynamicIframes=(a,r)=>{r.doc.querySelectorAll("data-acss-iframe").forEach((function(r){_resolveDynamicIframesDo(r,a)}))},_resolveDynamicIframesDo=(a,r)=>{let n=document.createElement("div"),c=a.getAttribute("data-ref");n.innerHTML=_unEscNoVars(r[c].mainTag);let l=n.firstChild;r[c].innards=_unEscNoVars(r[c].innards),l.srcdoc=r[c].innards,a.parentNode.replaceChild(l,a)},_runInnerEvent=(a,r,n,c=document,l=!1)=>{let s="draw"==n&&l;"string"==typeof r?c.querySelectorAll(r).forEach((function(a){a._acssDrawn&&s||_handleEvents({obj:a,evType:n})})):(_handleEvents({obj:a.secSelObj,evType:n}),_runInnerEvent(null,"*",n,a.secSelObj))},_setUpNavAttrs=a=>{let r,n,c;r=document.querySelector("#data-active-pages"),r&&(n=a.getAttribute("href"),n&&(c=r.querySelector('a[href="'+n+'"]'),c&&_cloneAttrs(a,c)))},_sortOutDynamicIframes=a=>{let r,n,c,l,s,i,u,p,d=[],_=0,f=a.split("<iframe"),S="",m=0,v=f.length,g=0,b="",C="",h=!1;for(;m<v;m++)if(""!=f[m].trim())if(r=f[m].indexOf("</iframe>"),0==g&&-1!==r){if(0==m&&(S+=f[0].substr(0,r)),s=f[m].indexOf(">"),""==f[m].substr(s+1,r-s-1).trim())continue;h=!0,S+='<data-acss-iframe data-ref="'+_+'"></data-acss-iframe>',l=""!=C?C:f[m].substr(0,s+1),n="<iframe "+l,c=b+f[m].substr(s+1,r-s-1),l="",S+=f[m].substr(r+10),d[_]={mainTag:n,innards:c},b="",_++}else if(-1!==r){for(b+="<iframe ",i=f[m].split("</iframe>"),u=i.length,p=0;p<u;p++)if(""!=i[p].trim()){if(0==g){if(s=i[p].indexOf(">"),""==f[m].substr(s+1,r-s-1).trim())continue;h=!0,S+='<data-acss-iframe data-ref="'+_+'"></data-acss-iframe>',n="<iframe "+C,C="",c=b+i[p].substr(s+1),d[_]={mainTag:n,innards:c},b="",_++}else b+=i[p],p<u-1&&(b+="</iframe>");g--}S+=b,b=""}else 0==g&&0==m?S+=f[0]:(s=f[m].indexOf(">"),C=f[m].substr(0,s+1),b+=f[m].substr(s+1),g++);return{str:a=h?S:a,iframes:d}},_splitIframeEls=(a,r)=>{let n,c,l=r.obj,s=r.compDoc,i=l&&"object"==typeof l?_getRootNode(l):null,u=document,p=!1,d=!1,_=!1;if(i&&!i.isSameNode(document)&&(u=i,supportsShadow&&i instanceof ShadowRoot?p=!0:d=!0),-1!==a.indexOf(" -> ")){let r;_=!0;let s=a.split(" -> "),f=0;for(r of s){if(f++,f==s.length)break;if("document"==r)u=document;else if("shadow"==r)u=l.shadowRoot;else if("parent"==r)p?(i=_getRootNode(i.host),u=shadowRoot):d&&(window.parent.document?u=window.parent.document:console.log("Active CSS error. Reference to a parent element that doesn't exist."));else if(l=u.querySelector(r),"IFRAME"==l.tagName)u=l.contentWindow.document,c=r;else if(!l)return console.log("ref "+r+" is unknown."),!1}n=s[s.length-1]}else n=a;if("host"==n)d?u=_getRootNode(i):(i=_getRootNode(i.host),u=i);else if(s&&!_&&(u=s,u&&u.nodeType!==Node.DOCUMENT_NODE)){u=_getComponentDetails(u).topEvDoc}return[u,n,c]},_addACSSStyleTag=a=>{let r=_getActiveID(a);return inlineIDArr.push(r),concatConfigLen++,_addConfig(a.innerHTML,{file:"_inline_"+r,inlineActiveID:r}),r},_addConfig=(a,r)=>{let n=a.match(/^.*((\r\n|\n|\r)|$)/gm),c="";for(let a=0;a<n.length;a++)c+="*debugfile:"+r.file+":"+(a+1)+"*"+n[a];concatConfigCo++;let l=_parseConfig(a=c,r.inlineActiveID);configBox.push({file:r.file,styles:l});parsedConfig=Object.assign({},parsedConfig,l),concatConfigCo>=concatConfigLen&&_readSiteMap()},_addConfigError=(a,r)=>{_handleEvents({obj:r.obj,evType:"loadconfigerror",eve:r.e})},_assignLoopToConfig=(a,r,n,c,l,s,i,u)=>{let p,d,_,f,S,m=-1;if(-1!==["@each"].indexOf(r.substr(0,5)))return void 0===a[m]&&(a[m]=[r.replace(/acss_int_loop_comm/g,",")]),a[m]=_assignLoopToConfig(a[m],n.name,n.value,n.file,n.line,n.intID,i,u),a[m];for(p=r.split(","),d=p.length,f=0;f<d;f++)for(S in _=p[f].trim(),m++,n)"prevent-default"==n[S].name&&_checkPassiveState(i,u),void 0!==n[S].type&&(void 0===a[m]&&(a[m]=[]),void 0===a[m][_]&&(a[m][_]=[]),a[m][_].push({name:n[S].name,value:n[S].value,file:n[S].file,line:n[S].line,intID:n[S].intID}));return a},_attachListener=(a,r,n=!1,c=!1)=>{let l={capture:!0};doesPassive&&(!0===nonPassiveEvents[r]||!1===passiveEvents||c?l.passive=!1:l.passive=!0),doesPassive&&n&&a.removeEventListener(r,ActiveCSS._theEventFunction,{capture:!0}),a.addEventListener(r,ActiveCSS._theEventFunction,l)};ActiveCSS._theEventFunction=a=>{let r=a.type,n=a.target._acssComponent,c=a.target instanceof ShadowRoot?a.target:null,l=a.target._acssVarScope;if(!setupEnded)return;let s=_fullscreenDetails();switch(r){case"click":a.ctrlKey||a.metaKey||_mainEventLoop("click",a,n,c,l);break;case"keyup":case"keydown":let i=a.ctrlKey?"Ctrl":"",u=a.metaKey?"Meta":"",p=a.shiftKey?"Shift":"",d=a.key;switch(a.key){case" ":d="Space";break;case":":d="Colon",p="";break;case";":d="Semicolon",p="";break;case"{":d="OpenCurly",p="";break;case"}":d="CloseCurly",p="";break;case'"':d="DoubleQuotes",p="";break;case"'":d="SingleQuote",p="";break;case"?":d="Question",p="";break;case"!":d="Exclamation",p=""}_mainEventLoop(r+u+i+p+d,a,n,c,l),_mainEventLoop(r,a,n,c,l);break;case s[1]+"fullscreenchange":_mainEventLoop(r,a,n,c,l),s[0]?_mainEventLoop("fullscreenEnter",a,n,c,l):_mainEventLoop("fullscreenExit",a,n,c,l);break;default:_mainEventLoop(r,a,n,c,l)}};const _checkPassiveState=(a,r)=>{if(doesPassive){let a=r;"key"==r.substr(0,3)&&("keyup"==r.substr(0,5)?a="keyup":"keydown"==r.substr(0,7)&&(a="keydown")),void 0===nonPassiveEvents[a]&&(nonPassiveEvents[a]=!0)}},_convConfig=(a,r,n,c)=>{let l,s,i,u,p,d={},_=null,f=0,S=!n;for(;null!==(_=PARSEREGEX.exec(a));){if(n>r)return console.log("Syntax error in config - possibly an incomplete set of curly brackets."),!1;if(_[PARSEDEBUG])p=_[PARSEDEBUG].split(":"),configFile=p[1],configLine=p[2].substr(0,p[2].length-1);else if(_[PARSESEL]){if(n++,l=_[PARSESEL].trim(),l=l.replace(/\*debugfile[\s\S]*?\*/g,""),u=_convConfig(a,r,n,c),!1===u)return!1;i={},i.name=_sortOutEscapeChars(l),c&&(i.name=i.name.replace(/inlineTag\:loaded/g,"~_inlineTag_"+c+":loaded")),i.value=u,i.line=configLine,i.file=configFile,i.intID=intIDCounter++,i.type="rule",d[S?masterConfigCo++:f++]=i}else{if(_[PARSEEND])return d;if(_[PARSEATTR]){var m=_[PARSEATTR].trim();m=m.replace(/\*debugfile[\s\S]*?\*|([^:]|^)\/\/.*$/g,"");var v=PARSELINEX.exec(m);v?(l=v[1].trim(),s=v[2].trim(),i={},i.name=_sortOutEscapeChars(l),i.value=_sortOutEscapeChars(s),i.type="attr",i.line=configLine,i.file=configFile,i.intID=intIDCounter++,d[f++]=i):d[f++]=m}}}return d},_getInline=a=>{a.forEach(a=>{_addACSSStyleTag(a)})};ActiveCSS._getPosOfRule=(a,r)=>_getValFromList(a,r,!0);const _initScriptTrack=()=>{document.querySelectorAll("script").forEach((function(a,r){-1===scriptTrack.indexOf(a.src)&&scriptTrack.push(a.src)}))},_isFromFile=(a,r)=>{let n,c,l,s=r.length;if(0==s){for(l in r)if(_isFromFile(a,r[l]))return!0}else for(c=0;c<s;c++)if(n=r[c],Array.isArray(n)){if(_isFromFile(a,n))return!0}else{if(n.file===a)return!0}return!1},_iterateConditionals=(a,r,n)=>{var c,l;return Object.keys(r).forEach((function(s){(l=r[s].name)&&(c=a[n].length,a[n][c]={},a[n][c].name=l,a[n][c].value=r[s].value,a[n][c].file=r[s].file,a[n][c].line=r[s].line,a[n][c].intID=r[s].intID)})),a},_iteratePageList=(a,r=!1)=>{if(!("content"in document.createElement("template")))return void console.log("Browser does not support html5. Cannot instantiate page navigation.");let n=document.getElementById("data-active-pages");var c,l;n||(n=document.createElement("template"),n.id="data-active-pages",document.body.appendChild(n));let s=Math.floor(1e7*Math.random());Object.keys(a).forEach((function(i){if(!(c=a[i].name))return;l=a[i].value.replace(/\{\$RAND\}/g,s);let u=c.replace(/"/g,"").trim(),p=u+" "+l.trim(),d=pagesDisplayed.indexOf(u);if(-1===d)pagesDisplayed.push(u),n.insertAdjacentHTML("beforeend","<a href="+p+">");else if(r){pagesDisplayed.splice(d,1);let a=n.querySelector('[href="'+u+'"]');a&&a.remove()}}))},_iterateRules=(a,r,n,c,l,s=null)=>{let i,u,p,d,_,f,S,m,v,g=-1;return Object.keys(r).forEach((function(b){if(m=r[b].name,v=r[b].value,m){if(-1!==["@each"].indexOf(m.substr(0,5)))return g++,a[g]=[],void(a[g][m]=_iterateRules([],v,n,c,l,s));if("string"==typeof v)return g++,"prevent-default"==m&&_checkPassiveState(s,c),a[g]=[],a[g]["&"]=[],void a[g]["&"].push({name:m,value:v,file:r[b].file,line:r[b].line,intID:r[b].intID});for(u="",p="",d=m.split(","),_=d.length,S=0;S<_;S++)for(i in f=d[S].trim(),g++,a[g]=[],a[g][f]=[],v)void 0!==v[i].type&&("&"==f&&"prevent-default"==v[i].name&&_checkPassiveState(s,c),a[g][f].push({name:v[i].name,value:v[i].value,file:v[i].file,line:v[i].line,intID:v[i].intID}))}})),a},_makeVirtualConfig=(a="",r="",n=null,c=!1,l="")=>{var s,i,u,p,d,_,f,S,m,v,g=""!==a?a:parsedConfig;let b=l.substr(8);if(Object.keys(g).forEach((function(a){if(g[a].name)for(_=g[a].name,v=!1,s=_.split(/,(?![^\(\[]*[\]\)])/),i=s.length,u=0;u<i;u++){let i;switch(p=s[u].trim(),d="@component "==p.substr(0,11),v&&(i=-1===p.indexOf("?"))?"?":!d||d&&-1===s[u].indexOf(":")?p.slice(0,1):""){case"?":let s=i?p:p.substr(1);n&&(s="|"+n+"|"+s),c?delete conditionals[s]:(conditionals[s]=void 0===conditionals[s]?[]:conditionals[s],conditionals=_iterateConditionals(conditionals,g[a].value,s)),v=!0;break;case"@":if("@pages"==p)_iteratePageList(g[a].value,c);else if(d){let r=p.split(" ")[1].trim();if(!c){components[r]||(components[r]={}),components[r].mode=null,components[r].shadow=!1,components[r].scoped=!1,components[r].privEvs=!1,components[r].strictVars=!1;let a=p+" ";-1!==a.indexOf(" shadow ")&&(components[r].shadow=!0,components[r].mode=-1!==p.indexOf(" closed")?"closed":"open"),-1!==a.indexOf(" strictlyPrivateVars ")||-1!==a.indexOf(" private ")?(components[r].strictVars=!0,components[r].privVars=!0,components[r].scoped=!0):-1!==a.indexOf(" privateVars ")&&(components[r].privVars=!0,components[r].scoped=!0),-1===a.indexOf(" privateEvents ")&&-1===a.indexOf(" private ")||(components[r].privEvs=!0)}_makeVirtualConfig(g[a].value,"",r,c,l),c?delete components[r]:void 0===components[r].data&&(components[r].data="",components[r].file="",components[r].line="",components[r].intID=""),r=""}else c||(r=_setupMediaQueryHandler(p.slice(7).trim()),_makeVirtualConfig(g[a].value,r,null,c,l)),r="";break;default:if("html"==p)c?n&&delete components[n]:n&&(components[n].data=g[a].value[0].value.slice(1,-1),components[n].data=components[n].data.replace(/\\\"/g,'"'),components[n].file=g[a].value[0].file,components[n].line=g[a].value[0].line,components[n].intID=g[a].value[0].intID);else{if(!(f=p.split(/:(?![^\(\[]*[\]\)])/))[1]){console.log('"'+_+'" '+p+" is not a fully formed selector - it may be missing an event or have incorrect syntax. Or you have too many closing curly brackets.");continue}if(""==f[0]?(f.shift(),m=":"+f.shift()):m=f.shift(),c&&m=="~_inlineTag_"+b){delete config[m];continue}S=(S=f.pop()).trim();let s,i=[],u=[];if(f){let a,r;for(r of f)a=new RegExp(COLONSELS,"g"),a.test(r)?i.push(r):u.push(r)}if(""!==r&&u.push(r),i.length>0&&(m+=":"+i.join(":")),n&&(m="|"+n+":"+m,c?(delete shadowSels[n],delete components[n]):(shadowSels[n]=void 0===shadowSels[n]?[]:shadowSels[n],shadowSels[n][S]=!0,components[n].scoped=!0)),c||(config[m]=void 0===config[m]?{}:config[m],config[m][S]=void 0===config[m][S]?{}:config[m][S]),s=0===u.length?0:u.join(" "),c||(preSetupEvents.push({ev:S,sel:m}),void 0===config[m]&&(config[m]={}),void 0===config[m][S]&&(config[m][S]={}),void 0===config[m][S][s]&&(config[m][S][s]=[])),c){let a,r=config[m][S][s].length,n=[];for(a=0;a<r;a++)_isFromFile(l,config[m][S][s][a])&&n.push(a);for(a of n)config[m][S][s].splice(a,1);0==config[m][S][s].length&&delete config[m][S][s],0===Object.keys(config[m][S]).length&&delete config[m][S],0===Object.keys(config[m]).length&&delete config[m]}else config[m][S][s].push(_iterateRules([],g[a].value,m,S,s,n))}}}})),""!==a)return;let C=!!debugMode&&_doDebug("config");C&&Object.keys(config).sort().forEach((function(a){console.log(a,config[a])})),C=!!debugMode&&_doDebug("conditionals"),C&&Object.keys(conditionals).sort().forEach((function(a){console.log(a,conditionals[a])})),C=!!debugMode&&_doDebug("components"),C&&Object.keys(components).sort().forEach((function(a){console.log(a,components[a])}))};ActiveCSS._mapRegexReturn=(a,r,n=null)=>{if("string"!=typeof r)return r;let c=new RegExp(Object.keys(a).join("|"),"gim");return r=r.replace(c,(function(r){return n?n[r]:a[r]}))};const _parseConfig=(a,r=null)=>{a=(a=(a=(a=a.replace(COMMENTS,"")).replace(/[\r\n]+/g,"")).replace(/\\\"/g,"_ACSS_escaped_quote")).replace(/\\\"/g,"_ACSS_escaped_quote");let n="";a=a.replace(/@command[\s]+(conditional[\s]+)?([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]+[\s]*\{\=[\s\S]*?\=\})/g,(function(a,c,l){let s,i;return r?(s="~_inlineTag_"+r,i="loaded"):(s="~_acssSystem",i=setupEnded?"afterLoadConfig":"init"),n+=s+":"+i+"{"+(c?"create-conditional":"create-command")+":"+l+";}",""})),a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a+=n).replace(/\{\=([\s\S]*?)\=\}/g,(function(a,r){return-1!==r.indexOf("*debugfile:")&&(r=(r=r.trim().slice(0,-1)).replace(/\*debugfile\:[\s\S]*?\*/g,""),r+="*"),"_ACSS_subst_equal_brace_start"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,r)+"_ACSS_subst_equal_brace_end"}))).replace(/acss\-style/gi,"style")).replace(/<style>([\s\S]*?)<\/style>/gi,(function(a,r){return"<style>"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,r)+"</style>"}))).replace(/\{\$([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(a,r){return"_ACSS_subst_dollar_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\[\]]+)\}\}/gi,(function(a,r){return"_ACSS_subst_brace_start_ACSS_subst_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\#\:]+)\}\}/gi,(function(a,r){return"_ACSS_subst_brace_start_ACSS_subst_at_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\#\:]+)\}/gi,(function(a,r){return"_ACSS_subst_at_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(a,r){return"_ACSS_subst_pipe_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\:\{\$\|\@\}]+)\}/gi,(function(a,r){return"_ACSS_subst_hash_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\$\[\]]+)\}/gi,(function(a,r){return"_ACSS_subst_brace_start"+(r=r.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\\{/g,"_ACSS_brace_start")).replace(/\\}/g,"_ACSS_brace_end")).replace(/([^\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]html[\s]*{)([\s\S]*?)}/gi,(function(a,r,n){return r+'{component: "'+(n=(n=(n=n.replace(/_ACSS_escaped_quote/g,'\\"')).replace(/"/g,"_ACSS_escaped_quote")).replace(/\t/g,"_ACSS_tab"))+'";}'}))).replace(/\t+/g," ")).replace(/_ACSS_tab/g,"\t");let c={"{":"_ACSS_brace_start","}":"_ACSS_brace_end",";":"_ACSS_semi_colon",":":"_ACSS_colon","/":"_ACSS_slash","@":"_ACSS_at"},l=(a=(a=(a=(a=a.replace(/("([^"]|"")*")/g,(function(a,r){return ActiveCSS._mapRegexReturn(c,r)}))).replace(/@conditional[\s]+/g,"?")).replace(/([\(]([^\(\)]|\(\))*[\)])/g,(function(a,r){return ActiveCSS._mapRegexReturn(c,r)}))).replace(/[\s]*var[\s]*\:([\s\S]*?)\;/gim,(function(a,r){return"var: "+ActiveCSS._mapRegexReturn(DYNAMICCHARS,r)+";"}))).split("{").length;return a=_convConfig(a,l,0,r),Object.keys(a).length||console.log("Active CSS: Either your config is empty or there is a structural syntax error. str:",a),a},_readSiteMap=()=>{var a=!!debugMode&&_doDebug("parser");let r;for(r of(a&&console.log(parsedConfig),setupEnded||_setupPassive(),_makeVirtualConfig(),parsedConfig={},preSetupEvents))_setupEvent(r.ev,r.sel);!selectors.click&&selectors.clickoutside&&_setupEvent("click","body"),preSetupEvents=[],setupEnded||_startMainListen(),_initScriptTrack(),_wrapUpStart()},_regenConfig=(a,r)=>{setTimeout((function(){let n=a._acssActiveID;switch(r){case"remove":parsedConfig=configBox.find(a=>a.file=="_inline_"+n).styles,_makeVirtualConfig("","",null,!0,"_inline_"+n),concatConfigCo--,concatConfigLen--,configBox=configBox.filter(a=>a.file!="_inline_"+n),parsedConfig={};break;case"addDevTools":_addACSSStyleTag(a)}}),0)},_runInlineLoaded=()=>{inlineIDArr.forEach(a=>{_handleEvents({obj:"~_inlineTag_"+a,evType:"loaded"})}),inlineIDArr=[]},_setupEvent=(a,r,n)=>{if(void 0===selectors[a]&&(selectors[a]=[]),selectors[a].includes(r)){if(!setupEnded||!doesPassive)return}else selectors[a].push(r);if(debuggerEvs.includes(a)){if(!setupEnded||!doesPassive)return}else debuggerEvs.push(a);if(!1!==(a=_getRealEvent(a))&&(setupEnded||!eventState[a])){let n=document.parentNode&&"body"==r&&"scroll"==a?document.body:window;_attachListener(n,a,setupEnded),eventState[a]=!0}},_setupMediaQueryHandler=a=>{a=a.trim();let r=mediaQueriesOrig[a];if(void 0!==r)return void 0===conditionals[r]&&(conditionals[r]=[],conditionals[r].push({name:"mql-true",value:r})),r;let n="__mql_"+(mediaQueries.length+1);mediaQueriesOrig[a]=n,conditionals[n]=[],conditionals[n].push({name:"mql-true",value:n});let c=window.matchMedia(a),l=c.matches;return mediaQueries.push(n),mediaQueries[n]={ev:c,val:l},mediaQueries[n].ev.addListener((function(a){let r=mediaQueriesOrig[a.media];mediaQueries[r].val=a.matches})),n},_setupPassive=()=>{try{let a=Object.defineProperty({},"passive",{get:function(){doesPassive=!0}});window.addEventListener("testPassive",null,a),window.removeEventListener("testPassive",null,a)}catch(a){}},_sortOutEscapeChars=a=>ActiveCSS._mapRegexReturn({_ACSS_brace_start:"{",_ACSS_brace_end:"}",_ACSS_escaped_quote:'\\"',_ACSS_semi_colon:";",_ACSS_colon:":",_ACSS_slash:"/",_ACSS_at:"@",_ACSS_subst_equal_brace_start:"{=",_ACSS_subst_equal_brace_end:"=}",_ACSS_subst_dollar_brace_start:"{$",_ACSS_subst_brace_start:"{",_ACSS_subst_at_brace_start:"{@",_ACSS_subst_pipe_brace_start:"{|",_ACSS_subst_hash_brace_start:"{#",_ACSS_subst_brace_end:"}",_ACSS_dot:"."},a),_startMainListen=()=>{window.addEventListener("message",(function(a){if(a.origin===window.location.origin&&"causejs-devtools-extension"!=a.data.source){var r=a.data;switch(r.type){case"activecss-unloading":case"activecss-loaded":let a=document.getElementById(r.el);_handleEvents({obj:a,evType:typ})}}})),document.parentNode?(window.addEventListener("beforeunload",(function(a){parent.postMessage({type:"activecss-unloading",el:window.frameElement.id},window.location.origin)})),parent.postMessage({type:"activecss-loaded",el:window.frameElement.id},window.location.origin)):window.addEventListener("popstate",(function(a){let r=a.state;if(!r)return;debuggerActive&&_debugOutput("Popstate event");let n=document.querySelector("#data-active-pages"),c=!1;if(r&&n){let a=new URL(r),l=a.pathname+a.search,s=n.querySelector('a[href="'+l+'"]');s&&(ActiveCSS.trigger(s,"click"),c=!0)}c||(window.location.href=r)})),currentPage=location.pathname,scopedVars=_observableSlim.create(scoped,!0,ActiveCSS._varUpdateDom)},_wrapUpStart=()=>{if(setupEnded)inlineIDArr.length>0&&_runInlineLoaded();else{if(document.readyState&&"complete"!=document.readyState)return void setTimeout(_wrapUpStart,20);if(_handleEvents({obj:"~_acssSystem",evType:"init"}),_handleEvents({obj:"body",evType:"preInit"}),_handleEvents({obj:"body",evType:"init"}),inlineIDArr.length>0&&_runInlineLoaded(),_runInnerEvent(null,"*","draw",document,!0),_handleEvents({obj:"body",evType:"scroll"}),!inIframe){let a=_resolveURL(window.location.href);window.history.replaceState(a,document.title,a)}setupEnded=!0,(elementObserver=new MutationObserver(ActiveCSS._nodeMutations)).observe(document.body,{characterData:!0,childList:!0,subtree:!0}),document.dispatchEvent(new CustomEvent("ActiveCSSInitialized",{})),""!==lazyConfig&&setTimeout((function(){let a,r=lazyConfig.split(",");for(a of r)_a.LoadConfig({actName:"load-config",actVal:a,doc:document})}),1e3)}concatConfigCo>concatConfigLen&&"load-config"==o.actName&&(configArr.push(o.avRaw),setupEnded&&(debuggerActive&&_tellPanelToUpdate(),evEditorActive&&_tellElementsToUpdate()),_handleEvents({obj:"body",evType:"afterLoadConfig",eve:o.e}),_handleEvents({obj:o.obj,evType:"afterLoadConfig",eve:o.e,varScope:o.varScope,evScope:o.evScope,compDoc:o.compDoc,component:o.component,_maEvCo:o._maEvCo,_taEvCo:o._taEvCo}))};ActiveCSS.init=a=>{passiveEvents=void 0===(a=a||{}).passiveEvents||a.passiveEvents;let r=document.querySelectorAll('style[type="text/acss"]');if(autoStartInit)r&&(lazyConfig="",_getInline(r)),autoStartInit=!1;else{if(userSetupStarted=!0,setupEnded)return void console.log("Cannot initialize Active CSS twice.");let n;lazyConfig=a.lazyConfig||"",a.configLocation=a.configLocation||console.log("No inline or Active CSS config file setup - see installation docs."),a.debugMode&&(debugMode=a.debugMode,document.parentNode?console.log("Active CSS debug mode in iframe ID "+window.frameElement.id+": "+debugMode):console.log("Active CSS debug mode: "+debugMode));let c=a.configLocation.split(",");for(n of(concatConfigLen=c.length,r&&_getInline(r),c))n=n.trim(),configArr.push(_getBaseURL(n)),_getFile(n,"txt",{file:n})}};const _addScopedAttr=(a,r,n,c,l)=>{let s=_addScopedCID(a,r.secSelObj,l),i=r.actVal.split(" ")[0],u=c?n:n.substr(n.indexOf(" ")+1)._ACSSRepQuo();_set(scopedData,a+".attrs["+s+"]["+i+"]",{orig:u,scopeRef:l})},_addScopedCID=(a,r,n)=>{let c=_getActiveID(r);return _set(scopedData,a+".cids["+c+"]",{cid:c,scopeRef:n}),c},_escapeItem=(a="",r=null)=>{if(r&&"$"==r.substr(0,1)&&"$HTML_ESCAPED"!==r)return a;let n=document.createElement("div");return n.textContent=(""+a).replace(/\{\=|\=\}/gm,""),n.innerHTML},_getObjFromDots=(a,r)=>void 0===a[r]?"":a[r],_observableSlim=(paths=[],observables=[],targets=[],targetsProxy=[],dupProxy=null,_create=function(a,r,n,c){var l=n||null,s=c||[{target:a,property:""}];paths.push(s),a instanceof Array&&(a.__length=a.length);var i=[],u=function(a,r,n){for(var c="",l=null,i=0;i<s.length;i++)l instanceof Array&&!isNaN(s[i].property)&&(s[i].property=l.indexOf(s[i].target)),c=c+"."+s[i].property,l=s[i].target;return c=(c=c+"."+r).substring(2),!0===n&&(c="/"+c.replace(/\./g,"/")),c},p=function(a){if(!0!==l.paused)if(!0===r)setTimeout((function(){if(a===i.length){var r=i.slice(0);i=[];for(var n=0;n<l.observers.length;n++)l.observers[n](r)}}),10);else{var n=i.slice(0);i=[];for(var c=0;c<l.observers.length;c++)l.observers[c](n)}},d={get:function(a,n){if("__getTarget"===n)return a;if("__isProxy"===n)return!0;if("__getParent"===n)return function(a=1){var r=u(0,"__getParent").split(".");return r.splice(-(a+1),a+1),function(a,r){return r.split(".").reduce((function(a,r){return a?a[r]:void 0}),a||self)}(l.parentProxy,r.join("."))};if("__getPath"===n)return u(0,"__getParent").slice(0,-12);var c=a[n];if(a instanceof Date&&c instanceof Function&&null!==c)return c.bind(a);if(c instanceof Object&&null!==c&&a.hasOwnProperty(n)){if(!0===c.__isProxy&&(c=c.__getTarget),c.__targetPosition>-1&&null!==targets[c.__targetPosition])for(var i=targetsProxy[c.__targetPosition],p=0,d=i.length;p<d;p++)if(l===i[p].observable)return i[p].proxy;var _=s.slice(0);return _.push({target:c,property:n}),_create(c,r,l,_)}return c},deleteProperty:function(a,r){var n=!0;dupProxy===f&&(n=!1,dupProxy=null);var c=Object.assign({},a);if(i.push({type:"delete",target:a,property:r,newValue:null,previousValue:c[r],currentPath:u(0,r),jsonPointer:u(0,r,!0),proxy:f}),!0===n){l.changesPaused||delete a[r];for(var s=0,d=targets.length;s<d&&a!==targets[s];s++);for(var _=targetsProxy[s]||[],S=_.length;S--;)_[S].proxy!==f&&(dupProxy=_[S].proxy,delete _[S].proxy[r])}return p(i.length),!0},set:function(a,r,n,c){n&&n.__isProxy&&(n=n.__getTarget);var s=!0;dupProxy===f&&(s=!1,dupProxy=null);var d=a[r];if(d!==n||!1===s||"length"===r&&a instanceof Array&&a.__length!==n){var _=!0,S=typeof d,m="update";if("undefined"===S&&(m="add"),i.push({type:m,target:a,property:r,newValue:n,previousValue:c[r],currentPath:u(0,r),jsonPointer:u(0,r,!0),proxy:f}),"length"===r&&a instanceof Array&&a.__length!==n&&(i[i.length-1].previousValue=a.__length,a.__length=n),!0===s){l.changesPaused||(a[r]=n),_=!1;for(var v=a.__targetPosition,g=targetsProxy[v].length;g--;)if(l===targetsProxy[v][g].observable&&null!==targets[targetsProxy[v][g].observable.parentTarget.__targetPosition]){_=!0;break}if(_){for(var b=targetsProxy[v],C=0,h=b.length;C<h;C++)b[C].proxy!==f&&(dupProxy=b[C].proxy,b[C].proxy[r]=n);setTimeout((function(){if("object"===S&&null!==d){for(var r=Object.keys(a),n=0,c=r.length;n<c;n++)if(a[r[n]]===d)return;var s=!1;if(function a(r){for(var n=Object.keys(r),c=0,l=n.length;c<l;c++){var i=r[n[c]];if(i instanceof Object&&null!==i&&a(i),i===d)return void(s=!0)}}(a),!0===s)return;!function a(r){var s=Object.keys(r);for(n=0,c=s.length;n<c;n++){var i=r[s[n]];i instanceof Object&&null!==i&&a(i)}var u=-1;for(n=0,c=targets.length;n<c;n++)if(r===targets[n]){u=n;break}if(u>-1){for(var p=targetsProxy[u],d=p.length;d--;)if(l===p[d].observable){p.splice(d,1);break}0==p.length&&(targets[u]=null)}}(d)}}),1e4)}}_&&p(i.length)}return!0}},_=a.__targetPosition;(!_||_<0)&&Object.defineProperty(a,"__targetPosition",{value:targets.length,writable:!1,enumerable:!1,configurable:!1});var f=new Proxy(a,d);null===l&&(l={parentTarget:a,domDelay:r,parentProxy:f,observers:[],paused:!1,path:s,changesPaused:!1},observables.push(l));var S={target:a,proxy:f,observable:l};return _>-1?(null===targets[_]&&(targets[_]=a),targetsProxy[_].push(S)):(targets.push(a),targetsProxy.push([S])),f},{create:function(a,r,n){!0===a.__isProxy&&(a=a.__getTarget);var c=_create(a,r);return"function"==typeof n&&this.observe(c,n),function a(r){for(var n=r.__getTarget,c=Object.keys(n),l=0,s=c.length;l<s;l++){var i=c[l];n[i]instanceof Object&&null!==n[i]&&a(r[i])}}(c),c},observe:function(a,r){for(var n=observables.length;n--;)if(observables[n].parentProxy===a){observables[n].observers.push(r);break}}});var paths,observables,targets,targetsProxy,dupProxy,_create;const _prefixScopedVars=function(a,r=null){let n,c;return a=a.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\$\.]+)\}/gim,(function(a,l){if(-1!==l.indexOf('"')||l.match(/^[\d]+$/))return"{"+l+"}";if("true"==l||"false"==l)return l;if(-1!==l.indexOf(".")){let a=l.split(".")[0];if("window"==a||"scopedVars"==a)return l}n=(r&&privVarScopes[r]?r:"main")+"."+l;let s=_resolveInheritance(n);return n=s.name,c=_get(scopedVars,n),void 0!==c?"scopedVars."+n:l}))},_removeVarPlaceholders=a=>{let r,n,c,l,s,i=document.createTreeWalker(a,NodeFilter.SHOW_COMMENT),u=[];for(;i.nextNode();)r=i.currentNode,"active-var-"==r.data.substr(0,11)?(u.push(r),n=r.data.substr(11),void 0===varMap[n]&&(varMap[n]=[]),"/active-var"==r.nextSibling.data?(u.push(r.nextSibling),c=r.parentNode.insertBefore(document.createTextNode(""),r.nextSibling),varMap[n].push(c)):varMap[n].push(r.nextSibling)):"/active-var"==r.data&&u.push(r);u.forEach(a=>{a.remove()}),i=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT);do{s=i.currentNode,"STYLE"!=s.tagName||_isACSSStyleTag(s)||(s._acssActiveID||_getActiveID(s),l=i.currentNode.textContent,void 0===varInStyleMap[s._acssActiveID]&&(varInStyleMap[s._acssActiveID]=l),l=varInStyleMap[s._acssActiveID].replace(STYLEREGEX,(function(a,r,n,c){void 0===varStyleMap[r]&&(varStyleMap[r]=[]),varStyleMap[r].push(s);let l=r.indexOf("HOST");if(-1!==l){let a=r.substr(l+4),n=idMap["id-"+r.substr(1,l-1)];return n&&n.hasAttribute(a)?n.getAttribute(a):""}{let a=_get(scopedVars,r);return a||""}})),s.textContent=l)}while(i.nextNode())},_replaceAttrs=(a,r,n=null,c=null,l="",s=null,i="")=>{if(!r)return"";if(-1!==r.indexOf("{$RAND}")){let a=Math.floor(1e7*Math.random());r=r.replace(/\{\$RAND\}/g,a)}return-1===r.indexOf("{=")||c&&["CreateCommand","CreateConditional","Eval","Run"].includes(c.func)||(r=ActiveCSS._sortOutFlowEscapeChars(r),r=_replaceJSExpression(r,null,null,s)),-1!==r.indexOf("{@")&&(r=r.replace(/\{\@([^\t\n\f \/>"'=(?!\{)]+)\}/gi,(function(r,l){let s,u=l.split("."),p=[];if(u[1]&&"selected"==u[0]&&"SELECT"==a.tagName){if(s=a.options[a.selectedIndex].getAttribute(u[1]),s)return _escapeItem(s);if(s=a.options[a.selectedIndex][u[1]],s)return _escapeItem(s);p.push("Neither attribute or property "+u[1]+" found in target or primary selector:")}else{let r=l.lastIndexOf(":");if(-1!==r){let n,u=l.substr(0,r),d=["beforeComponentOpen","componentOpen"];if("host"==u){let r=c&&-1!==d.indexOf(c.event);if(-1!==d.indexOf(i)||r)n=a;else if(!c||!r){if(!a.shadowRoot)return"{@"+l+"}";n=a.shadowRoot}}else n=_getSel(c,u);let _=l.substr(r+1);if("IFRAME"==n.tagName&&"url"==_)return _escapeItem(n.contentWindow.location.href);if(s=n.getAttribute(_),s)return _escapeItem(s);if(s=n[_],s)return _escapeItem(s);p.push("Neither attribute or property "+_+" found in target or primary selector:")}else if(a&&"string"!=typeof a){if(n){if(s=n.getAttribute(l),s)return _escapeItem(s);if(s=n[l],s)return _escapeItem(s)}if(s=a.getAttribute(l),s)return _escapeItem(s);if(s=a[l],s)return _escapeItem(s);p.push("Attribute not property "+l+" found in target or primary selector:")}}return p&&p.push(a),""}))),r=_replaceStringVars(c,r,s),_replaceScopedVars(r,n,l,c,null,null,s)},_replaceComponents=(a,r)=>{let n,c=0;for(;c<50&&(n=!1,c++,r=(r=_replaceHTMLVars(a,r)).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-_]+)\}/gi,(function(r,c){let l=!1;if("_acss-host_"==c.substr(0,11)&&(l=!0,c=c.substr(11)),!components[c])return"{|"+c+"}";let s=components[c].data.trim();if(n=!0,s=ActiveCSS._sortOutFlowEscapeChars(s),s="0"!=a.loopRef?_replaceLoopingVars(s,a.loopVars):s,components[c].shadow||components[c].scoped||l){let a='<data-acss-component data-name="'+c+'" data-ref="'+ ++compCount+'"></data-acss-component>';compPending[compCount]=s,s=a}else s=_replaceAttrs(a.obj,s,null,null,a.func,a.varScope),s=_replaceStringVars(a.ajaxObj,s);return s||""})),n););return 50==c&&console.log("Active CSS recursion detected during component rendering. Skipped after 50 attempts.\nFile: "+a.file+", line: "+a.line),r},_replaceJSExpression=(a,r=!1,n=!1,c=null)=>{let l;return a=a.replace(/\{\=([\s\S]*?)\=\}/gm,(function(s,i){i=_replaceScopedVarsExpr(i,c);let u="";if(n&&(u='"'),["\t","\n","\r"].some(a=>i.includes(a)))return l=n?u+i+u:i,l;try{l=Function("scopedVars",'"use strict";return ('+i+");")(scopedVars)}catch(r){try{l=Function("scopedVars",'"use strict";return ("'+i.replace(/"/gm,'\\"')+'");')(scopedVars)}catch(r){console.log("JavaScript expression error ("+r+"): "+a+". Is this a string variable that needs double-quotes?"),console.log("Actual expression evaluated: "+i)}}return r||(l=!0===l?"true":!1===l?"false":null===l?"null":"string"==typeof l?u+l+u:"number"==typeof l?l.toString():"Invalid expression ("+i.trim()+")"),l})),r?l:a},_replaceScopedVars=(a,r=null,n="",c=null,l=!1,s=null,i=null)=>{let u,p,d,_,f,S,m,v,g,b;if(-1===a.indexOf("{{")||l||-1===a.indexOf("</"))a=_replaceScopedVarsDo(a,r,n,c,!1,s,i);else{for(u=document.createElement("template"),u.innerHTML=a,p=document.createTreeWalker(u.content,NodeFilter.SHOW_ELEMENT);p.nextNode();)customTags.includes(p.currentNode.tagName)&&p.currentNode.setAttribute("data-active-scoped","");for(p.currentNode=u.content;p.nextNode();)for(b of(v=p.currentNode,g=v.attributes,S=v.parentElement?v.parentElement.closest("[data-active-scoped]"):null,m=S||s,g)){if(-1!==["data-activeid"].indexOf(b.nodeName))continue;let a=_replaceScopedVarsDo(b.nodeValue,null,"SetAttribute",{secSelObj:v,actVal:b.nodeName+" "+b.nodeValue},!0,m,i);v.setAttribute(b.nodeName,a)}for(p=document.createTreeWalker(u.content,NodeFilter.SHOW_TEXT);p.nextNode();)v=p.currentNode,d=v.parentNode,11!=d.nodeType&&(f=_getActiveID(d),_=v.textContent,S=v.parentElement?v.parentElement.closest("[data-active-scoped]"):null,m=S||s,v.textContent=_replaceScopedVarsDo(_,d,"Render",null,!0,m,i));a=(a=(a=(a=(a=u.innerHTML).replace(/_cj_s_lt_/gm,"\x3c!--")).replace(/_cj_s_gt_/gm,"--\x3e")).replace(/_cj_s_lts_/gm,"/*")).replace(/_cj_s_gts_/gm,"*/")}return a},_replaceScopedVarsDo=(a,r=null,n="",c=null,l=!1,s=null,i=null)=>{let u,p=!1,d=!1,_=!1,f=a;return-1!==a.indexOf("{")&&(a=a.replace(/\{((\{)?(\@)?[\u00BF-\u1FFF\u2C00-\uD7FF\w_\$\'\"\-\.\:\[\]]+(\})?)\}/gm,(function(a,S){if(["$HTML","$HTML_ESCAPED","$STRING","$RAND"].includes(S))return"{"+S+"}";let m;"{"==S[0]&&(p=!0,S=S.slice(1,-1));let v=S;if("@"==S[0]){if(!s)return a;d=!0;let r="host:";if(-1===(S=S.slice(1)).indexOf(r))return console.log("Non component attribution substitution is not yet supported."),a;if(_=!0,S=S.replace(r,""),!s.hasAttribute(S))return"";u=_escapeItem(s.getAttribute(S)),m=_getActiveID(s).replace("d-","")+"HOST"+S}else{if(-1!==(S=S.replace(/\[[\'\"]?/g,".").replace(/[\'\"]?\]/g,"")).indexOf(".")){let a=S.split(".")[0];if("window"==a)return S;"scopedVars"==a&&(S=S.replace(/^scopedVars\./,""))}S=i&&privVarScopes[i]?i+"."+S:"main."+S,S=_resolveInnerBracketVars(S);let a=_resolveInheritance(S);u=a.val,u=!0===u?"true":!1===u?"false":null===u?"null":"string"==typeof u?_escapeItem(u,v):"number"==typeof u?u.toString():u&&"object"==typeof u?"__object":"",m=S}if(p&&-1!==n.indexOf("Render")){let a,n;return _addScopedCID(m,r,i),"STYLE"==r.tagName?(a=l?"_cj_s_lts_":"/*",n=l?"_cj_s_gts_":"*/"):(a=l?"_cj_s_lt_":"\x3c!--",n=l?"_cj_s_gt_":"--\x3e"),a+"active-var-"+m+n+u+a+"/active-var"+n}return"SetAttribute"==n&&_addScopedAttr(m,c,f,l,i),u}))),a},_replaceScopedVarsExpr=(a,r=null)=>{if("true"==a||"false"==a||"null"==a)return a;let n,c,l;return a=a.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FFa-z\$][\u00BF-\u1FFF\u2C00-\uD7FF\w_\.\:\'\"\[\]]+)\}/gim,(function(a,s){if(["$HTML","$HTML_ESCAPED","$STRING","$RAND"].includes(s))return s;if(c=s,-1!==s.indexOf(".")){if(l=s.split(".")[0],"window"==l)return"{"+s+"}";l.startsWith("scopedVars")&&(s=s.replace("scopedVars.",""))}s=r&&privVarScopes[r]?r+"."+s:"main."+s,s=_resolveInnerBracketVars(s);let i=_resolveInheritance(s);return n=i.val,void 0!==n?n:"{"+c+"}"}))},_replaceStringVars=(a,r,n)=>{let c="";return r=r.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\[\]\.\$]+)\}/gi,(function(r,l){switch(l){case"$STRING":return c=a&&a.res?a.res:"{$STRING}",c;case"$HTML_NOVARS":case"$HTML_ESCAPED":case"$HTML":let r=(n&&privVarScopes[n]?n:"main")+".__acss"+l.substr(1);return c=_get(scopedVars,r),c=c||"string"==typeof c?ActiveCSS._sortOutFlowEscapeChars(c):"{"+l+"}",c;default:if(-1!==l.indexOf("$")&&-1===["$CHILDREN","$SELF"].indexOf(l)){let a=(n&&privVarScopes[n]?n:"main")+"."+l;return c=_get(scopedVars,a),c||""}return"{"+l+"}"}}))},_resolveAjaxVars=a=>{let r=typeof a.res,n=a.varScope&&privVarScopes[a.varScope]?a.varScope:"main";if("object"!==r||a.preGet)"string"===r&&(a.res=_escapeInline(a.res,"script"),a.res=_escapeInline(a.res,'style type="text/acss"'),_setHTMLVars(a));else{if("main"!=n)return void setTimeout((function(){_resolveAjaxVarsDecl(a.res,n),_ajaxCallbackDisplay(a)}),0);_resolveAjaxVarsDecl(a.res,n)}_ajaxCallbackDisplay(a)},_resolveAjaxVarsDecl=(a,r)=>{let n;for(n in a)_set(scopedVars,r+"."+n,a[n])},_resolveInheritance=a=>{a=a.replace(/\[[\'\"]?/g,".").replace(/[\'\"]?\]/g,"");let r=_get(scopedVars,a),n={name:a,val:r};if(a.startsWith("main.")||void 0!==r||a.startsWith("window."))return n;let c=a.indexOf("."),l=a.substr(0,c),s=a.substr(c+1),i=_resolveInheritanceBubble(l,s);return i||n},_resolveInheritanceBubble=(a,r)=>{let n=strictPrivVarScopes[a];if(void 0===n||n)return!1;let c=compParents[a],l=c&&c.varScope?c.varScope:"main",s=_get(scopedVars,l+"."+r);if(void 0!==s)return{name:l+"."+r,val:s};let i=_resolveInheritanceBubble(l,r);return i||!1},_resolveInnerBracketVars=a=>(-1!==a.indexOf("[")&&(a=a.replace(/\[([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.]+)\]/gm,(function(a,r){let n;if("scopedVars."==r.substr(0,11)){r=r.substr(11),n=_resolveInheritance(r).val}else"window."==r.substr(0,7)?(r=r.substr(7),n=_get(window,r)):n=r;return"["+n+"]"}))),a),_resolvePath=(a,r=self,n=".")=>((Array.isArray(a)?a:a.split(n)).reduce((a,r)=>a&&a[r],r),r),_setHTMLVars=(a,r=!1)=>{let n=r?"":a.res,c=r?"":_escNoVars(a.res),l=r?"":_safeTags(a.res),s=a.varScope&&privVarScopes[a.varScope]?a.varScope:"main";_set(scopedVars,s+".__acssHTML",n),_set(scopedVars,s+".__acssHTML_NOVARS",c),_set(scopedVars,s+".__acssHTML_ESCAPED",l)};ActiveCSS._sortOutFlowEscapeChars=a=>ActiveCSS._mapRegexReturn({_ACSS_later_comma:",",_ACSS_later_brace_start:"{",_ACSS_later_brace_end:"}",_ACSS_later_semi_colon:";",_ACSS_later_colon:":",_ACSS_later_double_quote:'"'},a),ActiveCSS._varUpdateDom=a=>{let r,n,c,l;for(r of a)if(-1!==r.currentPath.indexOf(".")||-1!==r.currentPath.indexOf("HOST"))if("object"==typeof r.previousValue||"object"==typeof r.newValue)for(l of(r.previousValue=r.previousValue?r.previousValue:[],r.previousValue=!0===r.previousValue.__isProxy?r.previousValue.__getTarget:r.previousValue,c=recursiveDiff.getDiff(r.previousValue,r.newValue),c))l.path=r.currentPath+(l.path?"."+l.path.join("."):""),n=_get(scopedData,l.path),n&&(l.val=l.val?l.val:"",_varUpdateDomDo({currentPath:l.path,newValue:l.val,type:l.op},n));else{if(n=_get(scopedData,r.currentPath),!n)continue;_varUpdateDomDo(r,n)}};const _varUpdateDomDo=(a,r)=>{let n,c,l,s,i,u,p,d,_,f;n=a.newValue,_=a.currentPath.indexOf("HOST");let S,m=null;if("_"==a.currentPath.substr(0,1)&&(m=a.currentPath.substr(0,a.currentPath.indexOf(".")),"delete"==a.type&&""==m))return delete shadowDoms[a.currentPath],delete scopedData[a.currentPath],delete actualDoms[a.currentPath],delete compParents[a.currentPath],delete compPrivEvs[a.currentPath],delete varMap[a.currentPath],void delete varStyleMap[a.currentPath];for(c in"object"==typeof varMap[a.currentPath]&&varMap[a.currentPath].forEach((r,c)=>{r.isConnected?r.textContent=_escapeItem(n):varMap[a.currentPath].splice(c,1)}),"object"==typeof varStyleMap[a.currentPath]&&varStyleMap[a.currentPath].forEach((r,c)=>{if(r.isConnected){let c=varInStyleMap[r._acssActiveID].replace(STYLEREGEX,(function(r,c){if(c==a.currentPath)return n;{let a=c.indexOf("HOST");if(-1!==a){let n=c.substr(a+4),l=idMap["id-"+c.substr(1,a-1)];return l&&l.hasAttribute(n)?l.getAttribute(n):r}{let a=_get(scopedVars,c);return a||r}}}));r.textContent=_escapeItem(c)}else varStyleMap[a.currentPath].splice(c,1),delete varInStyleMap[r]}),r.attrs)for(s in S=!1,r.attrs[c]){if(!S){if(S=!0,f=r.attrs[c][s].scopeRef,d=f?actualDoms[f]:document,void 0===d)break;if(p=supportsShadow&&d instanceof ShadowRoot?d.host:idMap["id-"+a.currentPath.substr(1,_-1)],l=idMap[c],!l){delete r.attrs[c];break}}if(i=r.attrs[c][s].orig,!l.hasAttribute(s))return;u=_replaceScopedVars(i,null,"",null,!0,p,m),l.setAttribute(s,u)}};ActiveCSS._deHighlightDOM=()=>{document.querySelectorAll(".activecss-internal-devtools-overlay").forEach((function(a){ActiveCSS._removeObj(a)}))};const _drawHighlight=(a,r)=>{let n=document.createElement("div");n.classList="activecss-internal-devtools-overlay","full"==r?(n.style.backgroundColor="rgba(81, 136, 195, 0.46)",n.style.border="1px solid #34f4ff"):n.style.border="3px dashed #34f4ff",n.style.position="fixed",n.style.zIndex="99999999999999",n.style.display="block",n.style.borderRadius="3px",n.style.top=a.y+"px",n.style.left=a.x+"px",n.style.width=a.width+(isNaN(a.width)?"":"px"),n.style.height=a.height+(isNaN(a.height)?"":"px"),document.body.appendChild(n)};ActiveCSS._hasSetupEnded=()=>setupEnded,ActiveCSS._highlightDOM=a=>{if("body"==(a=_stripOffConditionals(a))||"window"==a)_drawHighlight({x:0,y:0,width:"100%",height:"100%"},"full");else{try{document.querySelectorAll(a).forEach((function(a){if("none"!==getComputedStyle(a,null).display)_drawHighlight(a.getBoundingClientRect(),"full");else{let r=a.style.getPropertyValue("display"),n=a.style.getPropertyPriority("display");a.style.setProperty("display","block","important"),_drawHighlight(a.getBoundingClientRect()),""!==r?a.style.removeProperty("display"):a.style.setProperty("display",r,n)}}))}catch(r){console.log(a+" is not a valid selector.")}}};const _sendMessage=(a,r,n,c="")=>{let l;if("object"==typeof a){let r=Object.assign({},a);r.e&&(r.e=""),r.doc&&(r.doc=""),r.compDoc&&(r.compDoc=""),r.obj&&(r.obj=""),r.secSelObj&&(r.secSelObj=""),l=JSON.stringify(r)}else l=a;if(!setupEnded)return debuggerCo++,void devtoolsInit.push([l,r,debuggerCo]);"debugOutput"==r&&(c||(c=++debuggerCo)),window.postMessage({message:l,messageType:r,orderNo:c,whereTo:n,source:"causejs-devtools-extension"},"*")};ActiveCSS._sendOverMediaQueries=()=>JSON.stringify(Object.assign({},mediaQueriesOrig));const _stripOffConditionals=a=>{let r,n=a.split(":"),c=n.length,l=n[0];for(r=1;r<c;r++)""!==n[r].trim()&&(l+=conditionals[n[r]]?"":":"+n[r]);return l},_tellElementsToUpdate=()=>{debuggerActive&&_sendMessage("reloadElements","instruction","editor")},_tellPanelToUpdate=()=>{debuggerActive&&_sendMessage("reloadPanel","instruction","tracker")};ActiveCSS._addToConfig=(a,r,n,c,l,s,i,u)=>{switch(_setupEvent(r,n),a){case"a":u=_cleanUpRuleValue(u);let a,p=config,d=u.split(", "),_=d.length;for(a=0;a<_;a++)config=_assignRule(p,n,r,c,s,i,d[a],"","","",l)}_tellPanelToUpdate()},ActiveCSS._checkEvEditor=a=>evEditorExtID&&evEditorExtID==a,ActiveCSS._checkEventDupe=(a,r,n)=>{if(!(config[a]&&config[a][n]&&config[a][n][r||0]))return 0;try{return document.querySelector(a)?1:2}catch(r){return console.log(a+" is not a valid selector (4)."),2}},ActiveCSS._checkPrimSel=(a,r,n)=>{if("window"==r||"body"==r)return!0;let c=!1;try{return document.querySelectorAll(r).forEach((function(r,n){if(r.contains(a))return c=!0,!1})),!!c}catch(a){return console.log(r+" is not a valid selector (2)."),!1}};const _cleanUpRuleValue=a=>{let r,n=a.split(","),c=n.length;for(r=0;r<c;r++)n[r]=n[r].trim();return n.join(", ")};ActiveCSS._editConfig=(a,r,n,c,l,s,i,u="",p="",d="",_="",f="",S="",m="",v="")=>{switch(u=u||"0",p=p||"0",_setupEvent(n,l),m=_cleanUpRuleValue(m),v=_cleanUpRuleValue(v),a){case"p":if(!(config[c]&&config[c][r]&&config[c][r][s]&&config[c][r][s][u]))return;let a,g,b,C=config[c][r][s][u];for(a in delete config[c][r][s][u],0===Object.keys(config[c][r][s]).length&&delete config[c][r][s],0===Object.keys(config[c][r]).length&&delete config[c][r],0===Object.keys(config[c]).length&&delete config[c],C)for(g=C[a].length,b=0;b<g;b++)S=C[a][b].name,v=C[a][b].value,ActiveCSS._addToConfig("a",n,l,i,p,a,S,v);break;case"s":if(!(config[c]&&config[c][r]&&config[c][r][s]&&config[c][r][s][u][d]&&config[c][r][s][u][d]))return;let h=config[c][r][s][u][d];delete config[c][r][s][u][d],config[c][r][s][u][_]=h;break;case"a":ActiveCSS._removeFromConfig("a",n,l,i,p,_,f,m),ActiveCSS._addToConfig("a",n,l,i,p,_,S,v)}_tellPanelToUpdate()},ActiveCSS._formatConditional=a=>{let r,n=a.split(":"),c=n.length,l=n[0];for(r=1;r<c;r++)""!==n[r].trim()&&(l+=":",l+=conditionals[n[r]]?'<span class="active-event-cond-inline">'+n[r]+"</span>":n[r]);return l},ActiveCSS._inspectEl=a=>{try{let r=document.querySelector(a);inspect(r)}catch(r){console.log(a+" is not a valid selector (3).")}};const _miniHandleEventForEditor=a=>{let r,n,c,l,s=a.obj,i=a.thisAction,u=a.component?"|"+a.component:null,p=[],d={},_=!1,f=selectors[i].length;if(u){for(r=0;r<f;r++)if(l=selectors[i][r].indexOf(":"),selectors[i][r].substr(0,l)===u&&(n=selectors[i][r].substr(l+1),-1===n.indexOf("<")&&!p.includes(selectors[i][r])))if("&"==n)p.push(selectors[i][r]);else try{s.matches(n)&&p.push(selectors[i][r])}catch(a){}}else for(r=0;r<f;r++)if(!["~","|"].includes(selectors[i][r].substr(0,1))&&(n=selectors[i][r],-1===n.indexOf("<")&&!p.includes(selectors[i][r])))try{s.matches(n)&&p.push(selectors[i][r])}catch(a){}for(f=p.length,c=0;c<f;c++)config[p[c]]&&config[p[c]][i]&&(d[p[c]]||(d[p[c]]={}),d[p[c]]=config[p[c]][i],_=!0);return[d,_]},_removeArrItem=(a,r)=>{let n;for(n=0;n<a.length;n++)if(a[n]===r){a.splice(n,1);break}return a};ActiveCSS._removeFromConfig=(a,r,n,c,l,s,i,u)=>{switch(a){case"p":if(!config[n]||!config[n][r]||!config[n][r][c])return;delete config[n][r][c],0===Object.keys(config[n][r]).length&&delete config[n][r],0===Object.keys(config[n]).length&&delete config[n];break;case"s":if(!(config[n]&&config[n][r]&&config[n][r][c]&&config[n][r][c][l]&&config[n][r][c][l][s]))return;_removeArrItem(config[n][r][c][l],config[n][r][c][l][s]),0===config[n][r][c][l].length&&_removeArrItem(config[n][r][c],config[n][r][c][l]),0===Object.keys(config[n][r][c]).length&&delete config[n][r][c],0===Object.keys(config[n][r]).length&&delete config[n][r],0===Object.keys(config[n]).length&&delete config[n];break;case"a":config=_removeRule(config,n,r,c,l,s,i,u)}_tellPanelToUpdate()};const _removeRule=(a,r,n,c,l,s,i,u)=>{let p;if(void 0===a[r][n][c])return a;if(void 0===a[r][n][c][l])return a;if(void 0===a[r][n][c][l][s])return a;if(p=ActiveCSS._getPosOfRule(a[r][n][c][l][s],i),-1!=p)if(u=_cleanUpRuleValue(u),a[r][n][c][l][s][p].value==u)a[r][n][c][l][s].splice(p,1),0===a[r][n][c][l][s].length&&_removeArrItem(config[r][n][c][l],config[r][n][c][l][s]),0===a[r][n][c][l].length&&delete config[r][n][c][l],0===Object.keys(a[r][n][c]).length&&delete config[r][n][c],0===Object.keys(a[r][n]).length&&delete config[r][n],0===Object.keys(a[r]).length&&delete config[r];else{let i,d,_,f,S=u.split(","),m=S.length;for(i=0;i<m;i++)f=S[i].trim(),d=a[r][n][c][l][s][p].value.split(", "),_=d.indexOf(f),-1!==index&&d.splice(index,1),a[r][n][c][l][s][p].value=d.join(", ")}return a};ActiveCSS._returnTree=a=>{if(!setupEnded)return;let r,n,c,l,s,i={},u=a;l=_getRootNode(a),l.isSameNode(document)||(s=l.host._acssComponent,s||(s=null)),Object.keys(selectors).sort().forEach((function(l){var p,d,_="";a=u,n=0;let f=l;if(f=_getRealEvent(f),c=!0,!1===f&&(c=!1),_=s,c){let a=document.createElement("div");a.id="cause-js-elements-ext",document.body.append(a),a.attachShadow({mode:"open"});let r=document.createElement("div");a.shadowRoot.append(r),r.addEventListener(f,(function(a){a.preventDefault(),a.stopImmediatePropagation(),p=a.bubbles,d=a.composed}),{capture:!1,once:!0});try{r[f]()}catch(a){p=!1,d=!1}ActiveCSS._removeObj(a)}else p=!1;if("mouseover"!=l&&"click"!=l||"A"!=a.tagName||a._acssNavDrawn||_setUpNavAttrs(a),"window"!=a&&a){for(;a.parentNode&&(r=_miniHandleEventForEditor({obj:a,thisAction:l,component:_}),r[1]&&(i[l]||(i[l]={}),i[l][n]||(i[l][n]={}),i[l][n]=r[0],n++),p);)if((a=a.parentNode)&&a instanceof ShadowRoot){if(!d)break;a=a.host;let r=_getRootNode(a);r.isSameNode(document)?_=null:(_=r.host._acssComponent)||(_=null)}r=_miniHandleEventForEditor({obj:window,thisAction:l})}})),_sendMessage(i,"treeSent","editor")},ActiveCSS._startEvEditor=a=>(evEditorActive=!0,evEditorExtID=a,coreVersionExtension),ActiveCSS._checkDebugger=a=>debuggerExtID&&debuggerExtID==a;const _debugOutput=a=>{_sendMessage(a,"debugOutput","tracker")};ActiveCSS._sendInitMessages=()=>{let a,r=devtoolsInit.length;for(a=0;a<r;a++)_sendMessage(devtoolsInit[a][0],devtoolsInit[a][1],"tracker",devtoolsInit[a][2]);devtoolsInit=[]},ActiveCSS._sendOverComponents=()=>JSON.stringify(Object.assign({},components)),ActiveCSS._sendOverConditionals=()=>JSON.stringify(Object.assign({},conditionals)),ActiveCSS._sendOverConfig=()=>JSON.stringify(Object.assign({},config)),ActiveCSS._sendOverEvents=()=>debuggerEvs,ActiveCSS._startDebugger=a=>(debuggerness=!0,debuggerActive=!0,debuggerExtID=a,coreVersionExtension);const _stopDebugger=()=>{debuggerness=!1,debuggerActive=!1},_stopEvEditor=()=>{evEditorActive=!1},_cookieExists=a=>!(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie),_getCookie=a=>a&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null,_setCookie=(a,r,n,c,l,s,i,u)=>{if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var p="";if(n)switch(n.constructor){case Number:p=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:p="; expires="+n}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(r)+p+(l?"; domain="+l:"")+(c?"; path="+c:"")+(s?"; Secure":"")+(i?"; samesite="+i:u?"; HttpOnly":""),!0},_addActValRaw=a=>{a.avRaw=a.actVal,-1!==a.avRaw.indexOf("?")&&(a.avRaw=_getBaseURL(a.avRaw))},_ajax=(a,r,n,c,l,s,i)=>{preGetMid++;var u,p=new XMLHttpRequest;switch(p.open(a,n,!0),r){case"html":case"txt":u="text/html";break;case"json":u="application/json";break;default:u="application/x-www-form-urlencoded"}p.setRequestHeader("Content-type",u),p.onreadystatechange=function(){if(4==p.readyState){if(200!=p.status){if(preGetMid--,!s)return void console.log("Tried to get file: "+n+", but failed with error code: "+p.status);s(p.responseText,p.status,i)}preGetMid--,null!==l&&l(p.responseText,i)}},"POST"==a&&null!==c?p.send(c):p.send()},_ajaxCallback=(a,r)=>{"string"==typeof a&&""!==a.trim()?(r.res="JSON"==r.dataType?JSON.parse(a):a,_resolveAjaxVars(r)):(r.res="",_setHTMLVars(r,!0),_ajaxCallbackDisplay(r))},_ajaxCallbackDisplay=a=>{a.error||!a.cache&&!a.preGet||(ajaxResLocations[a.finalURL]=a.res),!a.error&&a.preGet?_handleEvents({obj:a.obj,evType:"afterAjaxPreGet"+(a.error?a.errorCode:""),eve:a.e,otherObj:a,varScope:a.varScope,evScope:a.evScope,compDoc:a.compDoc,component:a.component,_maEvCo:a._maEvCo,_taEvCo:a._taEvCo}):_ajaxDisplay(a),delete a.res},_ajaxCallbackErr=(a,r,n)=>{n.preGet?(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax-pre-get callback error debug: failed with error "'+r+'".'):(n.error=!0,n.errorCode=r,_ajaxCallback(a,n),(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax callback error debug: failed with error "'+r+'".'))},_ajaxDisplay=a=>{let r="afterAjax"+(a.formSubmit?"Form"+(a.formPreview?"Preview":a.formSubmit?"Submit":""):"");a.error&&(r+=a.errorCode),_handleEvents({obj:a.obj,evType:r,eve:a.e,otherObj:a,varScope:a.varScope,evScope:a.evScope,compDoc:a.compDoc,component:a.component,_maEvCo:a._maEvCo,_taEvCo:a._taEvCo}),""!==a.hash&&(document.location.hash="",document.location.hash=a.hash)},_ajaxDo=a=>{if(a.preGet&&preGetMid){let r=_getParVal(a.actVal,"max");if(preGetMid==(preGetMax=""!=r?r:6))return}let r=a.actVal.split(" ");a.formMethod=_optDef(r,"get","GET","POST"),a.dataType=_optDef(r,"html","HTML","JSON"),a.cache=_optDef(r,"cache",!0,!1),a.nocache=_optDef(r,"nocache",!0,!1);let n=(a.nocache?"_="+Date.now()+"&":"")+"_ACSS=1"+(a.formPreview?"&_ACSSFORMPREVIEW=1":"")+(a.formSubmit?"&_ACSSFORMSUBMIT=1":"")+"&_ACSSTYPE="+a.dataType;a.pars=n;let c=a.url;if(a.preGet&&""===c)return;a.formSubmit&&(a.pars+="&"+_checkForm(a.secSelObj,"pars")),"GET"==a.formMethod&&(c=_appendURIPar(c,a.pars,a.doc)),a.hash="";let l=c.indexOf("#");-1!==l&&(a.hash=c.substr(l+1),c=c.substr(0,l)),c=_attachGetVals(a.actVal,c,a.doc,"get-pars"),a.pars=_attachPostVals(a.actVal,a.pars),a.finalURL="GET"==a.formMethod?c:_appendURIPar(c,a.pars,a.doc),ajaxResLocations[a.finalURL]?a.preGet||(a.res=ajaxResLocations[a.finalURL],_resolveAjaxVars(a)):_ajax(a.formMethod,a.dataType,c,a.pars,_ajaxCallback.bind(this),_ajaxCallbackErr.bind(this),a)},_appendURIPar=(a,r,n)=>{var c=new RegExp("^([a-z]+://|//)","i");""!==a&&c.test(a)||(a=window.location.protocol+"//"+window.location.host+("/"!=a.substr(0,1)?"/":"")+a);let l,s,i=new URL(a),u=r.split("&"),p="";for(l of u)if(-1!==l.indexOf("="))s=l.split("="),s[1]?i.searchParams.set(s[0],s[1]):i.searchParams.set(s[0],"");else if("{#"==l.substr(0,2)){let a=l.slice(2,-1),r=n.getElementById(a);if("FORM"==r.tagName){let a=_checkForm(r,"pars"),c=_appendURIPar(i,a,n);i=new URL(c)}}else p+=l;return i+p},_attachGetVals=(a,r,n,c)=>{let l=_getParVal(a,c);return l&&(r=_appendURIPar(r,l,n)),r},_attachPostVals=(a,r)=>{let n=_getParVal(a,"post-pars");return n&&(r+="&"+n),r},_getFile=(a,r,n={})=>{_ajax("GET",r,a,null,_addConfig.bind(this),_addConfigError.bind(this),n)},_getParVal=(a,r)=>{if(-1!==a.indexOf(r+"(")){let n=new RegExp(r+"\\(([^)]*)\\)","g").exec(a)||"";if(n)return n[1]}return""},_actValSelItem=a=>{let r=a.actVal.split(" "),n=r.splice(-1);return[_getSel(a,r.join(" ")),n[0]]};ActiveCSS._addClassObj=(a,r)=>{if(!a||!a.classList)return;let n=r.replace(".","").split(" ");a.classList.add(...n)};const _checkForm=(a,r)=>{if(!a)return!1;for(var n,c,l,s,i,u,p="check"==r,d="pars"==r,_="",f=[],S=0,m=a.elements.length;S<m;S++)if(c=!1,(n=a.elements[S]).hasAttribute("name")){switch(n.nodeName.toLowerCase()){case"select":for(l=0,s=0,i=n.options.length;s<i;s++)u=n.options[s],c=c||u.selected!=n.defaultSelected,u.defaultSelected&&(l=s);c&&!n.multiple&&(c=l!=n.selectedIndex),_+="&"+n.getAttribute("name")+"="+encodeURIComponent(n.options[n.selectedIndex].value);break;case"textarea":case"input":switch(n.type.toLowerCase()){case"checkbox":c=n.checked!=n.defaultChecked,_+="&"+n.getAttribute("name")+"="+(n.checked?"on":"");break;case"radio":c=n.checked!=n.defaultChecked,n.checked&&(_+="&"+n.getAttribute("name")+"="+encodeURIComponent(n.value));break;default:c=n.value!=n.defaultValue,_+="&"+n.getAttribute("name")+"="+encodeURIComponent(n.value)}break;case"hidden":_+=d?"&"+n.getAttribute("name")+"="+encodeURIComponent(n.value):""}p&&c&&f.push(n)}return p?!!f.length:d?"_ACSSFORMNAME="+(a.name?a.name:"")+_:void 0},_componentDetails=a=>{let r=_getRootNode(a);return _getComponentDetails(r)},_composedPath=a=>{if(a.composedPath)return a.composedPath();{if(a.path)return a.path;let r=a.target,n=[];for(;null!==r.parentNode;)n.push(r),r=r.parentNode;return n.push(document,window),n}},_convertToMS=(a,r)=>{if("stack"==a)return 0;var n=/^(\d+)(ms|s)?$/i.exec(a);if(!n)return console.log(r),!1;var c=parseFloat(n[1]);return"s"==(n[2]||"ms").toLowerCase()?1e3*c:c};ActiveCSS._decodeHTML=a=>(new DOMParser).parseFromString(a,"text/html").documentElement.textContent;const _doDebug=(a,r)=>{if(r){if(-1!==debugMode.indexOf(":")){let n=r.split(":");return-1!==debugMode.indexOf(n[0]+":"+a)}return-1!==debugMode.indexOf(r)||-1!==debugMode.indexOf(a)}return-1!==debugMode.indexOf(":")?-1!==debugMode.indexOf(a)&&debugMode.indexOf(":")!==debugMode.indexOf(a)-1:-1!==debugMode.indexOf(a)},_eachRemoveClass=(a,r,n)=>{n.querySelectorAll("."+a).forEach((function(a,n){a&&ActiveCSS._removeClassObj(a,r)}))};function _escCommaBrack(a,r){a=(a=a.replace(/\\\"/g,"_ACSS_i_dq")).replace(/\\'/g,"_ACSS_i_sq");let n,c={"\\,":"__ACSS_int_com","\\(":"_ACSS_i_bo","\\)":"_ACSS_i_bc","\\{":"_ACSS_i_co","\\}":"_ACSS_i_cc","\\[":"_ACSS_i_so","\\]":"_ACSS_i_sc"},l={",":"__ACSS_int_com","(":"_ACSS_i_bo",")":"_ACSS_i_bc","{":"_ACSS_i_co","}":"_ACSS_i_cc","[":"_ACSS_i_so","]":"_ACSS_i_sc"},s=(a=(a=a.replace(/("([^"]|"")*")/g,(function(a,r){return ActiveCSS._mapRegexReturn(c,r,l)}))).replace(/('([^']|'')*')/g,(function(a,r){return ActiveCSS._mapRegexReturn(c,r,l)}))).split(","),i=0,u="";for(n of s)i+=n.split("[").length-n.split("]").length,i+=n.split("(").length-n.split(")").length,i+=n.split("{").length-n.split("}").length,u+=0!==i?n+"__ACSS_int_com":n+",";return 0!==i?(u=_escCommaBrackClean(u,l),u=u.replace(/__ACSS_int_com/g,","),console.log("Unbalanced JavaScript equation in var command - too many brackets, curlies or parentheses, or there could be incorrectly escaped characters: "+u+", in config: "+r.file+", line: "+r.line),u):(u=u.slice(0,-1),u=u.replace(/\,/g,"_ACSSComma"),u=_escCommaBrackClean(u),u)}function _escCommaBrackClean(a,r){let n={_ACSS_i_dq:'\\"',_ACSS_i_sq:"\\'",__ACSS_int_com:",",_ACSS_i_bo:"(",_ACSS_i_bc:")",_ACSS_i_co:"{",_ACSS_i_cc:"}",_ACSS_i_so:"[",_ACSS_i_sc:"]"};return a=(a=a.replace(/("([^"]|"")*")/g,(function(a,r){return ActiveCSS._mapRegexReturn(n,r)}))).replace(/('([^']|'')*')/g,(function(a,r){return ActiveCSS._mapRegexReturn(n,r)}))}const _escNoVars=a=>a.replace(/\{/gim,"__ACSSnoVarsOpCurly").replace(/\}/gim,"__ACSSnoVarsClCurly"),_fullscreenDetails=()=>{let a;return a="MSGesture"in window?[document.webkitFullscreenElement,"webkit"]:[document.fullscreenElement,""],a},_get=(a,r,n)=>(a=a[(r=Array.isArray(r)?r:r.replace(/(\[(\d)\])/g,".$2").split("."))[0]])&&r.length>1?_get(a,r.slice(1),n):void 0===a?n:a,_getActiveID=a=>{if(!a.isConnected)return _getTempActiveID(a);if(a){if(!a._acssActiveID){let r="id-"+ ++activeIDTrack;a._acssActiveID=r,idMap[r]=a}return a._acssActiveID}return!1},_getBaseURL=a=>-1!==a.indexOf("?")?a.substr(0,a.indexOf("?")):a,_getComponentDetails=a=>{let r;return a.isSameNode(document)?{component:null,compDoc:null,varScope:null,evScope:null,privateEvs:null,strictVars:null,topEvDoc:null}:(r=a,supportsShadow&&a instanceof ShadowRoot&&(r=a.host),{component:r._acssComponent,compDoc:a,varScope:r._acssVarScope,evScope:r._acssEvScope,privateEvs:r._acssPrivEvs,strictVars:r._acssStrictVars,topEvDoc:r._acssTopEvDoc})},_getComponentRoot=a=>{let r=!(!a.parentElement||supportsShadow&&(!supportsShadow||a.parentNode instanceof ShadowRoot))&&a.parentElement.closest("[data-active-scoped]"),n=a.getRootNode();return!r&&n.isSameNode(document)?document:r?r&&n.isSameNode(document)?r:idMap[r._acssActiveID]?r:n:n},_getFieldValType=a=>{switch(a.tagName){case"INPUT":case"TEXTAREA":return"value";default:return"innerText"}},_getFocusedOfNodes=(a,r)=>{let n,c,l,s=-1,i=-1;if(n=_splitIframeEls(a,r),!n)return!1;if(null===n[0].activeElement)return-1;for(l of(c=n[0].querySelectorAll(n[1])||null,c))if(s++,l.isSameNode(n[0].activeElement)){i=s;break}return[c,i]},_getObj=(a,r)=>{let n=_splitIframeEls(a,r);if(!n)return!1;try{return n[0].querySelector(n[1])}catch(a){return!1}},_getPastFutureDate=a=>{let r,n=1,c=a.replace(/^([\+|\-]?[\d\.]+)/,(function(a,r){return n=1*r,""})).trim();c=c.replace(/s/g,"").toLowerCase().trim();let l=new Date;switch(c){case"year":r=l.setFullYear(l.getFullYear()+n);break;case"month":r=l.setMonth(l.getMonth()+n);break;case"day":r=l.setHours(l.getHours()+24*n);break;case"hour":case"minute":r=l.setHours(l.getHours()+n);break;case"econd":r=l.setSeconds(l.getSeconds()+n);break;default:r=null}return r?new Date(r):null},_getRealEvent=a=>{let r=a.substr(0,5);if("after"==r&&"afterprint"!=a)return!1;if("keyup"==r)a="keyup";else if("keydown"==a.substr(0,7))a="keydown";else if("fullscreenEnter"==a||"fullscreenExit"==a)a=_fullscreenDetails()[1]+"fullscreenchange";else{if(["draw","disconnectCallback","adoptedCallback","attributeChangedCallback","beforeComponentOpen","componentOpen"].includes(a))return!1;if("attrChange"==a.substr(0,10))return!1}return a},_getRootNode=a=>supportsShadow?_getComponentRoot(a):_getScopedRoot(a)||document,_getScopedRoot=a=>a.parentNode?a.parentNode.closest("[data-active-scoped]"):null,_getSel=(a,r,n)=>{switch(r){case"me":case"self":case"this":return a.secSelObj;case"host":if(-1!==["beforeComponentOpen","componentOpen"].indexOf(a.event))return a.secSelObj;let c=_getRootNode(a.secSelObj);return c._acssScoped?c:c.host;default:return!0!==n&&_getObj(r,a)}},_getTempActiveID=a=>!(!a||!a.dataset)&&(a.dataset.activeid||(activeIDTrack++,a.dataset.activeid="id-"+activeIDTrack),a.dataset.activeid),_getValFromList=(a,r,n=!1)=>{let c,l,s,i=-1;for(c in a)if(a.hasOwnProperty(c)){if(i++,l=a[c],n&&l.name==r)return i;for(s in l)if(l.hasOwnProperty(s)&&!n&&l[s]==r)return l.value.replace(/"/g,"")}return!!n&&-1},_getWindow=a=>{try{return a.defaultView||a.parentWindow}catch(a){return window}},_handleQuoAjax=(a,r)=>r._ACSSRepQuo();ActiveCSS._hasClassObj=(a,r)=>a.classList.contains(r)||!1;const _htmlToElement=a=>{let r=document.createElement("template");return a=a.trim(),r.innerHTML=a,r.content.firstChild},_ifFocus=(a,r=!0)=>{let n=_getFocusedOfNodes(a.actVal,a);return r?0===n[1]:n[1]==n[0].length-1};ActiveCSS._ifVisible=(a,r)=>{let n=("object"==typeof a.actVal?a.actVal:""==a.actVal._ACSSRepQuo().trim()?a.secSelObj:_getSel(a,a.actVal)).getBoundingClientRect(),c=n.top,l=n.bottom;return r?c>=0&&l<=window.innerHeight:c<window.innerHeight&&l>=0};const _isACSSStyleTag=a=>"STYLE"==a.tagName&&a.hasAttribute("type")&&"text/acss"==a.getAttribute("type"),_isConnected=a=>a.isConnected||a===self||a===document.body,_isInlineLoaded=a=>{let r="_inline_"+_getActiveID(a);return configBox.find(a=>a.file===r)},_mimicReset=a=>{var r,n;for(r in a.target.cjsReset)if("title"!=r)switch((n=a.target.cjsReset[r]).type){case"text":n.el.innerText=n.value;break;default:n.el.value=n.value}a.target.cjsReset.title&&(currDocTitle=ActiveCSS._decodeHTML(a.target.cjsReset.title),document.title=currDocTitle)},_optDef=(a,r,n,c)=>(Array.isArray(a)||(a=a.split(" ")),r=r.toLowerCase(),-1!==a.findIndex(a=>r===a.toLowerCase())?n:c),_outDebug=(a,r)=>{if(a){let a;for(a of r)console.log(a)}};var e,t;e="undefined"!=typeof self?self:this,t=function(){return function(a){var r={};function n(c){if(r[c])return r[c].exports;var l=r[c]={i:c,l:!1,exports:{}};return a[c].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=a,n.c=r,n.d=function(a,r,c){n.o(a,r)||Object.defineProperty(a,r,{enumerable:!0,get:c})},n.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},n.t=function(a,r){if(1&r&&(a=n(a)),8&r)return a;if(4&r&&"object"==typeof a&&a&&a.__esModule)return a;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),2&r&&"string"!=typeof a)for(var l in a)n.d(c,l,function(r){return a[r]}.bind(null,l));return c},n.n=function(a){var r=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(r,"a",r),r},n.o=function(a,r){return Object.prototype.hasOwnProperty.call(a,r)},n.p="",n(n.s=0)}([function(a,r,n){const{types:c,iterableTypes:l,errors:s}=n(1),i=n(2),u={[c.NUMBER]:i.isNumber,[c.BOOLEAN]:i.isBoolean,[c.STRING]:i.isString,[c.DATE]:i.isDate,[c.UNDEFINED]:i.isUndefined,[c.NULL]:i.isNull,[c.ARRAY]:i.isArray,[c.MAP]:i.isMap,[c.SET]:i.isSet,[c.ITERABLE_OBJECT]:i.isIterableObject},p={[c.DATE]:i.areDatesEqual};function d(a){const r=Object.keys(u);let n=c.DEFAULT;for(let c=0;c<r.length;c+=1)if(u[r[c]](a)){n=r[c];break}return n}function _(a,r,n,l){let s;return n===c.UNDEFINED&&l!==c.UNDEFINED?s="add":n!==c.UNDEFINED&&l===c.UNDEFINED?s="delete":function(a,r,n,c){return n===c&&(p[n]?p[n](a,r):a===r)}(a,r,n,l)?i.noop():s="update",s}const f={add:i.setValueByPath,update:i.setValueByPath,delete:i.deleteValueByPath};a.exports={getDiff:(a,r,n=!1)=>function a(r,n,s,i,u){const p=d(r),f=d(n),S=i||[],m=u||[];if(function(a,r){return a===r&&l.indexOf(a)>=0}(p,f)){const l=function(a,r,n){let l;return n===c.ITERABLE_OBJECT?l=new Set(Object.keys(a).concat(Object.keys(r))):n===c.ARRAY&&(l=a.length>r.length?new Array(a.length):new Array(r.length),l=l.fill(0,0),l=l.map((a,r)=>r),l=new Set(l)),l}(r,n,p).values();let i=l.next().value;for(;null!=i;)a(r[i],n[i],s,S.concat(i),m),i=l.next().value}else{const a=_(r,n,p,f);null!=a&&m.push(function(a,r,n,c,l){const s={op:n,path:c};return"add"!==n&&"update"!==n||(s.val=r),l&&"add"!==n&&(s.oldVal=a),s}(r,n,a,i,s))}return m}(a,r,n),applyDiff:(a,r,n)=>function(a,r,n){if(!(r instanceof Array))throw new Error(s.INVALID_DIFF_FORMAT);let c=a;return r.forEach(a=>{const{op:r,val:l,path:i}=a;if(!f[r])throw new Error(s.INVALID_DIFF_OP);c=f[r](c,i,l,n)}),c}(a,r,n)}},function(a,r){const n={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",STRING:"STRING",NULL:"NULL",UNDEFINED:"UNDEFINED",DATE:"DATE",ARRAY:"ARRAY",MAP:"MAP",SET:"SET",ITERABLE_OBJECT:"ITERABLE_OBJECT",DEFAULT:"OBJECT"};a.exports={types:n,iterableTypes:[n.ITERABLE_OBJECT,n.MAP,n.ARRAY,n.SET],errors:{EMPTY_DIFF:"No diff object is provided, Nothing to apply",INVALID_DIFF_FORMAT:"Invalid diff format",INVALID_DIFF_OP:"Unsupported operation provided into diff object"}}},function(a,r){const n=a=>r=>r instanceof a,c=n(Date),l=n(Array),s=n(Map),i=n(Set),u=a=>"[object Object]"===Object.prototype.toString.call(a);a.exports={isNumber:a=>"number"==typeof a,isBoolean:a=>"boolean"==typeof a,isString:a=>"string"==typeof a,isDate:c,isUndefined:a=>void 0===a,isNull:a=>null===a,isArray:l,isMap:s,isSet:i,isIterableObject:u,noop:()=>{},areDatesEqual:(a,r)=>a.getTime()===r.getTime(),setValueByPath:function(a,r=[],n,c){if(!l(r))throw new Error(`Diff path: "${r}" is not valid`);const{length:s}=r;if(0===s)return n;let i=a;for(let l=0;l<s;l+=1){const u=r[l];if(!i)throw new Error(`Invalid path: "${r}" for object: ${JSON.stringify(a,null,2)}`);if(null==u)throw new Error(`Invalid path: "${r}" for object: ${JSON.stringify(a,null,2)}`);l!==s-1?(i=i[u],c&&c(i)):i[u]=n}return a},deleteValueByPath:function(a,r){const n=r||[];if(0===n.length)return;let c=a;const{length:l}=n;for(let s=0;s<l;s+=1)if(s!==l-1){if(!c[n[s]])throw new Error(`Invalid path: "${r}" for object: ${JSON.stringify(a,null,2)}`);c=c[n[s]]}else if(u(c))delete c[n[s]];else{const a=parseInt(n[s],10);for(;c.length>a;)c.pop()}return a}}}])},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.recursiveDiff=t():e.recursiveDiff=t(),ActiveCSS._removeClassObj=(a,r)=>{if(!a||!a.classList)return;let n=r.replace(".","").split(" ");a.classList.remove(...n)},ActiveCSS._removeObj=a=>{a&&a.remove()};const _replaceTempActiveID=a=>{a&&a.dataset&&a.dataset.activeid&&(a._acssActiveID=a.dataset.activeid,a.removeAttribute("data-activeid"),idMap[a._acssActiveID]=a)},_resolveURL=a=>{if(inIframe)return a;let r=document.location.href,n=history.state,c=document.title;history.replaceState(n,c,a);let l=document.location.href;return history.replaceState(n,c,r),l},_safeTags=a=>ActiveCSS._mapRegexReturn({"&":"&amp;","<":"&lt;",">":"&gt;","/":"&sol;","{":"&#123;","}":"&#125;"},a),_selCompare=(a,r)=>{let n,c,l,s=a.actVal._ACSSSpaceQuoIn();if("eM"==r){if(!s)return!0;if(s&&"__object"==s)return!1;n=s._ACSSSpaceQuoOut()._ACSSRepQuo()}else n=s.split(" "),c=n.pop()._ACSSSpaceQuoOut()._ACSSRepQuo(),n=n.join(" ");l=_getSel(a,n);let i=!1;if(-1!==["maW","miW","maH","miH"].indexOf(r)&&(i=!0),!l){if(i)return!1;l=n}if(i){let a,n;switch(c=c.replace("px",""),r){case"maW":case"miW":n="width";break;case"maH":case"miH":n="height"}if(n){let r=l.style[n];if(r)a=r.replace("px","");else{let r=l.getBoundingClientRect();a=r&&r[n]?r[n]:0}}switch(r){case"maW":case"maH":return a<=c;case"miW":case"miH":return a>=c}}switch(r){case"eM":case"maL":case"miL":let a;if(l&&!i&&l.nodeType&&l.nodeType==Node.ELEMENT_NODE){a=l[_getFieldValType(l)]}else a=l;switch(r){case"eM":return!a||""===a;case"maL":return a.length<=c;case"miL":return a.length>=c}break;case"iT":return l&&c==l.innerText;case"iH":return l&&c==l.innerHTML}},_set=(a,r,n)=>Object(a)!==a?a:(Array.isArray(r)||(r=r.toString().match(/[^.[\]]+/g)||[]),r.slice(0,-1).reduce((a,n,c)=>Object(a[n])===a[n]?a[n]:a[n]=Math.abs(r[c+1])>>0==+r[c+1]?[]:{},a)[r[r.length-1]]=n,a),_setClassObj=(a,r)=>{a&&a.classList&&(a.className=r)},_setsrcObj=(a,r)=>{a&&(a.src=r)},_toggleClassObj=(a,r)=>{a&&a.classList&&a.classList.toggle(r)},_unEscNoVars=a=>a.replace(/__ACSSnoVarsOpCurly/gim,"{").replace(/__ACSSnoVarsClCurly/gim,"}"),_unSafeTags=a=>ActiveCSS._mapRegexReturn({"&amp;":"&","&lt;":"<","&gt;":">","&sol;":"/","&#123;":"{","&#125;":"}"},a),_urlTitle=(a,r,n)=>{inIframe||(a=a.replace(/"/g,""),r=r.replace(/"/g,""),a=_resolveURL(a),window.location.href!=a&&window.history.pushState(a,r,a),document.title=r)};String.prototype._ACSSCapitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype._ACSSCapitalizeAttr=function(){return this.replace(/(^|[\s-])\S/g,(function(a){return a.toUpperCase()}))},String.prototype._ACSSConvFunc=function(){return this._ACSSCapitalizeAttr().replace(/\-/g,"")},String.prototype._ACSSRepAllQuo=function(){return this.replace(/"/g,"")},String.prototype._ACSSRepQuo=function(){var a=this.replace(/\\"/g,"_ACSS*%_");return a=(a=a.replace(/(^")|("$)/g,"")).replace(/_ACSS\*%_/g,'"')},String.prototype._ACSSSpaceQuoIn=function(){return this.replace(/"(.+?)"/g,(function(a,r){return r='"'+r.replace(/ /g,"_ACSS_space")+'"'}))},String.prototype._ACSSSpaceQuoOut=function(){return this.replace(/_ACSS_space/g," ")},document.head.attachShadow||(supportsShadow=!1,"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(a,r){r=r||window;for(var n=0;n<this.length;n++)a.call(r,this[n],n,this)}),document.addEventListener("DOMContentLoaded",(function(a){setTimeout((function(){userSetupStarted||(autoStartInit=!0,ActiveCSS.init())}),0)}))}(window,document);