!function(global,document){"use strict";const PARSELINEX=/([^\:]+):([^\;]*)(;)?/,PARSEREGEX=/((?!\*debugfile)[^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|((?!\*debugfile)[^\;\{\}]+\;(?!\s*\*\/))|(\*debugfile[\s\S]*?\*)/gim,PARSESEL=1,PARSEEND=2,PARSEATTR=3,PARSEDEBUG=4,COLONSELS="^((active|any\\-link|blank|checked|current|default|disabled|drop|empty|enabled|first\\-child|first\\-of\\-type|focus|focus\\-visible|focus\\-within|future|hover|indeterminate|in\\-range|invalid|last\\-child|last\\-of\\-type|link|local\\-link|only\\-child|only\\-of\\-type|optional|out\\-of\\-range|past|paused|placeholder\\-shown|playing|read\\-only|read\\-write|required|root|scope|target|target\\-within|user\\-error|user\\-invalid|valid|visited)(?![\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w_\\-])|(current|dir|drop|has|is|lang|not|nth\\-column|nth\\-child|nth\\-last\\-child|nth\\-last\\-column|nth\\-last\\-of\\-type|nth\\-of\\-type|where)\\()",DYNAMICCHARS={",":"_ACSS_later_comma","{":"_ACSS_later_brace_start","}":"_ACSS_later_brace_end",";":"_ACSS_later_semi_colon",":":"_ACSS_later_colon",'"':"_ACSS_later_double_quote"},STYLEREGEX=/\/\*active\-var\-([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\:\[\]]+)\*\/(((?!\/\*).)*)\/\*\/active\-var\*\//g;window.ActiveCSS={},"undefined"!=typeof module&&(module.exports=ActiveCSS);var coreVersionExtension="2-0-0",_a={},_c={},parsedConfig={},config=[],configArr=[],configLine="",configFile="",lazyConfig=[],concatConfig="",concatConfigCo=0,concatConfigLen=0,currentPage="",ajaxResLocations={},pageList=[],eventState={},delayArr=[],cancelIDArr=[],cancelCustomArr=[],intIDCounter=0,selectors=[],userSetupStarted=!1,autoStartInit=!1,setupEnded=!1,clickOutsideSet=!1,clickOutsideSels=[],mimicClones=[],currDocTitle=document.title,debugMode="",conditionals=[],components=[],mediaQueries=[],mediaQueriesOrig=[],activeIDTrack=0,scriptTrack=[],debuggerActive=!1,debuggerness=!1,debuggerExtID=null,debuggerEvs=["afterLoadConfig"],debuggerCo=0,evEditorExtID=null,evEditorActive=!1,devtoolsInit=[],scoped={},scopedVars=null,scopedData={},labelData=[],labelByIDs=[],customTags=[],compCount=0,compPending={},compParents=[],compPrivEvs=[],privVarScopes=[],shadowSels=[],shadowDoms={},actualDoms={},preGetMax=6,preGetMid=0,reverseShadowEvs={},allEvents=[],doesPassive=!1,preSetupEvents=[],nonPassiveEvents=[],passiveEvents=!0,inlineConfigTags=null,supportsShadow=!0,idMap=[],varMap=[],varStyleMap=[],varInStyleMap=[],elementObserver;ActiveCSS.customHTMLElements={},_a.AddClass=a=>{ActiveCSS._addClassObj(a.secSelObj,a.actVal)},_a.Ajax=a=>{a.url=a.actVal.split(" ")[0]._ACSSRepQuo(),_ajaxDo(a)},_a.AjaxFormPreview=a=>{a.formPreview=!0,_a.AjaxFormSubmit(a)},_a.AjaxFormSubmit=a=>{a.formSubmit=!0;const n=a.secSelObj;n?(a.url=n.action,_ajaxDo(a)):console.log("Active CSS error: Form not found.",a.secSelObj)},_a.AjaxPreGet=a=>{a.preGet=!0,_a.Ajax(a)},_a.Alert=a=>{alert(a.actVal._ACSSRepQuo())},_a.Blur=a=>{document.activeElement.blur()},_a.CancelTimer=a=>{let n,r,c,l,s,i=a.actVal.trim(),u=i._ACSSConvFunc(),p=!0,d=a.compRef?a.compRef:"main";if(labelData[d+i]){let a=labelData[d+i];_clearTimeouts(delayArr[a.del][a.func][a.pos][a.intID][a.loopRef]),_removeCancel(a.del,a.func,a.pos,a.intID,a.loopRef)}else{if(l="string"==typeof a.secSel&&["~","|"].includes(a.secSel.substr(0,1))?a.secSel:_getActiveID(a.secSelObj),!l)return;if(delayArr[l])if("all"==i)for(n in delayArr[l])for(r in delayArr[l][n])for(c in delayArr[l][n][r])for(s in delayArr[l][n][r][c])_clearTimeouts(delayArr[l][n][r][c][s]),_removeCancel(l,n,r,c,s);else if(delayArr[l]&&delayArr[l][u])for(r in delayArr[l][u])for(c in delayArr[l][u][r])for(s in delayArr[l][u][r][c])_clearTimeouts(delayArr[l][u][r][c][s]),_removeCancel(l,u,r,c,s);else p=!1;else p=!1;if(!p){let n,r=[];if(Object.keys(delayArr).forEach((function(n){["~","|"].includes(n.substr(0,1))||a.doc.querySelectorAll(n).forEach((function(a,n){r.push(_getActiveID(a))}))})),"object"==typeof a.secSel)n=_getActiveID(a.secSel),cancelIDArr[n]&&cancelIDArr[n][u]||!r.includes(n)||_addCancelAttr(a.secSel,u);else if(["~","|"].includes(a.secSel.substr(0,1))){if(!(delayArr[l]&&delayArr[l][u]&&delayArr[l][u][a.actPos]&&delayArr[l][u][a.actPos][a.intID]&&delayArr[l][u][a.actPos][a.intID][a.loopRef]))return;cancelCustomArr.push([a.secSel][u][a.actPos][a.intID][a.loopRef])}else a.doc.querySelectorAll(a.secSel).forEach((function(a){n=_getActiveID(a),cancelIDArr[n]&&cancelIDArr[n][u]||!r.includes(n)||_addCancelAttr(a,u)}))}}},_a.CancelTimerAll=a=>{_unloadAllCancelTimer()},_a.ClickOnFirst=a=>{_focusOn(a)},_a.ClickOnLast=a=>{_focusOn(a,"l")},_a.ClickOnNext=a=>{_focusOn(a,"n")},_a.ClickOnNextCycle=a=>{_focusOn(a,"nc")},_a.ClickOnPrevious=a=>{_focusOn(a,"p")},_a.ClickOnPreviousCycle=a=>{_focusOn(a,"pc")},_a.ClickoutsideEvent=a=>{let n=_getActiveID(a.secSelObj);-1!==a.actVal.indexOf("true")?(clickOutsideSels[n]=[],clickOutsideSels[n][0]=!0,clickOutsideSet=!0,-1!==a.actVal.indexOf("continue")&&(clickOutsideSels[n][1]=!0)):clickOutsideSels[n]&&(clickOutsideSels[n][0]=!1,clickOutsideSet=!1)},_a.Clone=a=>{let n=_getSel(a,a.actVal);if(n)if("IFRAME"==n.tagName){if("complete"!=n.contentWindow.document.readyState)return setTimeout(_a.Clone.bind(this,a),200),!1;let r=_getActiveID(n);mimicClones[r]=document.importNode(n.contentWindow.document.body,!0)}else{let a=_getActiveID(n);mimicClones[a]=document.importNode(n,!0)}},_a.ConsoleLog=a=>{console.log(a.actVal._ACSSRepQuo())},_a.CopyToClipboard=a=>{let n=_getSel(a,a.actVal);if(-1!==["INPUT","TEXTAREA"].indexOf(n.tagName)){let a="readonly"==n.getAttribute("readonly");n.removeAttribute("readonly"),n.select(),document.execCommand("copy"),a&&n.setAttribute("readonly","readonly")}else{let a=document.createElement("textarea");a.id="activecss-copy-field",a.innerHTML=n.innerText,document.body.appendChild(a);let r=document.getElementById("activecss-copy-field");r.select(),document.execCommand("copy"),ActiveCSS._removeObj(r)}},_a.CreateCommand=a=>{let n=a.actVal.trim().split(" ")[0],r=a.actVal.replace(n,"").trim();n=n._ACSSConvFunc(),_a[n]||(r=ActiveCSS._sortOutFlowEscapeChars(r).slice(2,-2),r=_handleVarsInJS(r),r="let actionName = o.actName,actionPosition = o.actPos,actionValue = o.actVal,actionValueUnEval = o.actValSing,actionValuesUnEval = o.origActVal,actionFunc = o.func,eventSelector = o.obj,eventSelectorName = o.primSel,carriedEventObject = o.ajaxObj,conditionals = o.passCond,targetSelector = o.secSelObj,targetSelectorName = o.origSecSel,activeID = o.activeID,doc = o.doc,e = o.e,eventName = o.event,configFile = o.file,configLine = o.line,rulesArray = o.rules,selectorRef = o.secSel,compDoc = o.compDoc,component = o.component,_loopVars = o.loopVars,_loopRef = o.loopRef,_activeVarScope = (o.compRef && privVarScopes[o.compRef]) ? o.compRef : \"main\";scopedVars[_activeVarScope] = (typeof scopedVars[_activeVarScope] === 'undefined') ? {} : scopedVars[_activeVarScope];"+r,_a[n]=new Function("o","scopedVars","privVarScopes",r))},_a.CreateConditional=a=>{let n=a.actVal.trim().split(" ")[0],r=a.actVal.replace(n,"").trim();n=n._ACSSConvFunc(),_c[n]||(r=ActiveCSS._sortOutFlowEscapeChars(r).slice(2,-2),r=_handleVarsInJS(r),r="let conditionalName = o.actName,conditionalFunc = o.func,conditionalValue = o.actVal,eventSelectorName = o.primSel,eventSelector = o.obj,e = o.e,doc = o.doc,component = o.component,compDoc = o.compDoc,carriedEventObject = o.ajaxObj,_activeVarScope = (o.compRef && privVarScopes[o.compRef]) ? o.compRef : \"main\";scopedVars[_activeVarScope] = (typeof scopedVars[_activeVarScope] === 'undefined') ? {} : scopedVars[_activeVarScope];"+r,_c[n]=new Function("o","scopedVars","privVarScopes",r))},_a.CreateElement=a=>{let n,r,c,l,s,i,u,p,d=a.actVal,f="";if(p=d.split(" "),n=p[0],r=n.toUpperCase(),!customTags.includes(r)){for(l of(c=_getParVal(d,"observe").split(" "),c))l&&(f+="'"+l.trim()+"',");if(customTags.push(r),-1===p[1].indexOf("observe(")){u=p[1],void 0===config[n]&&(config[n]={}),void 0===config[n].draw&&(config[n].draw={}),void 0===config[n].draw[0]&&(config[n].draw[0]=[]),void 0===config[n].draw[0][0]&&(config[n].draw[0][0]=[]);let a=[];a["&"]=[],a["&"][0]={file:"",line:"",intID:intIDCounter++,name:"render",value:'"{|_acss-host_'+u+'}"'},config[n].draw[0][0].unshift(a),_setupEvent("draw",n)}s=n._ACSSConvFunc(),i="ActiveCSS.customHTMLElements."+s+" = class "+s+" extends HTMLElement {",f&&(i+="static get observedAttributes() {return ["+f.slice(0,-1)+"];}"),i+="constructor() {super();}connectedCallback() {let compDetails = _componentDetails(this);_handleEvents({ obj: this, evType: 'connectedCallback', component: compDetails.component, compDoc: compDetails.compDoc, compRef: compDetails.compRef });}disconnectedCallback() {let compDetails = _componentDetails(this);_handleEvents({ obj: this, evType: 'disconnectedCallback', component: compDetails.component, compDoc: compDetails.compDoc, compRef: compDetails.compRef, runButElNotThere: true });}",f&&(i+="attributeChangedCallback(name, oldVal, newVal) {if (!oldVal && oldVal !== '' || oldVal === newVal) return;this.setAttribute(name + '-old', oldVal); let ref = this._acssActiveID.replace('d-', '') + 'HOST' + name;ActiveCSS._varUpdateDom([{currentPath: ref, previousValue: oldVal, newValue: newVal, type: 'update'}]);let compDetails = _componentDetails(this);_handleEvents({ obj: this, evType: 'attrChange' + name._ACSSConvFunc(), component: compDetails.component, compDoc: compDetails.compDoc, compRef: compDetails.compRef });}"),i+="};customElements.define('"+n+"', ActiveCSS.customHTMLElements."+s+");",Function("_handleEvents, _componentDetails",'"use strict";'+i)(_handleEvents,_componentDetails)}},_a.DocumentTitle=a=>{document.title=a.actVal._ACSSRepQuo()},_a.Eval=o=>{let evalContent=ActiveCSS._sortOutFlowEscapeChars(o.actVal.trim().slice(2,-2));eval(evalContent)},_a.FocusOff=a=>{_a.Blur(a)},_a.FocusOn=a=>{_focusOn(a)};const _focusOn=(a,n,r=!1)=>{let c,l,s,i,u,p=!1,d=1,f=a.actVal;"pcc"!=n&&"ncc"!=n||(-1!==f.indexOf(" click")&&(p=!0,f=f.replace(/ click/,"")),f=f.replace(/ ([\d]+)( |$)?/gm,(function(a,n){return d=n,""})),f=f.trim());if(-1!==["l","n","p","nc","pc","ncc","pcc"].indexOf(n))if("l"!=n)s=_getFocusedOfNodes(f,a),l=s[0],i=s[1],"pcc"!=n&&"ncc"!=n||d>l.length&&(d%=l.length);else{let a=_splitIframeEls(f);if(!a)return!1;l=a[0].querySelectorAll(a[1])||null}switch(n){case"p":case"pc":case"pcc":if("p"==n){if(0===i)return}else i=d>i?l.length-d-i+1:i-d+1;c=l[i-1];break;case"n":case"nc":case"ncc":if("n"==n){if(i==l.length-1)return}else i=l.length<=d+i?d+i-l.length-1:i+d-1;c=l[i+1];break;case"l":c=l[l.length-1];break;default:c=_getSel(a,f)}if(c)return u="FORM"==c.tagName?c.elements[0]:c,!p||"pcc"!=n&&"ncc"!=n?r||("Click"==a.func.substr(0,5)?ActiveCSS.trigger(u,"click"):c.focus()):(ActiveCSS.trigger(u,"click"),setTimeout((function(){u.focus()}),0)),u};_a.FocusOnFirst=a=>{_focusOn(a)},_a.FocusOnLast=a=>{_focusOn(a,"l")},_a.FocusOnNext=a=>{_focusOn(a,"n")},_a.FocusOnNextCycle=a=>{_focusOn(a,"nc")},_a.FocusOnPrevious=a=>{_focusOn(a,"p")},_a.FocusOnPreviousCycle=a=>{_focusOn(a,"pc")},_a.FormReset=a=>{let n=_getSel(a,a.actVal);n&&"FORM"==n.tagName&&n.reset()},_a.FullscreenExit=a=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},_a.FullscreenOn=a=>{let n=a.secSelObj;n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen()},_a.Func=a=>{let n=[];a.actVal=a.actVal._ACSSSpaceQuoIn();let r=a.actVal.trim().split(" "),c=r.splice(0,1);if("function"!=typeof window[c])console.log(c+" is not a function.");else{let l;for(l of r)l="true"==l||"false"!=l&&(isNaN(l)?l._ACSSSpaceQuoOut()._ACSSRepQuo():parseFloat(l)),n.push(l);window[c](a,n)}},_a.IframeReload=a=>{let n=a.secSelObj.cloneNode(!1);a.secSelObj.parentNode.insertBefore(n,a.secSelObj),ActiveCSS._removeObj(a.secSelObj)},_a.LoadConfig=a=>{a.actVal=a.actVal._ACSSRepQuo().trim(),_addActValRaw(a),configArr.includes(a.avRaw)?_handleEvents({obj:a.obj,evType:"afterLoadConfig",compRef:a.compRef,compDoc:a.compDoc,component:a.component}):(a.file=a.actVal,_getFile(a.actVal,"txt",a))},_a.LoadImages=a=>{let n=a.actVal;a.doc.querySelectorAll("img["+n+"], picture source["+n+"]").forEach((function(a,r){let c="IMG"==a.tagName?"src":"srcset";a.setAttribute(c,a.getAttribute(n)),a.removeAttribute(n)}))},_a.LoadScript=(a,n)=>{let r=a.actVal._ACSSRepQuo(),c=_getBaseURL(r);if(!scriptTrack.includes(c)){let l="style"==n?"link":"script",s="style"==n?"href":"src",i=a.doc.createElement(l);"style"==n&&(i.rel="stylesheet"),i[s]=r,a.doc.head.appendChild(i),scriptTrack.push(c)}},_a.LoadStyle=a=>{_a.LoadScript(a,"style")},_a.Location=a=>{let n=a.actVal._ACSSRepQuo();a.doc.contentWindow?a.doc.contentWindow.document.location.href=n:document.location.href=n},_a.MediaControl=a=>{let n=a.secSelObj,r=a.actVal.split(" ");if(r[1])switch(r[1]=r[1]._ACSSRepQuo(),r[0]){case"load":n.setAttribute("src",r[1]);break;case"seek":n.currentTime=parseFloat(r[1]);break;case"volume":n.volume=parseFloat(r[1])}switch(r[0]){case"play":n.play();break;case"pause":n.pause();break;case"load":n.load()}},_a.MimicInto=a=>{let n,r,c,l,s;if(n=a.secSelObj,"title"==a.actVal)s="title",r="title",c=currDocTitle;else{if(s=_getSel(a,a.actVal),!s)return;r="INPUT"==s.tagName||"TEXTAREA"==s.tagName?"input":"text"}l=_getFieldValType(n),"title"!=a.actVal&&(c=n[l]);var i,u=0,p=a.secSelObj.form||a.secSelObj.closest("form");switch(p&&(p.cjsReset||(p.cjsReset=[],p.addEventListener("reset",_mimicReset)),"title"==r?p.cjsReset.title||(p.cjsReset.title=n.getAttribute("value")):n.activeResetValueSet||(u=p.cjsReset.length,p.cjsReset[u]={},p.cjsReset[u].el=s,p.cjsReset[u].value=c,p.cjsReset[u].type=r,n.activeResetValueSet=!0)),i=a.secSelObj[l],r){case"input":s.value=i;break;case"text":s.innerText=i;break;case"title":document.title=ActiveCSS._decodeHTML(i),currDocTitle=ActiveCSS._decodeHTML(i)}},_a.PreventDefault=a=>{a.e&&a.e.preventDefault()},_a.PreventEventDefault=a=>{"object"==typeof a.obj&&(a.obj.activePrevEvDef=!0)},_a.Remove=a=>{let n=_getSel(a,a.actVal.trim(),!0);if(!1!==n)ActiveCSS._removeObj(n);else{let n=_splitIframeEls(a.actVal,a.obj,a.compDoc);if(!n)return!1;n[0].querySelectorAll(n[1]).forEach((function(a){ActiveCSS._removeObj(a)}))}},_a.RemoveAttribute=a=>{a.secSelObj.removeAttribute(a.actVal)},_a.RemoveClass=a=>(ActiveCSS._removeClassObj(a.secSelObj,a.actVal),!0),_a.RemoveClone=a=>{let n=_getSel(a,a.actVal),r=_getActiveID(n);r&&(mimicClones[r]=null)},_a.RemoveCookie=a=>{let n,r,c,l,s=a.actVal._ACSSRepQuo();n=encodeURIComponent(_getParVal(s,"name")),r=_getParVal(s,"domain"),c=_getParVal(s,"path"),l=`${n}=; expires=Thu, 01 Jan 1970 00:00:00 GMT;`,l+=r?` domain=${r};`:"",l+=c?` path=${c};`:"",document.cookie=l},_a.RemoveProperty=a=>{a.secSelObj.style.removeProperty(a.actVal)},_a.Render=a=>{let n,r=_handleQuoAjax(a,a.actVal),c=a.secSelObj.cloneNode(!0);-1!==r.indexOf("{$SELF}")&&(n=c.outerHTML,a.renderPos="replace");let l=c.innerHTML;r=_replaceComponents(a,r),r=_replaceStringVars(a.ajaxObj,r),r=_renderRefElements(r,l,"CHILDREN"),r=_renderRefElements(r,n,"SELF"),r=_replaceScopedVars(r,a.secSelObj,"Render",null,!1),_renderIt(a,r,l,n)},_a.RenderAfterBegin=a=>{a.renderPos="afterbegin",_a.Render(a)},_a.RenderAfterEnd=a=>{a.renderPos="afterend",_a.Render(a)},_a.RenderBeforeBegin=a=>{a.renderPos="beforebegin",_a.Render(a)},_a.RenderBeforeEnd=a=>{a.renderPos="beforeend",_a.Render(a)},_a.RenderReplace=a=>{a.renderPos="replace",_a.Render(a)},_a.RestoreClone=a=>{let n=_getSel(a,a.actVal),r=_getActiveID(n);if(mimicClones[r])if("IFRAME"==n.tagName){if("complete"!=n.contentWindow.document.readyState)return!1;setTimeout((function(){n.contentWindow.document.body=mimicClones[r]}),0)}else setTimeout((function(){let c=n.parentNode;c.replaceChild(mimicClones[r],n),_a.Trigger({secSel:"",actVal:"draw",secSelObj:c,ajaxObj:a.ajaxObj,e:a.el||null})}),0)},_a.Run=a=>{let n,r='"use strict";'+a.actVal.replace(/\{\=([\s\S]*?)\=\}/m,(function(a,r){return n=_handleVarsInJS(ActiveCSS._sortOutFlowEscapeChars(r)),n})),c=a.compRef&&privVarScopes[a.compRef]?a.compRef:"main";scopedVars[c]=void 0===scopedVars[c]?{}:scopedVars[c];try{Function("scopedVars, _activeVarScope",r)(scopedVars,c)}catch(a){console.log("Function syntax error ("+a+"): "+r)}},_a.ScrollIntoView=a=>{let n=a.actVal.split(" "),r="start",c="nearest",l=_optDef(n,"behaviour-smooth","smooth","auto");"true"==a.actVal||"false"==a.actVal&&(r="end"),r=_optDef(n,"block-center","center",r),r=_optDef(n,"block-end","end",r),r=_optDef(n,"block-nearest","nearest",r),c=_optDef(n,"inline-center","center",c),c=_optDef(n,"inline-end","end",c),c=_optDef(n,"inline-nearest","nearest",c);try{a.secSelObj.scrollIntoView({behaviour:l,block:r,inline:c})}catch(n){a.secSelObj.scrollIntoView({behaviour:l,inline:c})}},_a.ScrollX=a=>{if("body"==a.secSel)"left"==a.actVal?window.scrollTo({left:0}):"right"==a.actVal?window.scrollTo({left:1e7}):window.scrollTo({left:a.actVal});else{let n=a.secSelObj;"left"==a.actVal?n.scrollLeft=0:"right"==a.actVal?n.scrollLeft=1e7:n.scrollLeft=a.actVal}},_a.ScrollY=a=>{if("body"==a.secSel)"top"==a.actVal?window.scrollTo({top:0}):"bottom"==a.actVal?window.scrollTo({top:1e7}):window.scrollTo({top:a.actVal});else{let n=a.secSelObj;n&&("top"==a.actVal?n.scrollTop=0:"bottom"==a.actVal?n.scrollTop=n.scrollHeight:n.scrollTop=a.actVal)}},_a.SelectAll=a=>{requestAnimationFrame(()=>document.execCommand("selectAll"))},_a.SelectNone=a=>{getSelection().removeAllRanges()},_a.SetAttribute=a=>{a.actVal=a.actVal._ACSSSpaceQuoIn();let n=a.actVal.split(" ");n[1]=_handleQuoAjax(a,n[1])._ACSSSpaceQuoOut(),a.secSelObj.setAttribute(n[0],n[1])},_a.SetClass=a=>{let n=a.actVal.replace(/\./g,"")._ACSSRepQuo();_setClassObj(a.secSelObj,n)},_a.SetCookie=a=>{let n,r,c,l,s,i,u,p,d,f,_=a.actVal;if(_=_.replace(/\\\"/g,"_ACSS_escaped_quote"),_=_._ACSSSpaceQuoIn(),_=_.replace(/_ACSS_escaped_quote/g,'\\"'),n=encodeURIComponent(_getParVal(_,"name")._ACSSRepQuo()),r=encodeURIComponent(_getParVal(_,"value")._ACSSSpaceQuoOut()._ACSSRepQuo()),c=_getParVal(_,"expires")._ACSSSpaceQuoOut()._ACSSRepQuo(),"Infinity"==c)c="Fri, 31 Dec 9999 23:59:59 GMT";else{let a=_getPastFutureDate(c);c=a instanceof Date?a.toUTCString():c}if(l=_getParVal(_,"maxAge")._ACSSRepQuo(),l){new RegExp("^\\d+$").test(l)||console.log("set-cookie error: maxAge is not a number.")}s=_getParVal(_,"domain")._ACSSRepQuo(),i=_getParVal(_,"path")._ACSSRepQuo(),f=_getParVal(_,"sameSite")._ACSSCapitalize()._ACSSRepQuo();let m=_.split(" ");u=_optDef(m,"httponly",!0,!1),d=_optDef(m,"secureIfHttps",!0,!1),p=d?"https:"==window.location.protocol:_optDef(m,"secure",!0,!1);let S=`${n}=${r};`;S+=c?` Expires=${c};`:"",S+=l?` Max-Age=${l};`:"",S+=s?` Domain=${s};`:"",S+=i?` Path=${i};`:"",S+=p?" Secure;":"",S+=f?` SameSite=${f};`:"",S+=u?" HttpOnly;":"",S=S._ACSSSpaceQuoOut(),document.cookie=S},_a.SetProperty=a=>{a.actVal=a.actVal._ACSSSpaceQuoIn();let n=a.actVal.split(" ");n[1]=_handleQuoAjax(a,n[1])._ACSSSpaceQuoOut(),a.secSelObj[n[0]]="true"==n[1]||"false"!=n[1]&&n[1]},_a.StopImmediateEventPropagation=a=>{"object"==typeof a.obj&&(a.obj.activeStopEvProp=!0)},_a.StopImmediatePropagation=a=>{a.e&&a.e.stopImmediatePropagation(),"object"==typeof a.obj&&(a.obj.activeStopProp=!0)},_a.StopPropagation=a=>{a.e&&a.e.stopPropagation(),"object"==typeof a.obj&&(a.obj.activeStopProp=!0)},_a.Style=a=>{let n=_handleQuoAjax(a,a.actVal).split(" "),r=n.shift();a.secSelObj.style[r]=n.join(" ")},_a.TakeClass=a=>{if(a.doc!=document)return console.log("Active CSS error - you cannot take a class if the element clicked on is not going to take the class. With iframes, use give-class instead."),!1;let n=a.actVal.substr(1);_eachRemoveClass(n,n,a.doc),_a.AddClass(a)},_a.ToggleClass=a=>{let n=a.actVal.replace(/\./g,"");_toggleClassObj(a.secSelObj,n)},_a.Trigger=a=>{"string"!=typeof a.obj||-1!==a.obj.indexOf("{@")||-1!==a.obj.indexOf("{$")||["~","|"].includes(a.obj.substr(0,1))?"string"==typeof a.secSel&&["~"].includes(a.secSel.substr(0,1))?_handleEvents({obj:a.secSel,evType:a.actVal,otherObj:a.ajaxObj||null,eve:a.e||null,origObj:a.obj||null,compRef:a.compRef,compDoc:a.compDoc,component:a.component}):"draw"==a.actVal?_runInnerEvent(a.secSelObj,"draw"):_handleEvents({obj:a.secSelObj,evType:a.actVal,otherObj:a.ajaxObj||null,eve:a.e||null,compRef:a.compRef,compDoc:a.compDoc,component:a.component}):a.doc.querySelectorAll(a.obj).forEach((function(n,r){["~"].includes(a.secSel.substr(0,1))?_handleEvents({obj:a.secSel,evType:a.actVal,otherObj:a.ajaxObj||null,eve:a.e||null,origObj:n,compRef:a.compRef,compDoc:a.compDoc,component:a.component}):_handleEvents({obj:a.secSel,evType:a.actVal,otherObj:a.ajaxObj||null,eve:a.e||null,compRef:a.compRef,compDoc:a.compDoc,component:a.component})}))},_a.TriggerReal=a=>{if(a.secSelObj.isConnected)try{a.secSelObj.addEventListener(a.actVal,(function(a){}),{capture:!0,once:!0}),a.secSelObj[a.actVal]()}catch(a){console.log("Active CSS error: Only DOM events support trigger-real.")}else _a.StopPropagation(a)},_a.UrlChange=a=>{let n=a.actVal.split(" ")[0],r=a.actVal.replace(n,"").trim();""==r&&(r=document.title),_urlTitle(n,r,a)},_a.Var=a=>{let n=a.actVal.trim().split(" "),r=n.shift(),c=n.join(" ");if(!c)if(r.endsWith("++"))r=r.slice(0,-2),c=r+"+1";else{if(!r.endsWith("--"))return void console.log('Active CSS error: Invalid command "var: '+r+';" needs an expression to be assigned.');r=r.slice(0,-2),c=r+"-1"}r=_prefixScopedVars(r,a.compRef,"varname"),c=_prefixScopedVars(c,a.compRef);let l,s=!1;if("window."==r.substr(0,7))s=!0,l=r;else{l=r;let n=a.compRef&&privVarScopes[a.compRef]?a.compRef:"main";l=l.replace("scopedVars."+n+".",""),l=n+"."+l}l=_resolveInnerBracketVars(l),c="{="+c+"=}";let i=_replaceJSExpression(c,!0,null,a.compRef);_set(s?window:scopedVars,l,i)},ActiveCSS.first=a=>_focusOn({actVal:a},null,!0),ActiveCSS.last=a=>_focusOn({actVal:a},"l",!0),ActiveCSS.next=a=>_focusOn({actVal:a},"n",!0),ActiveCSS.nextCycle=a=>_focusOn({actVal:a},"ncc",!0),ActiveCSS.previous=a=>_focusOn({actVal:a},"p",!0),ActiveCSS.previousCycle=a=>_focusOn({actVal:a},"pcc",!0),ActiveCSS.trigger=(a,n,r,c,l)=>{"object"==typeof a?_handleEvents({obj:a,evType:n,compRef:r,compDoc:c,component:l}):_a.Trigger({secSel:a,actVal:n,compRef:r,compDoc:c,component:l})},ActiveCSS.triggerReal=(a,n,r,c,l)=>{"string"==typeof a&&(a=document.querySelector(a)),a?_a.TriggerReal({secSelObj:a,actVal:n,compRef:r,compDoc:c,component:l}):console.log("No object found in document to triggerReal.")},_c.IfCompletelyVisible=a=>ActiveCSS._ifVisible(a,!0),_c.IfCookieEquals=a=>{let n=a.actVal.split(" ");if(!_cookieExists(n[0]))return!1;let r=n[0];return n.shift(),n=n.join(" "),_getCookie(r)==n._ACSSRepQuo()},_c.IfCookieExists=a=>_cookieExists(a.actVal),_c.IfDisplay=a=>{let n=a.doc.querySelector(a.actVal);return!(!n||"none"===getComputedStyle(n,null).display)},_c.IfEmpty=a=>!!_selCompare(a,"eM"),_c.IfExists=a=>!!_getSel(a,a.actVal),_c.IfFocusFirst=a=>_ifFocus(a),_c.IfFocusLast=a=>_ifFocus(a,!1),_c.IfFormChanged=a=>_checkForm(_getSel(a,a.actVal),"check"),_c.IfFunc=a=>{if("true"==a.actVal)return!0;if("false"==a.actVal)return!1;try{return window[a.actVal](a)}catch(n){return console.log("Active CSS: Function "+a.actVal+" does not exist."),!1}},_c.IfHasClass=a=>{let n=_actValSelItem(a);return!(!n[0]||!ActiveCSS._hasClassObj(n[0],n[1].substr(1)))},_c.IfInnerHtml=a=>!!_selCompare(a,"iH"),_c.IfInnerText=a=>!!_selCompare(a,"iT"),_c.IfMaxLength=a=>!!_selCompare(a,"maL"),_c.IfMediaMaxWidth=a=>window.matchMedia("all and (max-width: "+a.actVal+")").matches,_c.IfMediaMinWidth=a=>window.matchMedia("all and (min-width: "+a.actVal+")").matches,_c.IfMinLength=a=>!!_selCompare(a,"miL"),_c.IfScrolltopGreater=a=>"body"==a.obj?(window.pageYOffset||document.documentElement.scrollTop)>a.actVal:a.obj.scrollTop>a.actVal,_c.IfScrolltopLess=a=>"body"==a.obj?(window.pageYOffset||document.documentElement.scrollTop)<a.actVal:a.obj.scrollTop<a.actVal,_c.IfSelection=a=>{let n=window.getSelection();return a.actVal=a.actVal._ACSSRepQuo().trim(),n.toString()==a.actVal},_c.IfVar=a=>{let n=a.actVal._ACSSSpaceQuoIn().split(" ");if(1==n.length)return _ifVarTrue(a.actVal,a.compRef);{let r=n.shift(),c=n.join(" ")._ACSSSpaceQuoOut();c="true"==c||"false"!=c&&c,c="string"==typeof c&&-1===c.indexOf('"')?Number(c._ACSSRepQuo()):c._ACSSRepQuo();let l=(a.compRef&&privVarScopes[a.compRef]?a.compRef:"main")+"."+r,s=_get(scopedVars,l);return void 0===s&&(s=window[r]),typeof s==typeof c&&s==c}},_c.IfVarTrue=a=>_ifVarTrue(a.actVal,a.compRef),_c.IfVisible=a=>ActiveCSS._ifVisible(a),_c.MqlTrue=a=>mediaQueries[a.actVal].val;const _addCancelAttr=(a,n)=>{let r=_getActiveID(a);cancelIDArr[r]||(cancelIDArr[r]=[]),cancelIDArr[r][n]=!0},_clearTimeouts=a=>{clearTimeout(a),clearInterval(a)},_delaySplit=(a,n,r)=>{let c,l,s;return c=new RegExp("("+n+' (stack|([\\{]?[\\@]?[\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w_\\-\\.\\:\\[\\]]+[\\}]?)(s|ms)))(?=(?:[^"]|"[^"]*")*)',"gm"),{str:(a=(a=a.replace(c,(function(a,n,c,s,i){return s&&-1!==s.indexOf("{")?(s=s.replace(/[\{\}]+/g,""),l=_replaceJSExpression("{="+s+"=}",!0,!1,r)+i):l=c,l=_convertToMS(l,"Invalid delay number format: "+n),""}))).replace(/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w_]+)(?=(?:[^"]|"[^"]*")*)$/gm,(function(a,r){return s=r.split(" ")[1],"every"==n?"":r}))).trim(),tim:l,lab:s}},_removeCancel=(a,n,r,c,l)=>{if(delayArr[a]&&delayArr[a][n]&&delayArr[a][n][r]&&delayArr[a][n][r][c]){let s=delayArr[a][n][r][c][l];if(s&&labelByIDs[s]){let a=labelByIDs[s];labelByIDs.splice(labelByIDs.indexOf[s]),delete labelData[a.lab]}delayArr[a][n][r][c][l]=null}["~","|"].includes(a.substr(0,1))?cancelCustomArr[a]&&cancelCustomArr[a][n]&&cancelCustomArr[a][n][r]&&cancelCustomArr[a][n][r][c]&&(cancelCustomArr[a][n][r][c][l]=null):cancelIDArr[a]&&cancelIDArr[a][n]&&(cancelIDArr[a][n]=null)},_setupLabelData=(a,n,r,c,l,s,i)=>{delayArr[n][r][c][l][s]=i,a&&(labelData[a]={del:n,func:r,pos:c,intID:l,loopRef:s,tid:i},labelByIDs[i]={del:n,func:r,pos:c,intID:l,loopRef:s,lab:a})},_unloadAllCancelTimer=()=>{let a;for(a in delayArr)_unloadAllCancelTimerLoop(a);delayArr=[],cancelIDArr=[],labelData=[],labelByIDs=[]},_unloadAllCancelTimerLoop=a=>{let n,r,c,l;for(n in delayArr[a])for(r in delayArr[a][n])for(c in delayArr[a][n][r])for(l in delayArr[a][n][r][c])_clearTimeouts(delayArr[a][n][r][c][l])},_actionValLoop=(a,n,r,c)=>{let l,{loopI:s,actVals:i,actValsLen:u}=n;for(l=0;l<u;l++)a.actVal=i[l].trim(),a.actPos=l,a.secSelObj=r,_handleFunc(a,null,c)},_cloneAttrs=(a,n)=>{let r,c=Array.prototype.slice.call(n.attributes);for(r of c)"href"!=r.nodeName&&("class"==r.nodeName?ActiveCSS._addClassObj(a,r.nodeValue):a.getAttribute(r.nodeName)||a.setAttribute(r.nodeName,r.nodeValue));a.setAttribute("data-active-nav","1")},_handleClickOutside=a=>{let n,r;for(n in clickOutsideSels)if(clickOutsideSels[n][0]&&(r=idMap[n],r&&!r.contains(a)&&_handleEvents({obj:r,evType:"clickoutside",otherObj:a})&&!clickOutsideSels[n][1]))return!1;return!0},_handleEvents=a=>{let n,r=a.obj,c=a.evType,l=a.onlyCheck,s=a.otherObj,i=a.eve,u=a.afterEv,p=a.origObj,d=a.runButElNotThere,f=a.compDoc;n=f||document;let _=a.compRef,m=a.component?"|"+a.component:null;if("string"!=typeof r&&!r||!selectors[c]||void 0===c)return!1;let S,g,v,b,h,C=[],A=selectors[c].length;if("draw"==c&&(r._acssDrawn=!0),"string"!=typeof r){let a=!0;if(m&&("draw"!=c||-1===customTags.indexOf(r.tagName))){let n,l=_,s=m,i=compPrivEvs[_];for(;;){for(S=0;S<A;S++)if(v=selectors[c][S].indexOf(":"),selectors[c][S].substr(0,v)===s&&(g=selectors[c][S].substr(v+1),g=u&&p?_replaceAttrs(p,g):g,-1===g.indexOf("<")&&!C.includes(selectors[c][S])))if("&"==g)C.push(selectors[c][S]);else try{r.matches(g)&&C.push(selectors[c][S])}catch(a){console.log("Active CSS warning: "+g+" is not a valid CSS selector, skipping. (err: "+a+")")}if(n=compParents[l],i||-1!==["beforeComponentOpen","componentOpen"].indexOf(c))a=!1;else if(n.compRef){l=n.compRef,s="|"+n.component,i=n.privateEvs;continue}break}}if(a)for(S=0;S<A;S++)if(!["~","|"].includes(selectors[c][S].substr(0,1))&&(g=u&&p?_replaceAttrs(p,selectors[c][S]):selectors[c][S],-1===g.indexOf("<")&&!C.includes(selectors[c][S])))try{r.matches(g)&&C.push(selectors[c][S])}catch(a){console.log("Active CSS warning: "+g+" is not a valid CSS selector, skipping. (err: "+a+")")}}else C.push(r),r=p||r;m=m?m.substr(1):null,A=C.length;let y,E,O=0,D=[];for(b=0;b<A;b++)if(config[C[b]]&&config[C[b]][c]){if(l)return!0;for(E in config[C[b]][c])O++,"0"!=E&&_passesConditional(r,b,E,c,s,n,_,m,i,f)&&(D[O]=E)}for(O=0,b=0;b<A;b++){if(config[C[b]]&&config[C[b]][c])for(E in config[C[b]][c]){if(O++,y="","0"!=E){if(void 0===D[O])continue;y=D[O]}if(h=config[C[b]][c][E],!1!==h){let n,l;for(n in h)l={chilsObj:h,originalLoops:n,secSelLoops:n,obj:r,compDoc:f,evType:c,compRef:_,evObj:a,otherObj:s,passCond:y,sel:b,component:m,selectorList:C,eve:i,runButElNotThere:d},_performSecSel(l)}if(r&&r.activeStopEvProp)break}if(r&&(r.activePrevEvDef||r.activeStopEvProp))break}return!0},_handleFunc=function(a,n=null,r=!1){let c;if("string"==typeof a.secSel&&["~","|"].includes(a.secSel.substr(0,1)))c=a.secSel;else{if(!r&&!a.secSelObj.isConnected)return n&&(delayArr[n]&&_unloadAllCancelTimerLoop(n),delayArr[n]=null,cancelIDArr[n]=null,cancelCustomArr[n]=null),_a.StopPropagation(a),void delete idMap[a.secSelObj];c=_getActiveID(a.secSelObj)}if("0"!=a.loopRef&&(a.actVal=_replaceLoopingVars(a.actVal,a.loopVars)),a.actVal.match(/(after|every) (stack|(\{)?(\@)?[\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\:\[\]]+(\})?(s|ms))(?=(?:[^"]|"[^"]*")*$)/gm)){let n,l,s,i=Object.assign({},a),u=["after","every"];for(n of u)if(l=_delaySplit(i.actVal,n,a.compRef),s=a.compRef?a.compRef:"main",l.lab&&(l.lab=s+l.lab),"number"==typeof l.tim&&l.tim>=0){if(i.actVal=l.str,i.actValSing=i.actVal,delayArr[c]=void 0!==delayArr[c]?delayArr[c]:[],delayArr[c][i.func]=void 0!==delayArr[c][i.func]?delayArr[c][i.func]:[],delayArr[c][i.func][i.actPos]=void 0!==delayArr[c][i.func][i.actPos]?delayArr[c][i.func][i.actPos]:[],delayArr[c][i.func][i.actPos][i.intID]=void 0!==delayArr[c][i.func][i.actPos][i.intID]?delayArr[c][i.func][i.actPos][i.intID]:[],delayArr[c][i.func][i.actPos][i.intID][i.loopRef]&&(_clearTimeouts(delayArr[c][i.func][i.actPos][i.intID][i.loopRef]),_removeCancel(c,i.func,i.actPos,i.intID,i.loopRef)),i.delayed=!0,"after"==n)return void _setupLabelData(l.lab,c,i.func,i.actPos,i.intID,i.loopRef,setTimeout(_handleFunc.bind(this,i,c,r),l.tim));i.interval=!0,_setupLabelData(l.lab,c,i.func,i.actPos,i.intID,i.loopRef,setInterval(_handleFunc.bind(this,i,c,r),l.tim)),a.interval=!0,a.actValSing=l.str}}else a.actValSing=a.actVal;if(-1!==a.actValSing.indexOf("label ")&&(a.actValSing=a.actValSing.replace(/(label [\u00BF-\u1FFF\u2C00-\uD7FF\w_]+)(?=(?:[^"]|"[^"]*")*)/gm,"")),"string"==typeof a.secSel&&["~","|"].includes(a.secSel.substr(0,1))&&cancelCustomArr[c]&&cancelCustomArr[c][a.func]&&cancelCustomArr[c][a.func][a.actPos]&&cancelCustomArr[c][a.func][a.actPos][a.intID]&&cancelCustomArr[c][a.func][a.actPos][a.intID][a.loopRef])_removeCancel(c,a.func,a.actPos,a.intID,a.loopRef);else if(!(a.delayed&&cancelIDArr[c]&&cancelIDArr[c][a.func])){if("Var"==a.func&&(a.actValSing=a.actValSing.replace(/__ACSS_int_com/g,",")),a.actVal=_replaceAttrs(a.obj,a.actValSing,a.secSelObj,a,a.func,a.compRef),(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput(a),"function"!=typeof _a[a.func])a.secSelObj.style[a.actName]=a.actVal;else{let n=a.compRef&&privVarScopes[a.compRef]?a.compRef:"main";a.vars=scopedVars[n],_a[a.func](a,scopedVars,privVarScopes)}!a.interval&&n&&_removeCancel(c,a.func,a.actPos,a.intID,a.loopRef),-1===["LoadConfig","Ajax","AjaxPreGet","AjaxFormSubmit","AjaxFormPreview"].indexOf(a.func)&&(r||a.secSelObj.isConnected||(a.secSelObj=void 0),_handleEvents({obj:a.secSelObj,evType:"after"+a.actName._ACSSConvFunc(),otherObj:a.secSelObj,eve:a.e,afterEv:!0,origObj:a.obj,compRef:a.compRef,compDoc:a.compDoc,component:a.component}))}},_handleLoop=a=>{let n=a.originalLoops,r=a.compRef,c=a.loopRef?a.loopRef:"",l=a.loopVars?a.loopVars:[];if("@each "==n.substr(0,6)){let s,i,u=n.indexOf(" in "),p=n.substr(6,u-6);-1!==p.indexOf(",")&&(s=p.split(","));let d,f,_,m,S,g,v,b=n.substr(u+4),h=(r&&privVarScopes[r]?r:"main")+".",C=h+b;if(void 0!==l[b]?(d=_get(scopedVars,h+l[b]),b=l[b]):d=_get(scopedVars,C),void 0===d)return void console.log("Active CSS error: "+C+" is not defined - skipping loop.");if(Array.isArray(d)){d.length;for(m=0;m<d.length;m++){if(_=Object.assign({},a),_.loopVars||(_.loopVars={}),s){for(S in s)i=s[S].trim(),f=b+"["+m+"]["+S+"]",l[i]=f;_.loopRef=c+s[0]+"_"+m}else f=b+"["+m+"]",l[p]=f,_.loopRef=c+p+"_"+m;_.loopVars=l,_performSecSel(_)}}else{let n,r=0;for([g,v]of Object.entries(d))_=Object.assign({},a),_.loopVars||(_.loopVars={}),s?(l[s[0]]="-_-"+g,_.loopRef=s[0]+"_0_"+r,n=s[1].trim(),f=b+"."+g,l[n]=f,_.loopRef=c+n+"_1_"+r):(l[p]="-_-"+g,_.loopRef=c+p+"_0_"+r),r++,_.loopVars=l,_performSecSel(_)}}},_handleVarsInJS=function(a){let n={},r={},c=!1;return a=a.replace(/[\s]*vars[\s]*([\u00BF-\u1FFF\u2C00-\uD7FF\w_\, ]+)[\s]*\;/gi,(function(a,l){let s,i=l.split(",");i=[...new Set(i)];let u="(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)";for(s of(c=!0,i))s=s.trim(),n[u+"("+s+")"+u]="",r[s]="scopedVars[_activeVarScope]."+s;return""})),c&&(a=(a=a.replace(/\\"/g,"cjs_tmp-dq")).replace(/\\'/g,"cjs_tmp-sq"),a=(a=(a=(a=ActiveCSS._mapRegexReturn(n,a,r)).replace(/(["|'][\s\S]*?["|'])/gim,(function(a,n){return n.replace(/scopedVars\[_activeVarScope\]\./g,"")}))).replace(/cjs_tmp\-dq"/g,'\\"')).replace(/cjs_tmp\-sq/g,"\\'")),a},_mainEventLoop=(a,n,r,c,l)=>{if("cause-js-elements-ext"==n.target.id)return;let s,i,u=!(n.target!=self&&!n.target.body);if("click"!=a&&u)return _handleEvents({obj:"body",evType:a,eve:n}),void _handleEvents({obj:"window",evType:a,eve:n});if(n.primSel)s=n.secSelObj;else{if("click"==a&&0!==n.button)return;s=n.target}if("mouseover"!=a||u||"A"==s.tagName&&1!==s["data-active-nav"]&&_setUpNavAttrs(s),"click"==a&&"bypass"!=n.primSel&&clickOutsideSet&&!_handleClickOutside(s))return n.primSel||n.preventDefault(),!1;i=_composedPath(n);let p=i[0];if(_getRootNode(p).isSameNode(document)||n.target.isSameNode(p)){let r;for(s of i)if(1===s.nodeType&&("click"==a&&"A"==s.tagName&&1!==s["data-active-nav"]&&_setUpNavAttrs(s),r=_componentDetails(s),_handleEvents({obj:s,evType:a,eve:n,component:r.component,compDoc:r.compDoc,compRef:r.compRef}),!s||!n.bubbles||"BODY"==s.tagName||s.activeStopProp))break;s&&s.activeStopProp?s.activeStopProp=!1:document.parentNode&&_handleEvents({obj:window.frameElement,evType:a,eve:n})}};ActiveCSS._nodeMutations=function(a){a.forEach(a=>{"childList"==a.type&&a.removedNodes&&a.removedNodes.forEach(a=>{let n=a.acssActiveID;idMap.splice(idMap.indexOf(a),1),varInStyleMap.splice(varInStyleMap.indexOf(n),1)})})};const _passesConditional=(a,n,r,c,l,s,i,u,p,d)=>{let f,_,m,S,g,v,b,h,C=r.split(/ (?![^\(\[]*[\]\)])/),A=!1;for(S of C){let r=S.indexOf("(");if(-1===r){if(u&&(S="|"+u+"|"+S,void 0===conditionals[S])){let a=S.substr(u.length+2);console.log("Active CSS error: Conditional "+a+" not found in config for component "+u)}if(g=conditionals[S],g){for(f in g)if(g.hasOwnProperty(f)&&(_=g[f],"!"==_.name.substr(0,1)?(A=!1,m=_.name.substr(1)):(A=!0,m=_.name),m=m._ACSSConvFunc(),"function"==typeof _c[m])){let r=_.value.replace(/"[^"]*"|(\,)/g,(function(a,n){return n?"_ACSSComma":a}));for(r=_replaceAttrs(a,r,null,null,null,i),r=l&&"0"!=l.loopRef?_replaceLoopingVars(r,l.loopVars):r,v=r.split("_ACSSComma"),b=v.length,h=0;h<b;h++)if(_c[m]({func:m,actName:_.name,secSel:"conditional",secSelObj:a,actVal:v[h].trim(),primSel:n,rules:g,obj:a,e:p,doc:s,ajaxObj:l,component:u,compDoc:d,compRef:i},scopedVars,privVarScopes)!==A)return!1}}else console.log("Active CSS error: Conditional "+S+" not found in config for document scope.")}else{let c=S.substr(0,r);if(A=!1,"not-"==c.substr(0,4)?m=c.substr(4):"!"==c.substr(0,1)?m=c.substr(1):(A=!0,m=c),m=m._ACSSConvFunc(),"function"==typeof _c[m]){let f=S.slice(r+1,-1).trim().replace(/"[^"]*"|(\,)/g,(function(a,n){return n?"_ACSSComma":a}));for(f=_replaceAttrs(a,f,null,null,null,i),f=l&&"0"!=l.loopRef?_replaceLoopingVars(f,l.loopVars):f,v=f.split("_ACSSComma"),b=v.length,h=0;h<b;h++)if(_c[m]({func:m,actName:c,secSel:"conditional",secSelObj:a,actVal:v[h].trim(),primSel:n,rules:S,obj:a,e:p,doc:s,ajaxObj:l,component:u,compDoc:d,compRef:i},scopedVars,privVarScopes)!==A)return!1}}}return!0},_performAction=(a,n=!1)=>{if(a.doc.readyState&&"complete"!=a.doc.readyState)return setTimeout(_performAction.bind(this,a),200),!1;_performActionDo(a,null,n)},_performActionDo=(a,n=null,r=!1)=>{if(!a.secSel&&!r)return;let c=a.actVal;-1!==a.actVal.indexOf(",")&&(c=c.replace(/\(.*?\)/g,(function(a,n){return a.replace(/,/g,"_ACSStmpcomma_")})),c=c.replace(/"[^"]*"|(\,)/g,(function(a,n){return n?"_ACSSComma":a})),c=c.replace(/_ACSStmpcomma_/g,",")),"Var"==a.func&&(c=ActiveCSS._sortOutFlowEscapeChars(c),c=_escCommaBrack(c,a));let l,s=c.split("_ACSSComma");l=s.length;let i={loopI:n,actVals:s,actValsLen:l};if("string"!=typeof a.secSel||["~","|"].includes(a.secSel.substr(0,1))){let n=Object.assign({},a);"object"==typeof n.secSel?_actionValLoop(a,i,n.secSel):(r||["~","|"].includes(n.secSel.substr(0,1)))&&_actionValLoop(a,i,{},r)}else{let n=!1;"#"==a.secSel&&console.log("Error: "+a.primSel+" "+a.event+", "+a.actName+': "'+a.origSecSel+'" is being converted to "#". Attribute or variable is not present.');let r=_prepSelector(a.secSel,a.obj,a.doc);r&&r.forEach(r=>{n=!0;let c=Object.assign({},a);_actionValLoop(c,i,r)})}},_performSecSel=a=>{let n=a.chilsObj,r=a.secSelLoops,c=a.obj,l=a.compDoc||document,s=a.evType,i=a.compRef,u=a.evObj,p=a.otherObj,d=a.passCond,f=a.sel,_=a.component,m=a.selectorList,S=a.eve,g=a.loopVars,v=a.loopRef?a.loopRef:0,b=a.runButElNotThere;i=supportsShadow&&l instanceof ShadowRoot?"_"+l.host._acssActiveID.replace(/id\-/,""):!l.isSameNode(document)&&l.hasAttribute("data-active-scoped")?"_"+l._acssActiveID.replace(/id\-/,""):u.compRef?u.compRef:null;let h,C,A,y,E,O,D,V,R=["&","self","this"],j="";for(h in n[r])for(C in n[r][h]){if("conds"==C)continue;if(-1!==C.indexOf("@each")){let a=[];a.push(n[r][h][C]),_handleLoop({chilsObj:a,originalLoops:C,secSelLoops:"0",obj:c,compDoc:l,evType:s,compRef:i,evObj:u,otherObj:p,passCond:d,sel:f,component:_,selectorList:m,eve:S,loopVars:g,loopRef:v,runButElNotThere:b});continue}if(A=_splitIframeEls(C,c,l),!A)continue;if(y=A[0],E=A[1],"0"!=v&&(E=_replaceLoopingVars(E,g)),E=_replaceAttrs(c,E,null,null,null,i),E=_replaceAttrs(p,E,null,null,null,i),R.includes(E))"string"==typeof c?E=c:(j=_getActiveID(c),E=j?idMap[j]:c);else if("host"==E){let a=_getRootNode(c);E=a._acssScoped?a:a.host}let a;for(O in n[r][h][C])if(-1===n[r][h][C][O].name.indexOf("@each"))D=n[r][h][C][O].name._ACSSConvFunc(),V=n[r][h][C][O].value,a={event:s,func:D,actName:n[r][h][C][O].name,secSel:E,origSecSel:C,actVal:V,origActVal:V,primSel:m[f],rules:n[r][h][C],obj:c,doc:y,ajaxObj:p,e:S,passCond:d,file:n[r][h][C][O].file,line:n[r][h][C][O].line,intID:n[r][h][C][O].intID,activeID:j,compRef:i,compDoc:l,component:_,loopVars:g,loopRef:v},_performAction(a,b);else{let a=[];a.push(n[r][h][C][O].value);let A={chilsObj:a,originalLoops:n[r][h][C][O].name,secSelLoops:"0",obj:c,compDoc:l,evType:s,compRef:i,evObj:u,otherObj:p,passCond:d,sel:f,component:_,selectorList:m,eve:S,loopVars:g,loopRef:v,runButElNotThere:b};_handleLoop(A)}}},_prepSelector=(a,n,r)=>{let c;if(-1!==a.indexOf("&")&&"&"==a.substr(0,1)&&(c=_getActiveID(n),n.setAttribute("data-activeid",c),a=a.replace(/&/g,"[data-activeid="+c+"]")),-1===a.indexOf("<")){let l=r.querySelectorAll(a);return c&&n.removeAttribute("data-activeid",c),l}let l,s,i=a.split("<"),u=r.querySelectorAll(i.shift()),p=new Set;return u.forEach(a=>{for(l of(s=a,i)){if(s=s.parentElement,!s)break;if(s=s.closest(l),!s)break}s&&p.add(s)}),c&&n.removeAttribute("data-activeid",c),p},_renderCompDoms=(a,n=a.doc,r=null)=>{n.querySelectorAll("data-acss-component").forEach((function(n,c){_renderCompDomsDo(a,n,r)}))},_renderCompDomsClean=a=>{let n,r;for([n,r]of(delete compPending[a],Object.entries(shadowDoms)))r.isConnected||delete scopedVars[n]},_renderCompDomsDo=(a,n,r)=>{let c,l,s,i,u,p,d,f,_,m;if(c=n.parentNode,s=_componentDetails(c),u=n.getAttribute("data-ref"),d=n.getAttribute("data-name"),l=components[d].privEvs,i=components[d].shadow,!i&&c.childNodes.length>1?(m=document.createElement("acss-scope"),c.replaceChild(m,n),c=m):n.remove(),i&&c.shadowRoot)_renderCompDomsClean(u);else{if(p=_getActiveID(c).replace("id-","_"),void 0===scopedVars[p]&&(scopedVars[p]={}),privVarScopes[p]=!!components[d].privVars,compParents[p]=s,compPrivEvs[p]=l,compPending[u]=_renderRefElements(compPending[u],r,"CHILDREN"),_handleEvents({obj:c,evType:"beforeComponentOpen",compRef:p,compDoc:void 0,component:d}),compPending[u]=_replaceAttrs(a.obj,compPending[u],null,null,a.func,p),compPending[u]=_replaceComponents(a,compPending[u]),compPending[u]=_replaceScopedVars(compPending[u],a.secSelObj,a.func,a,!1,c,p),compPending[u]=_replaceStringVars(a.ajaxObj,compPending[u]),f=document.createElement("template"),f.innerHTML=compPending[u],_renderCompDomsClean(u),i)try{_=c.attachShadow({mode:components[d].mode})}catch(a){console.log("Active CSS error in attaching a shadow DOM object. Ensure the shadow DOM has a valid parent *tag*. The error is: "+a)}else _=c,_.setAttribute("data-active-scoped",""),_._acssScoped=!0;if(c._acssComponent=d,c._acssCompRef=p,c._acssPrivEvs=l,shadowDoms[p]=_,actualDoms[p]=i?_:_.getRootNode(),_.appendChild(f.content),_.querySelectorAll("[data-activeid]").forEach((function(a){_replaceTempActiveID(a)})),setTimeout((function(){_removeVarPlaceholders(_),_handleEvents({obj:c,evType:"componentOpen",compRef:p,compDoc:_,component:d}),_.querySelectorAll("*").forEach((function(n){"DATA-ACSS-COMPONENT"!=n.tagName?_handleEvents({obj:n,evType:"draw",otherObj:a.ajaxObj,compRef:p,compDoc:_,component:d}):_renderCompDomsDo(a,n)}))}),0),i){let a;if(0==allEvents.length)Object.keys(window).forEach(n=>{/^on/.test(n)&&(a=n.slice(2),allEvents.push(a),_attachListener(_,a,d,_,p))});else for(a of allEvents)_attachListener(_,a,d,_,p)}}},_renderIt=(a,n,r,c)=>{let l=document.createElement("div");l.innerHTML=n;let s,i,u=[];for(s of(l.childNodes.forEach((function(a){a.nodeType===Node.ELEMENT_NODE&&"DATA-ACSS-COMPONENT"!=a.tagName&&(i=_getActiveID(a),u.push(i))})),n=l.innerHTML,a.renderPos?"replace"==a.renderPos?(a.secSelObj.insertAdjacentHTML("beforebegin",n),a.secSelObj.remove()):a.secSelObj.insertAdjacentHTML(a.renderPos,n):a.secSelObj.innerHTML=n,0==u.length&&_removeVarPlaceholders(a.secSelObj.parentNode),u)){let n=a.doc.querySelector("[data-activeid="+s+"]");_removeVarPlaceholders(n),_replaceTempActiveID(n),n.querySelectorAll("[data-activeid]").forEach((function(a){_replaceTempActiveID(a)})),!n||n.shadow||n.scoped||(_handleEvents({obj:n,evType:"draw",otherObj:a.ajaxObj,compRef:a.compRef,compDoc:a.compDoc,component:a.component}),n.querySelectorAll("*").forEach((function(n){n._acssDrawn||"DATA-ACSS-COMPONENT"==n.tagName||_handleEvents({obj:n,evType:"draw",otherObj:a.ajaxObj,compRef:a.compRef,compDoc:a.compDoc,component:a.component})})))}_renderCompDoms(a,void 0,r)},_renderRefElements=(a,n,r)=>(-1!==a.indexOf("{$"+r+"}")&&(a=a.replace(new RegExp("\\{\\$"+r+"\\}","g"),n)),a),_replaceLoopingVars=(a,n)=>(-1!==a.indexOf("{")&&(a=a.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]+)(\}|\.|\[)/gm,(function(a,r,c){return n[r]?"-_-"==n[r].substr(0,3)?n[r].substr(3):"{"+n[r]+c:"{"+r+c}))),a),_runInnerEvent=(a,n,r=document,c=!1)=>{let l=!("draw"!=n||!c);"string"==typeof a?r.querySelectorAll(a).forEach((function(a){a._acssDrawn&&l||_handleEvents({obj:a,evType:n})})):(_handleEvents({obj:a,evType:n}),_runInnerEvent("*",n,a))},_setUpNavAttrs=a=>{let n,r,c;n=document.querySelector("#data-active-pages"),n&&(r=a.getAttribute("href"),r&&(c=n.querySelector('a[href="'+r+'"]'),c&&_cloneAttrs(a,c)))},_splitIframeEls=(a,n=null,r=null)=>{let c,l,s=n&&"object"==typeof n?_getRootNode(n):null,i=document,u=!1,p=!1,d=!1;if(s&&!s.isSameNode(document)&&(i=s,supportsShadow&&s instanceof ShadowRoot?u=!0:p=!0),-1!==a.indexOf(" -> ")){let r;d=!0;let f=a.split(" -> "),_=0;for(r of f){if(_++,_==f.length)break;if("document"==r)i=document;else if("parent"==r)u?(s=_getRootNode(s.host),i=s):p&&(window.parent.document?i=window.parent.document:console.log("Active CSS error. Reference to a parent element that doesn't exist."));else if((n=i.querySelector(r)).shadowRoot)i=n.shadowRoot;else{if("IFRAME"!=n.tagName)return console.log("ref "+r+" is unknown."),!1;i=n.contentWindow.document,l=r}}c=f[f.length-1]}else c=a;return"host"==c?p?i=_getRootNode(s):(s=_getRootNode(s.host),i=s):r&&!d&&(i=r),[i,c,l]},_addConfig=(a,n)=>{let r=a.match(/^.*((\r\n|\n|\r)|$)/gm),c="";for(let a=0;a<r.length;a++)c+="*debugfile:"+n.file+":"+(a+1)+"*"+r[a];concatConfig+=a=c,++concatConfigCo>=concatConfigLen&&_readSiteMap(),concatConfigCo>concatConfigLen&&("load-config"==n.actName&&(configArr.push(n.avRaw),setupEnded&&(debuggerActive&&_tellPanelToUpdate(),evEditorActive&&_tellElementsToUpdate())),_handleEvents({obj:"~_acssSystem",evType:"afterLoadConfig"}),_handleEvents({obj:"body",evType:"afterLoadConfig"}),_handleEvents({obj:n.obj,evType:"afterLoadConfig",compRef:n.compRef,compDoc:n.compDoc,component:n.component}))},_addConfigError=(a,n)=>{_handleEvents({obj:n.obj,evType:"loadconfigerror"})},_assignLoopToConfig=(a,n,r,c,l,s,i,u)=>{let p,d,f,_,m,S=-1;if(-1!==["@each"].indexOf(n.substr(0,5)))return void 0===a[S]&&(a[S]=[n.replace(/acss_int_loop_comm/g,",")]),a[S]=_assignLoopToConfig(a[S],r.name,r.value,r.file,r.line,r.intID,i,u),a[S];for(p=n.split(","),d=p.length,_=0;_<d;_++)for(m in f=p[_].trim(),S++,r)"prevent-default"==r[m].name&&_checkPassiveState(i,u),void 0!==r[m].type&&(void 0===a[S]&&(a[S]=[]),void 0===a[S][f]&&(a[S][f]=[]),a[S][f].push({name:r[m].name,value:r[m].value,file:r[m].file,line:r[m].line,intID:r[m].intID}));return a},_attachListener=(a,n,r,c,l,s=!1)=>{let i={capture:!0};if(doesPassive){let a=r||"doc";void 0!==nonPassiveEvents[a]&&void 0!==nonPassiveEvents[a][n]&&!0===nonPassiveEvents[a][n]||!1===passiveEvents?i.passive=!1:i.passive=!0}doesPassive&&s&&(a.removeEventListener(n,ActiveCSS._theEventFunction,{capture:!0}),delete a["_acss"+n+"EvComponent"],delete a["_acss"+n+"EvCompDoc"],delete a["_acss"+n+"EvCompRef"]),a["_acss"+n+"EvComponent"]=r,a["_acss"+n+"EvCompDoc"]=c,a["_acss"+n+"EvCompRef"]=l,a.addEventListener(n,ActiveCSS._theEventFunction,i)};ActiveCSS._theEventFunction=a=>{let n=a.type,r=a.target["_acss"+n+"EvComponent"],c=a.target["_acss"+n+"EvCompDoc"],l=a.target["_acss"+n+"EvCompRef"];if(!setupEnded)return;let s=_fullscreenDetails();switch(n){case"click":a.ctrlKey||a.metaKey||_mainEventLoop("click",a,r,c,l);break;case"keyup":case"keydown":let i=a.ctrlKey?"Ctrl":"",u=a.metaKey?"Meta":"",p=a.shiftKey?"Shift":"",d=a.key;switch(a.key){case":":d="Colon",p="";break;case";":d="Semicolon",p="";break;case"{":d="OpenCurly",p="";break;case"}":d="CloseCurly",p="";break;case'"':d="DoubleQuotes",p="";break;case"'":d="SingleQuote",p="";break;case"?":d="Question",p="";break;case"!":d="Exclamation",p=""}_mainEventLoop(n+u+i+p+d,a,r,c,l),_mainEventLoop(n,a,r,c,l);break;case s[1]+"fullscreenchange":_mainEventLoop(n,a,r,c,l),s[0]?_mainEventLoop("fullscreenEnter",a,r,c,l):_mainEventLoop("fullscreenExit",a,r,c,l);break;default:_mainEventLoop(n,a,r,c,l)}};const _checkPassiveState=(a,n)=>{if(doesPassive){let r=a||"doc",c=n;"key"==n.substr(0,3)&&("keyup"==n.substr(0,5)?c="keyup":"keydown"==n.substr(0,7)&&(c="keydown")),void 0===nonPassiveEvents[r]&&(nonPassiveEvents[r]=[]),!0!==typeof nonPassiveEvents[r][c]&&(nonPassiveEvents[r][c]=!0)}},_convConfig=(a,n,r=0)=>{let c,l,s,i,u,p={},d=null,f=0;for(;null!==(d=PARSEREGEX.exec(a));){if(r>n)return console.log("Syntax error in config - possibly an incomplete set of curly brackets."),!1;if(d[PARSEDEBUG])u=d[PARSEDEBUG].split(":"),configFile=u[1],configLine=u[2].substr(0,u[2].length-1);else if(d[PARSESEL]){if(r++,c=d[PARSESEL].trim(),c=c.replace(/\*debugfile[\s\S]*?\*/g,""),i=_convConfig(a,n,r),!1===i)return!1;s={},s.name=_sortOutEscapeChars(c),s.value=i,s.line=configLine,s.file=configFile,s.intID=intIDCounter++,s.type="rule",p[f++]=s}else{if(d[PARSEEND])return p;if(d[PARSEATTR]){var _=d[PARSEATTR].trim();_=_.replace(/\*debugfile[\s\S]*?\*|([^:]|^)\/\/.*$/g,"");var m=PARSELINEX.exec(_);m?(c=m[1].trim(),l=m[2].trim(),s={},s.name=_sortOutEscapeChars(c),s.value=_sortOutEscapeChars(l),s.type="attr",s.line=configLine,s.file=configFile,s.intID=intIDCounter++,p[f++]=s):p[f++]=_}}}return p};ActiveCSS._getPosOfRule=(a,n)=>_getValFromList(a,n,!0);const _initScriptTrack=()=>{document.querySelectorAll("script").forEach((function(a,n){scriptTrack.push(a.src)}))},_iterateConditionals=(a,n,r)=>{var c,l;return Object.keys(n).forEach((function(s){(l=n[s].name)&&(c=a[r].length,a[r][c]={},a[r][c].name=l,a[r][c].value=n[s].value,a[r][c].file=n[s].file,a[r][c].line=n[s].line,a[r][c].intID=n[s].intID)})),a},_iteratePageList=a=>{if(!("content"in document.createElement("template")))return void console.log("Browser does not support html5. Cannot instantiate page navigation.");let n=document.createElement("template");var r,c;n.id="data-active-pages";let l=Math.floor(1e7*Math.random());Object.keys(a).forEach((function(s){(r=a[s].name)&&(-1!==pageList.indexOf(r)&&console.log("Config error: Page "+r+" is referenced twice."),c=a[s].value.replace(/\{\$RAND\}/g,l),n.insertAdjacentHTML("beforeend","<a href="+r.trim()+" "+c.trim()+">"))})),document.body.appendChild(n)},_iterateRules=(a,n,r,c,l,s=null)=>{let i,u,p,d,f,_,m,S,g,v=-1;return Object.keys(n).forEach((function(b){if(S=n[b].name,g=n[b].value,S){if(-1!==["@each"].indexOf(S.substr(0,5)))return v++,a[v]=[],void(a[v][S]=_iterateRules([],g,r,c,l,s));if("string"==typeof g)return v++,"prevent-default"==S&&_checkPassiveState(s,c),a[v]=[],a[v]["&"]=[],void a[v]["&"].push({name:S,value:g,file:n[b].file,line:n[b].line,intID:n[b].intID});for(u="",p="",d=S.split(","),f=d.length,m=0;m<f;m++)for(i in _=d[m].trim(),v++,a[v]=[],a[v][_]=[],g)void 0!==g[i].type&&("&"==_&&"prevent-default"==g[i].name&&_checkPassiveState(s,c),a[v][_].push({name:g[i].name,value:g[i].value,file:g[i].file,line:g[i].line,intID:g[i].intID}))}})),a},_makeVirtualConfig=(a="",n="",r=null,c=null)=>{var l,s,i,u,p,d,f,_,m,S,g=""!==a?a:parsedConfig;if(Object.keys(g).forEach((function(a){if(g[a].name)for(d=g[a].name,S=!1,l=d.split(/,(?![^\(\[]*[\]\)])/),s=l.length,i=0;i<s;i++){let c;switch(u=l[i].trim(),p="@component "==u.substr(0,11),S&&(c=-1===u.indexOf("?"))?"?":!p||p&&-1===l[i].indexOf(":")?u.slice(0,1):""){case"?":let l=c?u:u.substr(1);r&&(l="|"+r+"|"+l),conditionals[l]=void 0===conditionals[l]?[]:conditionals[l],conditionals=_iterateConditionals(conditionals,g[a].value,l),S=!0;break;case"@":if("@pages"==u)_iteratePageList(g[a].value);else if(p){let n=u.split(" ")[1].trim();components[n]||(components[n]={}),components[n].mode=null,components[n].shadow=!1,components[n].scoped=!1,components[n].privEvs=!1;let r=u+" ";-1!==r.indexOf(" shadow ")&&(components[n].shadow=!0,components[n].mode=-1!==u.indexOf(" closed")?"closed":"open"),-1===r.indexOf(" private ")&&-1===r.indexOf(" privateVariables ")||(components[n].privVars=!0,components[n].scoped=!0),-1!==r.indexOf(" privateEvents ")&&(components[n].privEvs=!0),_makeVirtualConfig(g[a].value,"",n),void 0===components[n].data&&(components[n].data="",components[n].file="",components[n].line="",components[n].intID=""),n=""}else n=_setupMediaQueryHandler(u.slice(7).trim()),_makeVirtualConfig(g[a].value,n),n="";break;default:if("html"==u)r&&(components[r].data=g[a].value[0].value.slice(1,-1),components[r].data=components[r].data.replace(/\\\"/g,'"'),components[r].file=g[a].value[0].file,components[r].line=g[a].value[0].line,components[r].intID=g[a].value[0].intID);else{if(!(f=u.split(/:(?![^\(\[]*[\]\)])/))[1]){console.log('"'+d+'" '+u+" is not a fully formed selector - it may be missing an event or have incorrect syntax. Or you have too many closing curly brackets.");continue}m=f.shift(),_=(_=f.pop()).trim();let c,l=[],s=[];if(f){let a,n;for(n of f)a=new RegExp(COLONSELS,"g"),a.test(n)?l.push(n):s.push(n)}""!==n&&s.push(n),l.length>0&&(m+=":"+l.join(":")),r&&(m="|"+r+":"+m,shadowSels[r]=void 0===shadowSels[r]?[]:shadowSels[r],shadowSels[r][_]=!0,components[r].scoped=!0),config[m]=void 0===config[m]?{}:config[m],config[m][_]=void 0===config[m][_]?{}:config[m][_],c=0===s.length?0:s.join(" "),preSetupEvents.push({ev:_,sel:m}),void 0===config[m]&&(config[m]={}),void 0===config[m][_]&&(config[m][_]={}),void 0===config[m][_][c]&&(config[m][_][c]=[]),config[m][_][c].push(_iterateRules([],g[a].value,m,_,c,r))}}}})),""!==a)return;let v=!!debugMode&&_doDebug("config");v&&Object.keys(config).sort().forEach((function(a){console.log(a,config[a])})),v=!!debugMode&&_doDebug("conditionals"),v&&Object.keys(conditionals).sort().forEach((function(a){console.log(a,conditionals[a])})),v=!!debugMode&&_doDebug("components"),v&&Object.keys(components).sort().forEach((function(a){console.log(a,components[a])}))};ActiveCSS._mapRegexReturn=(a,n,r=null)=>{if("string"!=typeof n)return n;let c=new RegExp(Object.keys(a).join("|"),"gim");return n=n.replace(c,(function(n){return r?r[n]:a[n]}))};const _parseConfig=a=>{a=(a=(a=(a=a.replace(/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*$/gm,"")).replace(/[\r\n\t]+/g,"")).replace(/\\\"/g,"_ACSS_escaped_quote")).replace(/\\\"/g,"_ACSS_escaped_quote");let n="";a=a.replace(/@command[\s]+(conditional[\s]+)?([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]+[\s]*\{\=[\s\S]*?\=\})/g,(function(a,r,c){return n+="~_acssSystem:"+(setupEnded?"afterLoadConfig":"init")+"{"+(r?"create-conditional":"create-command")+":"+c+";}",""})),a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a+=n).replace(/\{\=([\s\S]*?)\=\}/g,(function(a,n){return-1!==n.indexOf("*debugfile:")&&(n=(n=n.trim().slice(0,-1)).replace(/\*debugfile\:[\s\S]*?\*/g,""),n+="*"),"_ACSS_subst_equal_brace_start"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,n)+"_ACSS_subst_equal_brace_end"}))).replace(/<style>([\s\S]*?)<\/style>/gim,(function(a,n){return"<style>"+ActiveCSS._mapRegexReturn(DYNAMICCHARS,n)+"</style>"}))).replace(/\{\$([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(a,n){return"_ACSS_subst_dollar_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\[\]]+)\}\}/gi,(function(a,n){return"_ACSS_subst_brace_start_ACSS_subst_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\#\:]+)\}\}/gi,(function(a,n){return"_ACSS_subst_brace_start_ACSS_subst_at_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end_ACSS_subst_brace_end"}))).replace(/\{\@([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\#\:]+)\}/gi,(function(a,n){return"_ACSS_subst_at_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(a,n){return"_ACSS_subst_pipe_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\{\$\|\@\}]+)\}/gi,(function(a,n){return"_ACSS_subst_hash_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\$\[\]]+)\}/gi,(function(a,n){return"_ACSS_subst_brace_start"+(n=n.replace(/\./g,"_ACSS_dot"))+"_ACSS_subst_brace_end"}))).replace(/\\{/g,"_ACSS_brace_start")).replace(/\\}/g,"_ACSS_brace_end")).replace(/([^\u00BF-\u1FFF\u2C00-\uD7FF\w_\-]html[\u00BF-\u1FFF\u2C00-\uD7FF\w_\- ]+{)([\s\S]*?)}/gi,(function(a,n,r){return n+'{component: "'+(r=(r=r.replace(/_ACSS_escaped_quote/g,'\\"')).replace(/"/g,"_ACSS_escaped_quote"))+'";}'}));let r={"{":"_ACSS_brace_start","}":"_ACSS_brace_end",";":"_ACSS_semi_colon",":":"_ACSS_colon","/":"_ACSS_slash","@":"_ACSS_at"},c=(a=(a=(a=(a=a.replace(/("([^"]|"")*")/g,(function(a,n){return ActiveCSS._mapRegexReturn(r,n)}))).replace(/@conditional[\s]+/g,"?")).replace(/([\(]([^\(\)]|\(\))*[\)])/g,(function(a,n){return ActiveCSS._mapRegexReturn(r,n)}))).replace(/[\s]*var[\s]*\:([\s\S]*?)\;/gim,(function(a,n){return"var: "+ActiveCSS._mapRegexReturn(DYNAMICCHARS,n)+";"}))).split("{").length;return(a=_convConfig(a,c))[0]||console.log("Active CSS: Either your config is empty or there is a structural syntax error."),a},_readSiteMap=()=>{parsedConfig=_parseConfig(concatConfig),concatConfig="";var a=!!debugMode&&_doDebug("parser");let n;for(n of(a&&console.log(parsedConfig),setupEnded||_setupPassive(),_makeVirtualConfig(),preSetupEvents))_setupEvent(n.ev,n.sel);preSetupEvents=[],setupEnded||(_startMainListen(),_initScriptTrack(),(elementObserver=new MutationObserver(ActiveCSS._nodeMutations)).observe(document.body,{childList:!0,subtree:!0}),_handleEvents({obj:"~_acssSystem",evType:"init"}),_handleEvents({obj:"body",evType:"preInit"}),_handleEvents({obj:"body",evType:"init"}),_runInnerEvent("*","draw",document,!0),_handleEvents({obj:"body",evType:"scroll"}),_wrapUpStart(),""!==lazyConfig&&setTimeout((function(){let a,n=lazyConfig.split(",");for(a of n)_a.LoadConfig({actName:"load-config",actVal:a,doc:document})}),1e3))},_setupEvent=(a,n,r)=>{if(void 0===selectors[a]&&(selectors[a]=[]),selectors[a].includes(n)){if(!setupEnded||!doesPassive)return}else selectors[a].push(n);if(debuggerEvs.includes(a)){if(!setupEnded||!doesPassive)return}else debuggerEvs.push(a);if(!1!==(a=_getRealEvent(a))&&(setupEnded||!eventState[a])){let r=document.parentNode&&"body"==n&&"scroll"==a?document.body:window;_attachListener(r,a,null,null,null,!!setupEnded),eventState[a]=!0}},_setupMediaQueryHandler=a=>{if(a=a.trim(),mediaQueriesOrig[a])return mediaQueriesOrig[a];let n="__mql_"+(mediaQueries.length+1);mediaQueriesOrig[a]=n,conditionals[n]=[],conditionals[n].push({name:"mql-true",value:n});let r=window.matchMedia(a),c=r.matches;return mediaQueries.push(n),mediaQueries[n]={ev:r,val:c},mediaQueries[n].ev.addListener((function(a){let n=mediaQueriesOrig[a.media];mediaQueries[n].val=a.matches})),n},_setupPassive=()=>{try{let a=Object.defineProperty({},"passive",{get:function(){doesPassive=!0}});window.addEventListener("testPassive",null,a),window.removeEventListener("testPassive",null,a)}catch(a){}},_sortOutEscapeChars=a=>ActiveCSS._mapRegexReturn({_ACSS_brace_start:"{",_ACSS_brace_end:"}",_ACSS_escaped_quote:'\\"',_ACSS_semi_colon:";",_ACSS_colon:":",_ACSS_slash:"/",_ACSS_at:"@",_ACSS_subst_equal_brace_start:"{=",_ACSS_subst_equal_brace_end:"=}",_ACSS_subst_dollar_brace_start:"{$",_ACSS_subst_brace_start:"{",_ACSS_subst_at_brace_start:"{@",_ACSS_subst_pipe_brace_start:"{|",_ACSS_subst_hash_brace_start:"{#",_ACSS_subst_brace_end:"}",_ACSS_dot:"."},a),_startMainListen=()=>{window.addEventListener("message",(function(a){if(a.origin===window.location.origin&&"causejs-devtools-extension"!=a.data.source){var n=a.data;switch(n.type){case"activecss-unloading":case"activecss-loaded":let a=document.getElementById(n.el);_handleEvents({obj:a,evType:typ})}}})),document.parentNode?(window.addEventListener("beforeunload",(function(a){parent.postMessage({type:"activecss-unloading",el:window.frameElement.id},window.location.origin)})),parent.postMessage({type:"activecss-loaded",el:window.frameElement.id},window.location.origin)):window.addEventListener("popstate",(function(a){let n=a.state;if(!n)return;debuggerActive&&_debugOutput("Popstate event");let r=document.querySelector("#data-active-pages"),c=!1;if(n&&r){let a=new URL(n),l=a.pathname+a.search,s=r.querySelector('a[href="'+l+'"]');s&&(ActiveCSS.trigger(s,"click"),c=!0)}c||(window.location.href=n)})),currentPage=location.pathname,scopedVars=_observableSlim.create(scoped,!0,ActiveCSS._varUpdateDom)},_wrapUpStart=()=>{let a=_resolveURL(window.location.href);window.history.replaceState(a,document.title,a),setupEnded=!0,document.dispatchEvent(new CustomEvent("ActiveCSSInitialized",{}))};ActiveCSS.init=a=>{if(passiveEvents=void 0===(a=a||{}).passiveEvents||a.passiveEvents,inlineConfigTags=document.querySelectorAll('style[type="text/acss"]'),autoStartInit)inlineConfigTags&&(lazyConfig="",_initGetInline()),autoStartInit=!1;else{if(userSetupStarted=!0,setupEnded)return void console.log("Cannot initialize Active CSS twice.");let n;lazyConfig=a.lazyConfig||"",a.configLocation=a.configLocation||console.log("No inline or Active CSS config file setup - see installation docs."),a.debugMode&&(debugMode=a.debugMode,document.parentNode?console.log("Active CSS debug mode in iframe ID "+window.frameElement.id+": "+debugMode):console.log("Active CSS debug mode: "+debugMode));let r=a.configLocation.split(",");for(n of(concatConfigLen=r.length,inlineConfigTags&&_initGetInline(),r))n=n.trim(),configArr.push(_getBaseURL(n)),_getFile(n,"txt",{file:n})}};const _initGetInline=()=>{concatConfigLen+=inlineConfigTags.length,inlineConfigTags.forEach(a=>{_addConfig(a.innerHTML,{file:"inline"})}),inlineConfigTags=null},_addScopedAttr=(a,n,r,c,l)=>{let s=_addScopedCID(a,n.secSelObj,l),i=n.actVal.split(" ")[0],u=c?r:r.substr(r.indexOf(" ")+1)._ACSSRepQuo();_set(scopedData,a+".attrs["+s+"]["+i+"]",{orig:u,scopeRef:l})},_addScopedCID=(a,n,r)=>{let c=_getActiveID(n);return _set(scopedData,a+".cids["+c+"]",{cid:c,scopeRef:r}),c},_escapeItem=(a,n)=>{if(-1===["Render","RenderAfterBegin","RenderAfterEnd","RenderBeforeBegin","RenderBeforeEnd","SetAttribute"].indexOf(n))return a;let r=document.createElement("div");return r.textContent=a.replace(/\{\=|\=\}/gm,""),r.innerHTML},_getObjFromDots=(a,n)=>void 0===a[n]?"":a[n],_observableSlim=(paths=[],observables=[],targets=[],targetsProxy=[],dupProxy=null,_create=function(a,n,r,c){var l=r||null,s=c||[{target:a,property:""}];paths.push(s),a instanceof Array&&(a.__length=a.length);var i=[],u=function(a,n,r){for(var c="",l=null,i=0;i<s.length;i++)l instanceof Array&&!isNaN(s[i].property)&&(s[i].property=l.indexOf(s[i].target)),c=c+"."+s[i].property,l=s[i].target;return c=(c=c+"."+n).substring(2),!0===r&&(c="/"+c.replace(/\./g,"/")),c},p=function(a){if(!0!==l.paused)if(!0===n)setTimeout((function(){if(a===i.length){var n=i.slice(0);i=[];for(var r=0;r<l.observers.length;r++)l.observers[r](n)}}),10);else{var r=i.slice(0);i=[];for(var c=0;c<l.observers.length;c++)l.observers[c](r)}},d={get:function(a,r){if("__getTarget"===r)return a;if("__isProxy"===r)return!0;if("__getParent"===r)return function(a=1){var n=u(0,"__getParent").split(".");return n.splice(-(a+1),a+1),function(a,n){return n.split(".").reduce((function(a,n){return a?a[n]:void 0}),a||self)}(l.parentProxy,n.join("."))};if("__getPath"===r)return u(0,"__getParent").slice(0,-12);var c=a[r];if(a instanceof Date&&c instanceof Function&&null!==c)return c.bind(a);if(c instanceof Object&&null!==c&&a.hasOwnProperty(r)){if(!0===c.__isProxy&&(c=c.__getTarget),c.__targetPosition>-1&&null!==targets[c.__targetPosition])for(var i=targetsProxy[c.__targetPosition],p=0,d=i.length;p<d;p++)if(l===i[p].observable)return i[p].proxy;var f=s.slice(0);return f.push({target:c,property:r}),_create(c,n,l,f)}return c},deleteProperty:function(a,n){var r=!0;dupProxy===_&&(r=!1,dupProxy=null);var c=Object.assign({},a);if(i.push({type:"delete",target:a,property:n,newValue:null,previousValue:c[n],currentPath:u(0,n),jsonPointer:u(0,n,!0),proxy:_}),!0===r){l.changesPaused||delete a[n];for(var s=0,d=targets.length;s<d&&a!==targets[s];s++);for(var f=targetsProxy[s]||[],m=f.length;m--;)f[m].proxy!==_&&(dupProxy=f[m].proxy,delete f[m].proxy[n])}return p(i.length),!0},set:function(a,n,r,c){r&&r.__isProxy&&(r=r.__getTarget);var s=!0;dupProxy===_&&(s=!1,dupProxy=null);var d=a[n];if(d!==r||!1===s||"length"===n&&a instanceof Array&&a.__length!==r){var f=!0,m=typeof d,S="update";if("undefined"===m&&(S="add"),i.push({type:S,target:a,property:n,newValue:r,previousValue:c[n],currentPath:u(0,n),jsonPointer:u(0,n,!0),proxy:_}),"length"===n&&a instanceof Array&&a.__length!==r&&(i[i.length-1].previousValue=a.__length,a.__length=r),!0===s){l.changesPaused||(a[n]=r),f=!1;for(var g=a.__targetPosition,v=targetsProxy[g].length;v--;)if(l===targetsProxy[g][v].observable&&null!==targets[targetsProxy[g][v].observable.parentTarget.__targetPosition]){f=!0;break}if(f){for(var b=targetsProxy[g],h=0,C=b.length;h<C;h++)b[h].proxy!==_&&(dupProxy=b[h].proxy,b[h].proxy[n]=r);setTimeout((function(){if("object"===m&&null!==d){for(var n=Object.keys(a),r=0,c=n.length;r<c;r++)if(a[n[r]]===d)return;var s=!1;if(function a(n){for(var r=Object.keys(n),c=0,l=r.length;c<l;c++){var i=n[r[c]];if(i instanceof Object&&null!==i&&a(i),i===d)return void(s=!0)}}(a),!0===s)return;!function a(n){var s=Object.keys(n);for(r=0,c=s.length;r<c;r++){var i=n[s[r]];i instanceof Object&&null!==i&&a(i)}var u=-1;for(r=0,c=targets.length;r<c;r++)if(n===targets[r]){u=r;break}if(u>-1){for(var p=targetsProxy[u],d=p.length;d--;)if(l===p[d].observable){p.splice(d,1);break}0==p.length&&(targets[u]=null)}}(d)}}),1e4)}}f&&p(i.length)}return!0}},f=a.__targetPosition;(!f||f<0)&&Object.defineProperty(a,"__targetPosition",{value:targets.length,writable:!1,enumerable:!1,configurable:!1});var _=new Proxy(a,d);null===l&&(l={parentTarget:a,domDelay:n,parentProxy:_,observers:[],paused:!1,path:s,changesPaused:!1},observables.push(l));var m={target:a,proxy:_,observable:l};return f>-1?(null===targets[f]&&(targets[f]=a),targetsProxy[f].push(m)):(targets.push(a),targetsProxy.push([m])),_},{create:function(a,n,r){!0===a.__isProxy&&(a=a.__getTarget);var c=_create(a,n);return"function"==typeof r&&this.observe(c,r),function a(n){for(var r=n.__getTarget,c=Object.keys(r),l=0,s=c.length;l<s;l++){var i=c[l];r[i]instanceof Object&&null!==r[i]&&a(n[i])}}(c),c},observe:function(a,n){for(var r=observables.length;r--;)if(observables[r].parentProxy===a){observables[r].observers.push(n);break}}});var paths,observables,targets,targetsProxy,dupProxy,_create;const _prefixScopedVars=function(a,n=null){let r,c;return a=a.replace(/(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)(\\"|"(?:\\"|[^"])*"|[\u00BF-\u1FFF\u2C00-\uD7FF\w_\.]+)(?!\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w)/gim,(function(a,l){if(-1!==l.indexOf('"')||l.match(/^[\d]+$/))return l;if("true"==l||"false"==l)return l;if(-1!==l.indexOf(".")){let a=l.split(".")[0];if("window"==a||"scopedVars"==a)return l}return r=(n&&privVarScopes[n]?n:"main")+"."+l,c=_get(scopedVars,r),c?"scopedVars."+r:l}))},_removeVarPlaceholders=a=>{let n,r,c,l,s,i=document.createTreeWalker(a,NodeFilter.SHOW_COMMENT),u=[];for(;i.nextNode();)n=i.currentNode,"active-var-"==n.data.substr(0,11)?(u.push(n),r=n.data.substr(11),void 0===varMap[r]&&(varMap[r]=[]),"/active-var"==n.nextSibling.data?(u.push(n.nextSibling),c=n.parentNode.insertBefore(document.createTextNode(""),n.nextSibling),varMap[r].push(c)):varMap[r].push(n.nextSibling)):"/active-var"==n.data&&u.push(n);for(u.forEach(a=>{a.remove()}),i=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT);i.nextNode();)"STYLE"==i.currentNode.tagName&&(s=i.currentNode,s._acssActiveID||_getActiveID(s),l=i.currentNode.textContent,void 0===varInStyleMap[s._acssActiveID]&&(varInStyleMap[s._acssActiveID]=l),l=varInStyleMap[s._acssActiveID].replace(STYLEREGEX,(function(a,n,r,c){void 0===varStyleMap[n]&&(varStyleMap[n]=[]),varStyleMap[n].push(s);let l=n.indexOf("HOST");if(-1!==l){let a=n.substr(l+4),r=idMap["id-"+n.substr(1,l-1)];return r&&r.hasAttribute(a)?r.getAttribute(a):""}{let a=_get(scopedVars,n);return a||""}})),s.textContent=l)},_replaceAttrs=(a,n,r=null,c=null,l="",s=null)=>{if(!n)return"";if(-1!==n.indexOf("{$RAND}")){let a=Math.floor(1e7*Math.random());n=n.replace(/\{\$RAND\}/g,a)}return-1===n.indexOf("{=")||c&&["CreateCommand","CreateConditional","Eval","Run"].includes(c.func)||(n=ActiveCSS._sortOutFlowEscapeChars(n),n=_replaceJSExpression(n,null,null,s)),-1!==n.indexOf("{@")&&(n=n.replace(/\{\@([^\t\n\f \/>"'=(?!\{)]+)\}/gi,(function(n,l){let s,i=l.split("."),u=[];if(i[1]&&"selected"==i[0]&&"SELECT"==a.tagName){if(s=a.options[a.selectedIndex].getAttribute(i[1]),s)return _escapeItem(s);if(s=a.options[a.selectedIndex][i[1]],s)return _escapeItem(s);u.push("Neither attribute or property "+i[1]+" found in target or primary selector:")}else{let n=l.lastIndexOf(":");if(-1!==n){let r,i=l.substr(0,n);if("host"!=i||c&&-1!==["beforeComponentOpen","componentOpen"].indexOf(c.event))r=_getSel(c,i);else{if(!a.shadowRoot)return"{@"+l+"}";r=a.shadowRoot}let p=l.substr(n+1);if("IFRAME"==r.tagName&&"url"==p)return _escapeItem(r.contentWindow.location.href);if(s=r.getAttribute(p),s)return _escapeItem(s);if(s=r[p],s)return _escapeItem(s);u.push("Neither attribute or property "+p+" found in target or primary selector:")}else if(a&&"string"!=typeof a){if(r){if(s=r.getAttribute(l),s)return _escapeItem(s);if(s=r[l],s)return _escapeItem(s)}if(s=a.getAttribute(l),s)return _escapeItem(s);if(s=a[l],s)return _escapeItem(s);u.push("Attribute not property "+l+" found in target or primary selector:")}}return u&&u.push(a),""}))),n=_replaceStringVars(c,n,s),_replaceScopedVars(n,r,l,c,null,null,s)},_replaceComponents=(a,n)=>{let r,c=0;for(;c<50&&(r=!1,c++,n=(n=n.replace(/\{\#([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-_]+)\}/gi,(function(a,n){let r=document.getElementById(n);return r?r.innerHTML:"{#"+n+"}"}))).replace(/\{\|([\u00BF-\u1FFF\u2C00-\uD7FF\w\.\-_]+)\}/gi,(function(n,c){let l=!1;if("_acss-host_"==c.substr(0,11)&&(l=!0,c=c.substr(11)),!components[c])return"{|"+c+"}";let s=components[c].data.trim();if(r=!0,s=ActiveCSS._sortOutFlowEscapeChars(s),s="0"!=a.loopRef?_replaceLoopingVars(s,a.loopVars):s,components[c].shadow||components[c].scoped||l){let a='<data-acss-component data-name="'+c+'" data-ref="'+ ++compCount+'"></data-acss-component>';compPending[compCount]=s,s=a}else s=_replaceAttrs(a.obj,s,null,null,a.func,a.compRef),s=_replaceStringVars(a.ajaxObj,s);return s||""})),r););return 50==c&&console.log("Active CSS recursion detected during component rendering. Skipped after 50 attempts.\nFile: "+a.file+", line: "+a.line),n},_replaceJSExpression=(a,n=!1,r=!1,c=null)=>{let l;return a=a.replace(/\{\=([\s\S]*?)\=\}/gm,(function(s,i){i=_replaceScopedVarsExpr(i,c);try{l=Function("scopedVars",'"use strict";return ('+i+");")(scopedVars)}catch(n){console.log("JavaScript expression error ("+n+"): "+a),console.log("Actual expression evaluated: "+i)}if(!n){let a="";r&&(a='"'),l=!0===l?"true":!1===l?"false":"string"==typeof l?a+l+a:"number"==typeof l?l.toString():"Invalid expression ("+i.trim()+")"}return l})),n?l:a},_replaceScopedVars=(a,n=null,r="",c=null,l=!1,s=null,i=null)=>{let u,p,d,f,_,m,S,g,v,b;if(-1===a.indexOf("{{")||l||-1===a.indexOf("</"))a=_replaceScopedVarsDo(a,n,r,c,!1,s,i);else{for(u=document.createElement("template"),u.innerHTML=a,p=document.createTreeWalker(u.content,NodeFilter.SHOW_ELEMENT);p.nextNode();)customTags.includes(p.currentNode.tagName)&&p.currentNode.setAttribute("data-active-scoped","");for(p.currentNode=u.content;p.nextNode();)for(b of(g=p.currentNode,v=g.attributes,m=g.parentElement?g.parentElement.closest("[data-active-scoped]"):null,S=m||s,v)){if(-1!==["data-activeid"].indexOf(b.nodeName))continue;let a=_replaceScopedVarsDo(b.nodeValue,null,"SetAttribute",{secSelObj:g,actVal:b.nodeName+" "+b.nodeValue},!0,S,i);g.setAttribute(b.nodeName,a)}for(p=document.createTreeWalker(u.content,NodeFilter.SHOW_TEXT);p.nextNode();)g=p.currentNode,d=g.parentNode,11!=d.nodeType&&(_=_getActiveID(d),f=g.textContent,m=g.parentElement?g.parentElement.closest("[data-active-scoped]"):null,S=m||s,g.textContent=_replaceScopedVarsDo(f,d,"Render",null,!0,S,i));a=(a=(a=(a=(a=u.innerHTML).replace(/_cj_s_lt_/gm,"\x3c!--")).replace(/_cj_s_gt_/gm,"--\x3e")).replace(/_cj_s_lts_/gm,"/*")).replace(/_cj_s_gts_/gm,"*/")}return a},_replaceScopedVarsDo=(a,n=null,r="",c=null,l=!1,s=null,i=null)=>{let u,p=!1,d=!1,f=!1,_=a;return-1!==a.indexOf("{")&&(a=a.replace(/\{((\{)?(\@)?[\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.\:\[\]]+(\})?)\}/gm,(function(a,m){let S;if("{"==m[0]&&(p=!0,m=m.slice(1,-1)),"@"==m[0]){if(!s)return a;d=!0;let n="host:";if(-1===(m=m.slice(1)).indexOf(n))return console.log("Non component attribution substitution is not yet supported."),a;if(f=!0,m=m.replace(n,""),!s.hasAttribute(m))return console.log("Component host attribute "+m+" not found. Looking in host element: ",s),a;u=_escapeItem(s.getAttribute(m),r),S=_getActiveID(s).replace("d-","")+"HOST"+m}else{if(-1!==(m=(m=m.replace(/\[/,".")).replace(/\]/,"")).indexOf(".")){let a=m.split(".")[0];if("window"==a)return m;"scopedVars"==a&&(m=m.replace(/^scopedVars\./,""))}m=i&&privVarScopes[i]?i+"."+m:"main."+m,u=_get(scopedVars,m),u=!0===u?"true":!1===u?"false":"string"==typeof u?_escapeItem(u,r):"number"==typeof u?u.toString():u&&"object"==typeof u?"__object":"",S=m}if(p&&-1!==r.indexOf("Render")){let a,r;return _addScopedCID(S,n,i),"STYLE"==n.tagName?(a=l?"_cj_s_lts_":"/*",r=l?"_cj_s_gts_":"*/"):(a=l?"_cj_s_lt_":"\x3c!--",r=l?"_cj_s_gt_":"--\x3e"),a+"active-var-"+S+r+u+a+"/active-var"+r}return"SetAttribute"==r&&_addScopedAttr(S,c,_,l,i),u}))),a},_replaceScopedVarsExpr=(a,n=null)=>{let r,c,l;return a=a.replace(/([\u00BF-\u1FFF\u2C00-\uD7FFa-z][\u00BF-\u1FFF\u2C00-\uD7FF\w_\.\:\[\]]+)(?!\u00BF-\u1FFF\u2C00-\uD7FF\w)/gim,(function(a,s){if(c=s,-1!==s.indexOf(".")){if(l=s.split(".")[0],"window"==l)return s;"scopedVars"==l&&(s=s.replace(/^scopedVars\./,""))}return s=n&&privVarScopes[n]?n+"."+s:"main."+s,r=_get(scopedVars,s),void 0!==r?"scopedVars."+s:c}))},_replaceStringVars=(a,n,r)=>{let c="";return n=n.replace(/\{([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\[\]\.\$]+)\}/gi,(function(n,l){if("$STRING"==l)return c=a&&a.res?a.res:"{$STRING}",c;if(-1!==l.indexOf("$")&&-1===["$CHILDREN","$SELF"].indexOf(l)){let a=(r&&privVarScopes[r]?r:"main")+"."+l;return c=_get(scopedVars,a),c||""}return"{"+l+"}"}))},_resolveAjaxVars=a=>{if("object"==typeof a.res&&!a.preGet){let n=a.compRef&&privVarScopes[a.compRef]?a.compRef:"main";if("main"!=n)return void setTimeout((function(){_resolveAjaxVarsDecl(a.res,n),_ajaxCallbackDisplay(a)}),0);_resolveAjaxVarsDecl(a.res,n)}_ajaxCallbackDisplay(a)},_resolveAjaxVarsDecl=(a,n)=>{let r;for(r in a)_set(scopedVars,n+"."+r,a[r])},_resolveInnerBracketVars=a=>(-1!==a.indexOf("[")&&(a=a.replace(/\[([\u00BF-\u1FFF\u2C00-\uD7FF\w_\-\.]+)\]/gm,(function(a,n){let r;return"scopedVars."==n.substr(0,11)?(n=n.substr(11),r=_get(scopedVars,n)):"window."==n.substr(0,7)?(n=n.substr(7),r=_get(window,n)):r=n,"["+r+"]"}))),a),_resolvePath=(a,n=self,r=".")=>((Array.isArray(a)?a:a.split(r)).reduce((a,n)=>a&&a[n],n),n);ActiveCSS._sortOutFlowEscapeChars=a=>ActiveCSS._mapRegexReturn({_ACSS_later_comma:",",_ACSS_later_brace_start:"{",_ACSS_later_brace_end:"}",_ACSS_later_semi_colon:";",_ACSS_later_colon:":",_ACSS_later_double_quote:'"'},a),ActiveCSS._varUpdateDom=a=>{let n,r,c,l;for(n of a)if(-1!==n.currentPath.indexOf(".")||-1!==n.currentPath.indexOf("HOST"))if("object"==typeof n.previousValue||"object"==typeof n.newValue)for(l of(n.previousValue=n.previousValue?n.previousValue:[],n.previousValue=!0===n.previousValue.__isProxy?n.previousValue.__getTarget:n.previousValue,c=recursiveDiff.getDiff(n.previousValue,n.newValue),c))l.path=n.currentPath+(l.path?"."+l.path.join("."):""),r=_get(scopedData,l.path),r&&(l.val=l.val?l.val:"",_varUpdateDomDo({currentPath:l.path,newValue:l.val,type:l.op},r));else{if(r=_get(scopedData,n.currentPath),!r)continue;_varUpdateDomDo(n,r)}};const _varUpdateDomDo=(a,n)=>{let r,c,l,s,i,u,p,d,f,_;r=a.newValue,f=a.currentPath.indexOf("HOST");let m,S=null;if("_"==a.currentPath.substr(0,1)&&(S=a.currentPath.substr(0,a.currentPath.indexOf(".")),"delete"==a.type&&""==S))return delete shadowDoms[a.currentPath],delete scopedData[a.currentPath],delete actualDoms[a.currentPath],delete compParents[a.currentPath],delete compPrivEvs[a.currentPath],delete varMap[a.currentPath],void delete varStyleMap[a.currentPath];for(c in"object"==typeof varMap[a.currentPath]&&varMap[a.currentPath].forEach((n,c)=>{n.isConnected?n.textContent=r:varMap[a.currentPath].splice(c,1)}),"object"==typeof varStyleMap[a.currentPath]&&varStyleMap[a.currentPath].forEach((n,c)=>{if(n.isConnected){let c=varInStyleMap[n._acssActiveID].replace(STYLEREGEX,(function(n,c){if(c==a.currentPath)return r;{let a=c.indexOf("HOST");if(-1!==a){let r=c.substr(a+4),l=idMap["id-"+c.substr(1,a-1)];return l&&l.hasAttribute(r)?l.getAttribute(r):n}{let a=_get(scopedVars,c);return a||n}}}));n.textContent=c}else varStyleMap[a.currentPath].splice(c,1),delete varInStyleMap[n]}),n.attrs)for(s in m=!1,n.attrs[c]){if(!m){if(m=!0,_=n.attrs[c][s].scopeRef,d=_?actualDoms[_]:document,void 0===d)break;if(p=supportsShadow&&d instanceof ShadowRoot?d.host:idMap["id-"+a.currentPath.substr(1,f-1)],l=idMap[c],!l){delete n.attrs[c];break}}if(i=n.attrs[c][s].orig,!l.hasAttribute(s))return;u=_replaceScopedVars(i,null,"",null,!0,p,S),l.setAttribute(s,u)}},_cookieExists=a=>!(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie),_getCookie=a=>a&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null,_setCookie=(a,n,r,c,l,s,i,u)=>{if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var p="";if(r)switch(r.constructor){case Number:p=r===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+r;break;case String:p="; expires="+r}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(n)+p+(l?"; domain="+l:"")+(c?"; path="+c:"")+(s?"; Secure":"")+(i?"; samesite="+i:u?"; HttpOnly":""),!0},_addActValRaw=a=>{a.avRaw=a.actVal,-1!==a.avRaw.indexOf("?")&&(a.avRaw=_getBaseURL(a.avRaw))},_ajax=(a,n,r,c,l,s,i)=>{preGetMid++;var u,p=new XMLHttpRequest;switch(p.open(a,r,!0),n){case"html":case"txt":u="text/html";break;case"json":u="application/json";break;default:u="application/x-www-form-urlencoded"}p.setRequestHeader("Content-type",u),p.onreadystatechange=function(){if(4==p.readyState){if(200!=p.status){if(preGetMid--,!s)return void console.log("Tried to get file: "+r+", but failed with error code: "+p.status);s(p.responseText,p.status,i)}preGetMid--,null!==l&&l(p.responseText,i)}},"POST"==a&&null!==c?p.send(c):p.send()},_ajaxCallback=(a,n)=>{"string"==typeof a&&""!==a.trim()?(n.res="JSON"==n.dataType?JSON.parse(a):a,_resolveAjaxVars(n)):(n.res="",_ajaxCallbackDisplay(n))},_ajaxCallbackDisplay=a=>{a.error||!a.cache&&!a.preGet||(ajaxResLocations[a.finalURL]=a.res),!a.error&&a.preGet?_handleEvents({obj:a.obj,evType:"afterAjaxPreGet"+(a.error?a.errorCode:""),otherObj:a,compRef:a.compRef,compDoc:a.compDoc,component:a.component}):_ajaxDisplay(a),delete a.res},_ajaxCallbackErr=(a,n,r)=>{r.preGet?(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax-pre-get callback error debug: failed with error "'+n+'".'):(r.error=!0,r.errorCode=n,_ajaxCallback(a,r),(debuggerActive||!setupEnded&&"function"==typeof _debugOutput)&&_debugOutput('Ajax callback error debug: failed with error "'+n+'".'))},_ajaxDisplay=a=>{let n="afterAjax"+(a.formSubmit?"Form"+(a.formPreview?"Preview":a.formSubmit?"Submit":""):"");a.error&&(n+=a.errorCode),_handleEvents({obj:a.obj,evType:n,otherObj:a,compRef:a.compRef,compDoc:a.compDoc,component:a.component}),""!==a.hash&&(document.location.hash="",document.location.hash=a.hash)},_ajaxDo=a=>{if(a.preGet&&preGetMid){let n=_getParVal(a.actVal,"max");if(preGetMid==(preGetMax=""!=n?n:6))return}let n=a.actVal.split(" ");a.formMethod=_optDef(n,"get","GET","POST"),a.dataType=_optDef(n,"html","HTML","JSON"),a.cache=_optDef(n,"cache",!0,!1),a.nocache=_optDef(n,"nocache",!0,!1);let r=(a.nocache?"_="+Date.now()+"&":"")+"_ACSS=1"+(a.formPreview?"&_ACSSFORMPREVIEW=1":"")+(a.formSubmit?"&_ACSSFORMSUBMIT=1":"")+"&_ACSSTYPE="+a.dataType;a.pars=r;let c=a.url;if(a.preGet&&""===c)return;a.formSubmit&&(a.pars+="&"+_checkForm(a.secSelObj,"pars")),"GET"==a.formMethod&&(c=_appendURIPar(c,a.pars,a.doc)),a.hash="";let l=c.indexOf("#");-1!==l&&(a.hash=c.substr(l+1),c=c.substr(0,l)),c=_attachGetVals(a.actVal,c,a.doc,"get-pars"),a.pars=_attachPostVals(a.actVal,a.pars),a.finalURL="GET"==a.formMethod?c:_appendURIPar(c,a.pars,a.doc),ajaxResLocations[a.finalURL]?a.preGet||(a.res=ajaxResLocations[a.finalURL],_resolveAjaxVars(a)):_ajax(a.formMethod,a.dataType,c,a.pars,_ajaxCallback.bind(this),_ajaxCallbackErr.bind(this),a)},_appendURIPar=(a,n,r)=>{var c=new RegExp("^([a-z]+://|//)","i");""!==a&&c.test(a)||(a=window.location.protocol+"//"+window.location.host+("/"!=a.substr(0,1)?"/":"")+a);let l,s,i=new URL(a),u=n.split("&"),p="";for(l of u)if(-1!==l.indexOf("="))s=l.split("="),s[1]?i.searchParams.set(s[0],s[1]):i.searchParams.set(s[0],"");else if("{#"==l.substr(0,2)){let a=l.slice(2,-1),n=r.getElementById(a);if("FORM"==n.tagName){let a=_checkForm(n,"pars"),c=_appendURIPar(i,a,r);i=new URL(c)}}else p+=l;return i+p},_attachGetVals=(a,n,r,c)=>{let l=_getParVal(a,c);return l&&(n=_appendURIPar(n,l,r)),n},_attachPostVals=(a,n)=>{let r=_getParVal(a,"post-pars");return r&&(n+="&"+r),n},_getFile=(a,n,r={})=>{_ajax("GET",n,a,null,_addConfig.bind(this),_addConfigError.bind(this),r)},_getParVal=(a,n)=>{if(-1!==a.indexOf(n+"(")){let r=new RegExp(n+"\\(([^)]*)\\)","g").exec(a)||"";if(r)return r[1]}return""},_actValSelItem=a=>{let n=a.actVal.split(" "),r=n.splice(-1);return[_getSel(a,n.join(" ")),r[0]]};ActiveCSS._addClassObj=(a,n)=>{if(!a||!a.classList)return;let r=n.replace(".","").split(" ");a.classList.add(...r)};const _checkForm=(a,n)=>{if(!a)return!1;for(var r,c,l,s,i,u,p="check"==n,d="pars"==n,f="",_=[],m=0,S=a.elements.length;m<S;m++)if(c=!1,(r=a.elements[m]).hasAttribute("name")){switch(r.nodeName.toLowerCase()){case"select":for(l=0,s=0,i=r.options.length;s<i;s++)u=r.options[s],c=c||u.selected!=r.defaultSelected,u.defaultSelected&&(l=s);c&&!r.multiple&&(c=l!=r.selectedIndex),f+="&"+r.getAttribute("name")+"="+encodeURIComponent(r.options[r.selectedIndex].value);break;case"textarea":case"input":switch(r.type.toLowerCase()){case"checkbox":c=r.checked!=r.defaultChecked,f+="&"+r.getAttribute("name")+"="+(r.checked?"on":"");break;case"radio":c=r.checked!=r.defaultChecked,r.checked&&(f+="&"+r.getAttribute("name")+"="+encodeURIComponent(r.value));break;default:c=r.value!=r.defaultValue,f+="&"+r.getAttribute("name")+"="+encodeURIComponent(r.value)}break;case"hidden":f+=d?"&"+r.getAttribute("name")+"="+encodeURIComponent(r.value):""}p&&c&&_.push(r)}return p?!!_.length:d?"_ACSSFORMNAME="+(a.name?a.name:"")+f:void 0},_componentDetails=a=>{let n=_getRootNode(a);return _getComponentDetails(n)},_composedPath=a=>{if(a.composedPath)return a.composedPath();{if(a.path)return a.path;let n=a.target,r=[];for(;null!==n.parentNode;)r.push(n),n=n.parentNode;return r.push(document,window),r}},_convertToMS=(a,n)=>{if("stack"==a)return 0;var r=/^(\d+)(ms|s)?$/i.exec(a);if(!r)return console.log(n),!1;var c=parseFloat(r[1]);return"s"==(r[2]||"ms").toLowerCase()?1e3*c:c};ActiveCSS._decodeHTML=a=>(new DOMParser).parseFromString(a,"text/html").documentElement.textContent;const _doDebug=(a,n)=>{if(n){if(-1!==debugMode.indexOf(":")){let r=n.split(":");return-1!==debugMode.indexOf(r[0]+":"+a)}return-1!==debugMode.indexOf(n)||-1!==debugMode.indexOf(a)}return-1!==debugMode.indexOf(":")?-1!==debugMode.indexOf(a)&&debugMode.indexOf(":")!==debugMode.indexOf(a)-1:-1!==debugMode.indexOf(a)},_eachRemoveClass=(a,n,r)=>{r.querySelectorAll("."+a).forEach((function(a,r){a&&ActiveCSS._removeClassObj(a,n)}))};function _escCommaBrack(a,n){a=(a=a.replace(/\\\"/g,"_ACSS_i_dq")).replace(/\\'/g,"_ACSS_i_sq");let r,c={"\\,":"__ACSS_int_com","\\(":"_ACSS_i_bo","\\)":"_ACSS_i_bc","\\{":"_ACSS_i_co","\\}":"_ACSS_i_cc","\\[":"_ACSS_i_so","\\]":"_ACSS_i_sc"},l={",":"__ACSS_int_com","(":"_ACSS_i_bo",")":"_ACSS_i_bc","{":"_ACSS_i_co","}":"_ACSS_i_cc","[":"_ACSS_i_so","]":"_ACSS_i_sc"},s=(a=(a=a.replace(/("([^"]|"")*")/g,(function(a,n){return ActiveCSS._mapRegexReturn(c,n,l)}))).replace(/('([^']|'')*')/g,(function(a,n){return ActiveCSS._mapRegexReturn(c,n,l)}))).split(","),i=0,u="";for(r of s)i+=r.split("[").length-r.split("]").length,i+=r.split("(").length-r.split(")").length,i+=r.split("{").length-r.split("}").length,u+=0!==i?r+"__ACSS_int_com":r+",";return 0!==i?(u=_escCommaBrackClean(u,l),u=u.replace(/__ACSS_int_com/g,","),console.log("Unbalanced JavaScript equation in var command - too many brackets, curlies or parentheses, or there could be incorrectly escaped characters: "+u+", in config: "+n.file+", line: "+n.line),u):(u=u.slice(0,-1),u=u.replace(/\,/g,"_ACSSComma"),u=_escCommaBrackClean(u),u)}function _escCommaBrackClean(a,n){let r={_ACSS_i_dq:'\\"',_ACSS_i_sq:"\\'",__ACSS_int_com:",",_ACSS_i_bo:"(",_ACSS_i_bc:")",_ACSS_i_co:"{",_ACSS_i_cc:"}",_ACSS_i_so:"[",_ACSS_i_sc:"]"};return a=(a=a.replace(/("([^"]|"")*")/g,(function(a,n){return ActiveCSS._mapRegexReturn(r,n)}))).replace(/('([^']|'')*')/g,(function(a,n){return ActiveCSS._mapRegexReturn(r,n)}))}const _fullscreenDetails=()=>{let a;return a="MSGesture"in window?[document.webkitFullscreenElement,"webkit"]:[document.fullscreenElement,""],a},_get=(a,n,r)=>(a=a[(n=Array.isArray(n)?n:n.replace(/(\[(\d)\])/g,".$2").split("."))[0]])&&n.length>1?_get(a,n.slice(1),r):void 0===a?r:a,_getActiveID=a=>{if(!a.isConnected)return _getTempActiveID(a);if(a){if(!a._acssActiveID){let n="id-"+ ++activeIDTrack;a._acssActiveID=n,idMap[n]=a}return a._acssActiveID}return!1},_getBaseURL=a=>a.substr(0,a.indexOf("?")),_getComponentDetails=a=>{let n,r,c,l,s;return a.isSameNode(document)?(r=null,c=null,l=null,s=null):(n=a,supportsShadow&&a instanceof ShadowRoot&&(n=a.host),r=n._acssComponent,c=a,l=n._acssCompRef,s=n._acssPrivEvs),{component:r,compDoc:c,compRef:l,privateEvs:s}},_getComponentRoot=a=>{let n=!(!a.parentElement||supportsShadow&&(!supportsShadow||a.parentNode instanceof ShadowRoot))&&a.parentElement.closest("[data-active-scoped]"),r=a.getRootNode();return!n&&r.isSameNode(document)?document:n?n&&r.isSameNode(document)?n:idMap[n._acssActiveID]?n:r:r},_getFieldValType=a=>{switch(a.tagName){case"INPUT":case"TEXTAREA":return"value";default:return"innerText"}},_getFocusedOfNodes=(a,n)=>{let r,c,l,s=-1,i=-1;if(r=_splitIframeEls(a,n.obj,n.compDoc),!r)return!1;if(null===r[0].activeElement)return-1;for(l of(c=r[0].querySelectorAll(r[1])||null,c))if(s++,l.isSameNode(r[0].activeElement)){i=s;break}return[c,i]},_getObj=a=>{let n=_splitIframeEls(a);if(!n)return!1;try{return n[0].querySelector(n[1])}catch(a){return!1}},_getPastFutureDate=a=>{let n,r=1,c=a.replace(/^([\+|\-]?[\d\.]+)/,(function(a,n){return r=1*n,""})).trim();c=c.replace(/s/g,"").toLowerCase().trim();let l=new Date;switch(c){case"year":n=l.setFullYear(l.getFullYear()+r);break;case"month":n=l.setMonth(l.getMonth()+r);break;case"day":n=l.setHours(l.getHours()+24*r);break;case"hour":case"minute":n=l.setHours(l.getHours()+r);break;case"econd":n=l.setSeconds(l.getSeconds()+r);break;default:n=null}return n?new Date(n):null},_getRealEvent=a=>{let n=a.substr(0,5);if("after"==n&&"afterprint"!=a)return!1;if("keyup"==n)a="keyup";else if("keydown"==a.substr(0,7))a="keydown";else if("fullscreenEnter"==a||"fullscreenExit"==a)a=_fullscreenDetails()[1]+"fullscreenchange";else{if(["draw","disconnectCallback","adoptedCallback","attributeChangedCallback","beforeComponentOpen","componentOpen"].includes(a))return!1;if("attrChange"==a.substr(0,10))return!1}return a},_getRootNode=a=>supportsShadow?_getComponentRoot(a):_getScopedRoot(a)||document,_getScopedRoot=a=>a.parentNode?a.parentNode.closest("[data-active-scoped]"):null,_getSel=(a,n,r)=>{switch(n){case"me":case"self":case"this":return a.secSelObj;case"host":if(-1!==["beforeComponentOpen","componentOpen"].indexOf(a.event))return a.secSelObj;let c=_getRootNode(a.secSelObj);return c._acssScoped?c:c.host;default:return!0!==r&&_getObj(n)}},_getTempActiveID=a=>!(!a||!a.dataset)&&(a.dataset.activeid||(activeIDTrack++,a.dataset.activeid="id-"+activeIDTrack),a.dataset.activeid),_getValFromList=(a,n,r=!1)=>{let c,l,s,i=-1;for(c in a)if(a.hasOwnProperty(c)){if(i++,l=a[c],r&&l.name==n)return i;for(s in l)if(l.hasOwnProperty(s)&&!r&&l[s]==n)return l.value.replace(/"/g,"")}return!!r&&-1},_getWindow=a=>{try{return a.defaultView||a.parentWindow}catch(a){return window}},_handleQuoAjax=(a,n)=>n._ACSSRepQuo();ActiveCSS._hasClassObj=(a,n)=>a.classList.contains(n)||!1;const _htmlToElement=a=>{let n=document.createElement("template");return a=a.trim(),n.innerHTML=a,n.content.firstChild},_ifFocus=(a,n=!0)=>{let r=_getFocusedOfNodes(a.actVal,a);return n?0===r[1]:r[1]==r[0].length-1},_ifVarTrue=(a,n)=>{if("true"==a)return!0;if("false"==a)return!1;let r=(n&&privVarScopes[n]?n:"main")+"."+a,c=_get(scopedVars,r);return void 0===c&&(c=window[a]),!!c};ActiveCSS._ifVisible=(a,n)=>{let r=("object"==typeof a.actVal?a.actVal:""==a.actVal._ACSSRepQuo().trim()?a.secSelObj:_getSel(a,a.actVal)).getBoundingClientRect(),c=r.top,l=r.bottom;return n?c>=0&&l<=window.innerHeight:c<window.innerHeight&&l>=0};const _mimicReset=a=>{var n,r;for(n in a.target.cjsReset)if("title"!=n)switch((r=a.target.cjsReset[n]).type){case"text":r.el.innerText=r.value;break;default:r.el.value=r.value}a.target.cjsReset.title&&(currDocTitle=ActiveCSS._decodeHTML(a.target.cjsReset.title),document.title=currDocTitle)},_optDef=(a,n,r,c)=>(Array.isArray(a)||(a=a.split(" ")),n=n.toLowerCase(),-1!==a.findIndex(a=>n===a.toLowerCase())?r:c),_outDebug=(a,n)=>{if(a){let a;for(a of n)console.log(a)}};var e,t;e="undefined"!=typeof self?self:this,t=function(){return function(a){var n={};function r(c){if(n[c])return n[c].exports;var l=n[c]={i:c,l:!1,exports:{}};return a[c].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=a,r.c=n,r.d=function(a,n,c){r.o(a,n)||Object.defineProperty(a,n,{enumerable:!0,get:c})},r.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,n){if(1&n&&(a=r(a)),8&n)return a;if(4&n&&"object"==typeof a&&a&&a.__esModule)return a;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),2&n&&"string"!=typeof a)for(var l in a)r.d(c,l,function(n){return a[n]}.bind(null,l));return c},r.n=function(a){var n=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(n,"a",n),n},r.o=function(a,n){return Object.prototype.hasOwnProperty.call(a,n)},r.p="",r(r.s=0)}([function(a,n,r){const{types:c,iterableTypes:l,errors:s}=r(1),i=r(2),u={[c.NUMBER]:i.isNumber,[c.BOOLEAN]:i.isBoolean,[c.STRING]:i.isString,[c.DATE]:i.isDate,[c.UNDEFINED]:i.isUndefined,[c.NULL]:i.isNull,[c.ARRAY]:i.isArray,[c.MAP]:i.isMap,[c.SET]:i.isSet,[c.ITERABLE_OBJECT]:i.isIterableObject},p={[c.DATE]:i.areDatesEqual};function d(a){const n=Object.keys(u);let r=c.DEFAULT;for(let c=0;c<n.length;c+=1)if(u[n[c]](a)){r=n[c];break}return r}function f(a,n,r,l){let s;return r===c.UNDEFINED&&l!==c.UNDEFINED?s="add":r!==c.UNDEFINED&&l===c.UNDEFINED?s="delete":function(a,n,r,c){return r===c&&(p[r]?p[r](a,n):a===n)}(a,n,r,l)?i.noop():s="update",s}const _={add:i.setValueByPath,update:i.setValueByPath,delete:i.deleteValueByPath};a.exports={getDiff:(a,n,r=!1)=>function a(n,r,s,i,u){const p=d(n),_=d(r),m=i||[],S=u||[];if(function(a,n){return a===n&&l.indexOf(a)>=0}(p,_)){const l=function(a,n,r){let l;return r===c.ITERABLE_OBJECT?l=new Set(Object.keys(a).concat(Object.keys(n))):r===c.ARRAY&&(l=a.length>n.length?new Array(a.length):new Array(n.length),l=l.fill(0,0),l=l.map((a,n)=>n),l=new Set(l)),l}(n,r,p).values();let i=l.next().value;for(;null!=i;)a(n[i],r[i],s,m.concat(i),S),i=l.next().value}else{const a=f(n,r,p,_);null!=a&&S.push(function(a,n,r,c,l){const s={op:r,path:c};return"add"!==r&&"update"!==r||(s.val=n),l&&"add"!==r&&(s.oldVal=a),s}(n,r,a,i,s))}return S}(a,n,r),applyDiff:(a,n,r)=>function(a,n,r){if(!(n instanceof Array))throw new Error(s.INVALID_DIFF_FORMAT);let c=a;return n.forEach(a=>{const{op:n,val:l,path:i}=a;if(!_[n])throw new Error(s.INVALID_DIFF_OP);c=_[n](c,i,l,r)}),c}(a,n,r)}},function(a,n){const r={NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",STRING:"STRING",NULL:"NULL",UNDEFINED:"UNDEFINED",DATE:"DATE",ARRAY:"ARRAY",MAP:"MAP",SET:"SET",ITERABLE_OBJECT:"ITERABLE_OBJECT",DEFAULT:"OBJECT"};a.exports={types:r,iterableTypes:[r.ITERABLE_OBJECT,r.MAP,r.ARRAY,r.SET],errors:{EMPTY_DIFF:"No diff object is provided, Nothing to apply",INVALID_DIFF_FORMAT:"Invalid diff format",INVALID_DIFF_OP:"Unsupported operation provided into diff object"}}},function(a,n){const r=a=>n=>n instanceof a,c=r(Date),l=r(Array),s=r(Map),i=r(Set),u=a=>"[object Object]"===Object.prototype.toString.call(a);a.exports={isNumber:a=>"number"==typeof a,isBoolean:a=>"boolean"==typeof a,isString:a=>"string"==typeof a,isDate:c,isUndefined:a=>void 0===a,isNull:a=>null===a,isArray:l,isMap:s,isSet:i,isIterableObject:u,noop:()=>{},areDatesEqual:(a,n)=>a.getTime()===n.getTime(),setValueByPath:function(a,n=[],r,c){if(!l(n))throw new Error(`Diff path: "${n}" is not valid`);const{length:s}=n;if(0===s)return r;let i=a;for(let l=0;l<s;l+=1){const u=n[l];if(!i)throw new Error(`Invalid path: "${n}" for object: ${JSON.stringify(a,null,2)}`);if(null==u)throw new Error(`Invalid path: "${n}" for object: ${JSON.stringify(a,null,2)}`);l!==s-1?(i=i[u],c&&c(i)):i[u]=r}return a},deleteValueByPath:function(a,n){const r=n||[];if(0===r.length)return;let c=a;const{length:l}=r;for(let s=0;s<l;s+=1)if(s!==l-1){if(!c[r[s]])throw new Error(`Invalid path: "${n}" for object: ${JSON.stringify(a,null,2)}`);c=c[r[s]]}else if(u(c))delete c[r[s]];else{const a=parseInt(r[s],10);for(;c.length>a;)c.pop()}return a}}}])},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.recursiveDiff=t():e.recursiveDiff=t(),ActiveCSS._removeClassObj=(a,n)=>{if(!a||!a.classList)return;let r=n.replace(".","").split(" ");a.classList.remove(...r)},ActiveCSS._removeObj=a=>{a&&a.remove()};const _replaceTempActiveID=a=>{a&&a.dataset&&a.dataset.activeid&&(a._acssActiveID=a.dataset.activeid,a.removeAttribute("data-activeid"),idMap[a._acssActiveID]=a)},_resolveURL=a=>{let n=document.location.href,r=history.state,c=document.title;history.replaceState(r,c,a);let l=document.location.href;return history.replaceState(r,c,n),l},_selCompare=(a,n)=>{let r,c,l,s=a.actVal._ACSSSpaceQuoIn();if("eM"==n){if(!s)return!0;if(s&&"__object"==s)return!1;r=s._ACSSSpaceQuoOut()}else r=s.split(" "),c=r.pop()._ACSSSpaceQuoOut()._ACSSRepQuo(),r=r.join(" ");switch(l=_getSel(a,r),l||(l=r),n){case"eM":case"maL":case"miL":let a;if(l&&l.nodeType&&l.nodeType==Node.ELEMENT_NODE){a=l[_getFieldValType(l)]}else a=l;switch(n){case"eM":return!a||""===a;case"maL":return a.length<=c;case"miL":return a.length>=c}break;case"iT":return!(!l||c!=l.innerText);case"iH":return!(!l||c!=l.innerHTML)}},_set=(a,n,r)=>Object(a)!==a?a:(Array.isArray(n)||(n=n.toString().match(/[^.[\]]+/g)||[]),n.slice(0,-1).reduce((a,r,c)=>Object(a[r])===a[r]?a[r]:a[r]=Math.abs(n[c+1])>>0==+n[c+1]?[]:{},a)[n[n.length-1]]=r,a),_setClassObj=(a,n)=>{a&&a.classList&&(a.className=n)},_setsrcObj=(a,n)=>{a&&(a.src=n)},_toggleClassObj=(a,n)=>{a&&a.classList&&a.classList.toggle(n)},_urlTitle=(a,n,r)=>{a=a.replace(/"/g,""),n=n.replace(/"/g,""),a=_resolveURL(a),window.location.href!=a&&window.history.pushState(a,n,a),document.title=n};String.prototype._ACSSCapitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype._ACSSCapitalizeAttr=function(){return this.replace(/(^|[\s-])\S/g,(function(a){return a.toUpperCase()}))},String.prototype._ACSSConvFunc=function(){return this._ACSSCapitalizeAttr().replace(/\-/g,"")},String.prototype._ACSSRepQuo=function(){var a=this.replace(/\\"/g,"_ACSS*%_");return a=(a=a.replace(/"/g,"")).replace(/_ACSS\*%_/g,'"')},String.prototype._ACSSSpaceQuoIn=function(){return this.replace(/"(.+?)"/g,(function(a,n){return n='"'+n.replace(/ /g,"_ACSS_space")+'"'}))},String.prototype._ACSSSpaceQuoOut=function(){return this.replace(/_ACSS_space/g," ")},document.head.attachShadow||(supportsShadow=!1,"isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(a,n){n=n||window;for(var r=0;r<this.length;r++)a.call(n,this[r],r,this)}),document.addEventListener("DOMContentLoaded",(function(a){setTimeout((function(){userSetupStarted||(autoStartInit=!0,ActiveCSS.init())}),0)}))}(window,document);